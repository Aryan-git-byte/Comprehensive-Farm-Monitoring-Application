(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var gc={exports:{}},vi={},yc={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=Symbol.for("react.element"),wf=Symbol.for("react.portal"),xf=Symbol.for("react.fragment"),kf=Symbol.for("react.strict_mode"),_f=Symbol.for("react.profiler"),Sf=Symbol.for("react.provider"),bf=Symbol.for("react.context"),jf=Symbol.for("react.forward_ref"),Ef=Symbol.for("react.suspense"),Nf=Symbol.for("react.memo"),Cf=Symbol.for("react.lazy"),Pl=Symbol.iterator;function Tf(t){return t===null||typeof t!="object"?null:(t=Pl&&t[Pl]||t["@@iterator"],typeof t=="function"?t:null)}var vc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wc=Object.assign,xc={};function tn(t,e,r){this.props=t,this.context=e,this.refs=xc,this.updater=r||vc}tn.prototype.isReactComponent={};tn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kc(){}kc.prototype=tn.prototype;function Pa(t,e,r){this.props=t,this.context=e,this.refs=xc,this.updater=r||vc}var Aa=Pa.prototype=new kc;Aa.constructor=Pa;wc(Aa,tn.prototype);Aa.isPureReactComponent=!0;var Al=Array.isArray,_c=Object.prototype.hasOwnProperty,Ra={current:null},Sc={key:!0,ref:!0,__self:!0,__source:!0};function bc(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)_c.call(e,n)&&!Sc.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:rs,type:t,key:i,ref:o,props:s,_owner:Ra.current}}function Pf(t,e){return{$$typeof:rs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ia(t){return typeof t=="object"&&t!==null&&t.$$typeof===rs}function Af(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Rl=/\/+/g;function Fi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Af(""+t.key):e.toString(36)}function As(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case rs:case wf:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Fi(o,0):n,Al(s)?(r="",t!=null&&(r=t.replace(Rl,"$&/")+"/"),As(s,e,r,"",function(c){return c})):s!=null&&(Ia(s)&&(s=Pf(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Rl,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Al(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+Fi(i,a);o+=As(i,e,r,l,s)}else if(l=Tf(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+Fi(i,a++),o+=As(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cs(t,e,r){if(t==null)return t;var n=[],s=0;return As(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Rf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ke={current:null},Rs={transition:null},If={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:Rs,ReactCurrentOwner:Ra};function jc(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:cs,forEach:function(t,e,r){cs(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return cs(t,function(){e++}),e},toArray:function(t){return cs(t,function(e){return e})||[]},only:function(t){if(!Ia(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};M.Component=tn;M.Fragment=xf;M.Profiler=_f;M.PureComponent=Pa;M.StrictMode=kf;M.Suspense=Ef;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=If;M.act=jc;M.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=wc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ra.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)_c.call(e,l)&&!Sc.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:rs,type:t.type,key:s,ref:i,props:n,_owner:o}};M.createContext=function(t){return t={$$typeof:bf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Sf,_context:t},t.Consumer=t};M.createElement=bc;M.createFactory=function(t){var e=bc.bind(null,t);return e.type=t,e};M.createRef=function(){return{current:null}};M.forwardRef=function(t){return{$$typeof:jf,render:t}};M.isValidElement=Ia;M.lazy=function(t){return{$$typeof:Cf,_payload:{_status:-1,_result:t},_init:Rf}};M.memo=function(t,e){return{$$typeof:Nf,type:t,compare:e===void 0?null:e}};M.startTransition=function(t){var e=Rs.transition;Rs.transition={};try{t()}finally{Rs.transition=e}};M.unstable_act=jc;M.useCallback=function(t,e){return ke.current.useCallback(t,e)};M.useContext=function(t){return ke.current.useContext(t)};M.useDebugValue=function(){};M.useDeferredValue=function(t){return ke.current.useDeferredValue(t)};M.useEffect=function(t,e){return ke.current.useEffect(t,e)};M.useId=function(){return ke.current.useId()};M.useImperativeHandle=function(t,e,r){return ke.current.useImperativeHandle(t,e,r)};M.useInsertionEffect=function(t,e){return ke.current.useInsertionEffect(t,e)};M.useLayoutEffect=function(t,e){return ke.current.useLayoutEffect(t,e)};M.useMemo=function(t,e){return ke.current.useMemo(t,e)};M.useReducer=function(t,e,r){return ke.current.useReducer(t,e,r)};M.useRef=function(t){return ke.current.useRef(t)};M.useState=function(t){return ke.current.useState(t)};M.useSyncExternalStore=function(t,e,r){return ke.current.useSyncExternalStore(t,e,r)};M.useTransition=function(){return ke.current.useTransition()};M.version="18.3.1";yc.exports=M;var N=yc.exports;const Of=yf(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Df=N,$f=Symbol.for("react.element"),Lf=Symbol.for("react.fragment"),Mf=Object.prototype.hasOwnProperty,Uf=Df.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zf={key:!0,ref:!0,__self:!0,__source:!0};function Ec(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Mf.call(e,n)&&!zf.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:$f,type:t,key:i,ref:o,props:s,_owner:Uf.current}}vi.Fragment=Lf;vi.jsx=Ec;vi.jsxs=Ec;gc.exports=vi;var u=gc.exports,Nc={exports:{}},$e={},Cc={exports:{}},Tc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,I){var $=T.length;T.push(I);e:for(;0<$;){var G=$-1>>>1,te=T[G];if(0<s(te,I))T[G]=I,T[$]=te,$=G;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var I=T[0],$=T.pop();if($!==I){T[0]=$;e:for(var G=0,te=T.length,wr=te>>>1;G<wr;){var ut=2*(G+1)-1,xr=T[ut],ct=ut+1,Xt=T[ct];if(0>s(xr,$))ct<te&&0>s(Xt,xr)?(T[G]=Xt,T[ct]=$,G=ct):(T[G]=xr,T[ut]=$,G=ut);else if(ct<te&&0>s(Xt,$))T[G]=Xt,T[ct]=$,G=ct;else break e}}return I}function s(T,I){var $=T.sortIndex-I.sortIndex;return $!==0?$:T.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,v=!1,y=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(T){for(var I=r(c);I!==null;){if(I.callback===null)n(c);else if(I.startTime<=T)n(c),I.sortIndex=I.expirationTime,e(l,I);else break;I=r(c)}}function w(T){if(x=!1,f(T),!y)if(r(l)!==null)y=!0,lt(k);else{var I=r(c);I!==null&&Yt(w,I.startTime-T)}}function k(T,I){y=!1,x&&(x=!1,m(C),C=-1),v=!0;var $=p;try{for(f(I),h=r(l);h!==null&&(!(h.expirationTime>I)||T&&!Se());){var G=h.callback;if(typeof G=="function"){h.callback=null,p=h.priorityLevel;var te=G(h.expirationTime<=I);I=t.unstable_now(),typeof te=="function"?h.callback=te:h===r(l)&&n(l),f(I)}else n(l);h=r(l)}if(h!==null)var wr=!0;else{var ut=r(c);ut!==null&&Yt(w,ut.startTime-I),wr=!1}return wr}finally{h=null,p=$,v=!1}}var S=!1,b=null,C=-1,R=5,A=-1;function Se(){return!(t.unstable_now()-A<R)}function Gt(){if(b!==null){var T=t.unstable_now();A=T;var I=!0;try{I=b(!0,T)}finally{I?Jt():(S=!1,b=null)}}else S=!1}var Jt;if(typeof g=="function")Jt=function(){g(Gt)};else if(typeof MessageChannel<"u"){var vr=new MessageChannel,us=vr.port2;vr.port1.onmessage=Gt,Jt=function(){us.postMessage(null)}}else Jt=function(){_(Gt,0)};function lt(T){b=T,S||(S=!0,Jt())}function Yt(T,I){C=_(function(){T(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,lt(k))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(T){switch(p){case 1:case 2:case 3:var I=3;break;default:I=p}var $=p;p=I;try{return T()}finally{p=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,I){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var $=p;p=T;try{return I()}finally{p=$}},t.unstable_scheduleCallback=function(T,I,$){var G=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?G+$:G):$=G,T){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=$+te,T={id:d++,callback:I,priorityLevel:T,startTime:$,expirationTime:te,sortIndex:-1},$>G?(T.sortIndex=$,e(c,T),r(l)===null&&T===r(c)&&(x?(m(C),C=-1):x=!0,Yt(w,$-G))):(T.sortIndex=te,e(l,T),y||v||(y=!0,lt(k))),T},t.unstable_shouldYield=Se,t.unstable_wrapCallback=function(T){var I=p;return function(){var $=p;p=I;try{return T.apply(this,arguments)}finally{p=$}}}})(Tc);Cc.exports=Tc;var Ff=Cc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf=N,De=Ff;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pc=new Set,Ln={};function mr(t,e){Qr(t,e),Qr(t+"Capture",e)}function Qr(t,e){for(Ln[t]=e,t=0;t<e.length;t++)Pc.add(e[t])}var wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bo=Object.prototype.hasOwnProperty,Bf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Il={},Ol={};function Hf(t){return bo.call(Ol,t)?!0:bo.call(Il,t)?!1:Bf.test(t)?Ol[t]=!0:(Il[t]=!0,!1)}function Vf(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qf(t,e,r,n){if(e===null||typeof e>"u"||Vf(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _e(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fe[t]=new _e(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fe[e]=new _e(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fe[t]=new _e(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fe[t]=new _e(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fe[t]=new _e(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fe[t]=new _e(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fe[t]=new _e(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fe[t]=new _e(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fe[t]=new _e(t,5,!1,t.toLowerCase(),null,!1,!1)});var Oa=/[\-:]([a-z])/g;function Da(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Oa,Da);fe[e]=new _e(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Oa,Da);fe[e]=new _e(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Oa,Da);fe[e]=new _e(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fe[t]=new _e(t,1,!1,t.toLowerCase(),null,!1,!1)});fe.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fe[t]=new _e(t,1,!1,t.toLowerCase(),null,!0,!0)});function $a(t,e,r,n){var s=fe.hasOwnProperty(e)?fe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qf(e,r,s,n)&&(r=null),n||s===null?Hf(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var St=Wf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ds=Symbol.for("react.element"),Tr=Symbol.for("react.portal"),Pr=Symbol.for("react.fragment"),La=Symbol.for("react.strict_mode"),jo=Symbol.for("react.profiler"),Ac=Symbol.for("react.provider"),Rc=Symbol.for("react.context"),Ma=Symbol.for("react.forward_ref"),Eo=Symbol.for("react.suspense"),No=Symbol.for("react.suspense_list"),Ua=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),Ic=Symbol.for("react.offscreen"),Dl=Symbol.iterator;function ln(t){return t===null||typeof t!="object"?null:(t=Dl&&t[Dl]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Object.assign,Wi;function yn(t){if(Wi===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Wi=e&&e[1]||""}return`
`+Wi+t}var Bi=!1;function Hi(t,e){if(!t||Bi)return"";Bi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Bi=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?yn(t):""}function Qf(t){switch(t.tag){case 5:return yn(t.type);case 16:return yn("Lazy");case 13:return yn("Suspense");case 19:return yn("SuspenseList");case 0:case 2:case 15:return t=Hi(t.type,!1),t;case 11:return t=Hi(t.type.render,!1),t;case 1:return t=Hi(t.type,!0),t;default:return""}}function Co(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pr:return"Fragment";case Tr:return"Portal";case jo:return"Profiler";case La:return"StrictMode";case Eo:return"Suspense";case No:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Rc:return(t.displayName||"Context")+".Consumer";case Ac:return(t._context.displayName||"Context")+".Provider";case Ma:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ua:return e=t.displayName||null,e!==null?e:Co(t.type)||"Memo";case Nt:e=t._payload,t=t._init;try{return Co(t(e))}catch{}}return null}function Kf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Co(e);case 8:return e===La?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Gf(t){var e=Oc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hs(t){t._valueTracker||(t._valueTracker=Gf(t))}function Dc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Oc(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Bs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function To(t,e){var r=e.checked;return Z({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function $l(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Wt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $c(t,e){e=e.checked,e!=null&&$a(t,"checked",e,!1)}function Po(t,e){$c(t,e);var r=Wt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ao(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ao(t,e.type,Wt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ll(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Ao(t,e,r){(e!=="number"||Bs(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var vn=Array.isArray;function Fr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Wt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ro(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return Z({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ml(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(j(92));if(vn(r)){if(1<r.length)throw Error(j(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Wt(r)}}function Lc(t,e){var r=Wt(e.value),n=Wt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Ul(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Mc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Io(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Mc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fs,Uc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fs=fs||document.createElement("div"),fs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var _n={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jf=["Webkit","ms","Moz","O"];Object.keys(_n).forEach(function(t){Jf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_n[e]=_n[t]})});function zc(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||_n.hasOwnProperty(t)&&_n[t]?(""+e).trim():e+"px"}function Fc(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=zc(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Yf=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oo(t,e){if(e){if(Yf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Do(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $o=null;function za(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lo=null,Wr=null,Br=null;function zl(t){if(t=is(t)){if(typeof Lo!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Si(e),Lo(t.stateNode,t.type,e))}}function Wc(t){Wr?Br?Br.push(t):Br=[t]:Wr=t}function Bc(){if(Wr){var t=Wr,e=Br;if(Br=Wr=null,zl(t),e)for(t=0;t<e.length;t++)zl(e[t])}}function Hc(t,e){return t(e)}function Vc(){}var Vi=!1;function qc(t,e,r){if(Vi)return t(e,r);Vi=!0;try{return Hc(t,e,r)}finally{Vi=!1,(Wr!==null||Br!==null)&&(Vc(),Bc())}}function Un(t,e){var r=t.stateNode;if(r===null)return null;var n=Si(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(j(231,e,typeof r));return r}var Mo=!1;if(wt)try{var un={};Object.defineProperty(un,"passive",{get:function(){Mo=!0}}),window.addEventListener("test",un,un),window.removeEventListener("test",un,un)}catch{Mo=!1}function Xf(t,e,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var Sn=!1,Hs=null,Vs=!1,Uo=null,Zf={onError:function(t){Sn=!0,Hs=t}};function ep(t,e,r,n,s,i,o,a,l){Sn=!1,Hs=null,Xf.apply(Zf,arguments)}function tp(t,e,r,n,s,i,o,a,l){if(ep.apply(this,arguments),Sn){if(Sn){var c=Hs;Sn=!1,Hs=null}else throw Error(j(198));Vs||(Vs=!0,Uo=c)}}function gr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Qc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fl(t){if(gr(t)!==t)throw Error(j(188))}function rp(t){var e=t.alternate;if(!e){if(e=gr(t),e===null)throw Error(j(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Fl(s),t;if(i===n)return Fl(s),e;i=i.sibling}throw Error(j(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(j(189))}}if(r.alternate!==n)throw Error(j(190))}if(r.tag!==3)throw Error(j(188));return r.stateNode.current===r?t:e}function Kc(t){return t=rp(t),t!==null?Gc(t):null}function Gc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Gc(t);if(e!==null)return e;t=t.sibling}return null}var Jc=De.unstable_scheduleCallback,Wl=De.unstable_cancelCallback,np=De.unstable_shouldYield,sp=De.unstable_requestPaint,re=De.unstable_now,ip=De.unstable_getCurrentPriorityLevel,Fa=De.unstable_ImmediatePriority,Yc=De.unstable_UserBlockingPriority,qs=De.unstable_NormalPriority,op=De.unstable_LowPriority,Xc=De.unstable_IdlePriority,wi=null,ot=null;function ap(t){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(wi,t,void 0,(t.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:cp,lp=Math.log,up=Math.LN2;function cp(t){return t>>>=0,t===0?32:31-(lp(t)/up|0)|0}var ps=64,ms=4194304;function wn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qs(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=wn(a):(i&=o,i!==0&&(n=wn(i)))}else o=r&~s,o!==0?n=wn(o):i!==0&&(n=wn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Xe(e),s=1<<r,n|=t[r],e&=~s;return n}function dp(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hp(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Xe(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=dp(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function zo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Zc(){var t=ps;return ps<<=1,!(ps&4194240)&&(ps=64),t}function qi(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ns(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xe(e),t[e]=r}function fp(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Xe(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Wa(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Xe(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var W=0;function ed(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var td,Ba,rd,nd,sd,Fo=!1,gs=[],Ot=null,Dt=null,$t=null,zn=new Map,Fn=new Map,Tt=[],pp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bl(t,e){switch(t){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":$t=null;break;case"pointerover":case"pointerout":zn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fn.delete(e.pointerId)}}function cn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=is(e),e!==null&&Ba(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function mp(t,e,r,n,s){switch(e){case"focusin":return Ot=cn(Ot,t,e,r,n,s),!0;case"dragenter":return Dt=cn(Dt,t,e,r,n,s),!0;case"mouseover":return $t=cn($t,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return zn.set(i,cn(zn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Fn.set(i,cn(Fn.get(i)||null,t,e,r,n,s)),!0}return!1}function id(t){var e=ir(t.target);if(e!==null){var r=gr(e);if(r!==null){if(e=r.tag,e===13){if(e=Qc(r),e!==null){t.blockedOn=e,sd(t.priority,function(){rd(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Is(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Wo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);$o=n,r.target.dispatchEvent(n),$o=null}else return e=is(r),e!==null&&Ba(e),t.blockedOn=r,!1;e.shift()}return!0}function Hl(t,e,r){Is(t)&&r.delete(e)}function gp(){Fo=!1,Ot!==null&&Is(Ot)&&(Ot=null),Dt!==null&&Is(Dt)&&(Dt=null),$t!==null&&Is($t)&&($t=null),zn.forEach(Hl),Fn.forEach(Hl)}function dn(t,e){t.blockedOn===e&&(t.blockedOn=null,Fo||(Fo=!0,De.unstable_scheduleCallback(De.unstable_NormalPriority,gp)))}function Wn(t){function e(s){return dn(s,t)}if(0<gs.length){dn(gs[0],t);for(var r=1;r<gs.length;r++){var n=gs[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ot!==null&&dn(Ot,t),Dt!==null&&dn(Dt,t),$t!==null&&dn($t,t),zn.forEach(e),Fn.forEach(e),r=0;r<Tt.length;r++)n=Tt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Tt.length&&(r=Tt[0],r.blockedOn===null);)id(r),r.blockedOn===null&&Tt.shift()}var Hr=St.ReactCurrentBatchConfig,Ks=!0;function yp(t,e,r,n){var s=W,i=Hr.transition;Hr.transition=null;try{W=1,Ha(t,e,r,n)}finally{W=s,Hr.transition=i}}function vp(t,e,r,n){var s=W,i=Hr.transition;Hr.transition=null;try{W=4,Ha(t,e,r,n)}finally{W=s,Hr.transition=i}}function Ha(t,e,r,n){if(Ks){var s=Wo(t,e,r,n);if(s===null)ro(t,e,n,Gs,r),Bl(t,n);else if(mp(s,t,e,r,n))n.stopPropagation();else if(Bl(t,n),e&4&&-1<pp.indexOf(t)){for(;s!==null;){var i=is(s);if(i!==null&&td(i),i=Wo(t,e,r,n),i===null&&ro(t,e,n,Gs,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ro(t,e,n,null,r)}}var Gs=null;function Wo(t,e,r,n){if(Gs=null,t=za(n),t=ir(t),t!==null)if(e=gr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Qc(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gs=t,null}function od(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ip()){case Fa:return 1;case Yc:return 4;case qs:case op:return 16;case Xc:return 536870912;default:return 16}default:return 16}}var Rt=null,Va=null,Os=null;function ad(){if(Os)return Os;var t,e=Va,r=e.length,n,s="value"in Rt?Rt.value:Rt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Os=s.slice(t,1<n?1-n:void 0)}function Ds(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ys(){return!0}function Vl(){return!1}function Le(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ys:Vl,this.isPropagationStopped=Vl,this}return Z(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ys)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ys)},persist:function(){},isPersistent:ys}),e}var rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qa=Le(rn),ss=Z({},rn,{view:0,detail:0}),wp=Le(ss),Qi,Ki,hn,xi=Z({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hn&&(hn&&t.type==="mousemove"?(Qi=t.screenX-hn.screenX,Ki=t.screenY-hn.screenY):Ki=Qi=0,hn=t),Qi)},movementY:function(t){return"movementY"in t?t.movementY:Ki}}),ql=Le(xi),xp=Z({},xi,{dataTransfer:0}),kp=Le(xp),_p=Z({},ss,{relatedTarget:0}),Gi=Le(_p),Sp=Z({},rn,{animationName:0,elapsedTime:0,pseudoElement:0}),bp=Le(Sp),jp=Z({},rn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ep=Le(jp),Np=Z({},rn,{data:0}),Ql=Le(Np),Cp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ap(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Pp[t])?!!e[t]:!1}function Qa(){return Ap}var Rp=Z({},ss,{key:function(t){if(t.key){var e=Cp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ds(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qa,charCode:function(t){return t.type==="keypress"?Ds(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ds(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ip=Le(Rp),Op=Z({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kl=Le(Op),Dp=Z({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qa}),$p=Le(Dp),Lp=Z({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mp=Le(Lp),Up=Z({},xi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zp=Le(Up),Fp=[9,13,27,32],Ka=wt&&"CompositionEvent"in window,bn=null;wt&&"documentMode"in document&&(bn=document.documentMode);var Wp=wt&&"TextEvent"in window&&!bn,ld=wt&&(!Ka||bn&&8<bn&&11>=bn),Gl=" ",Jl=!1;function ud(t,e){switch(t){case"keyup":return Fp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ar=!1;function Bp(t,e){switch(t){case"compositionend":return cd(e);case"keypress":return e.which!==32?null:(Jl=!0,Gl);case"textInput":return t=e.data,t===Gl&&Jl?null:t;default:return null}}function Hp(t,e){if(Ar)return t==="compositionend"||!Ka&&ud(t,e)?(t=ad(),Os=Va=Rt=null,Ar=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ld&&e.locale!=="ko"?null:e.data;default:return null}}var Vp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Vp[t.type]:e==="textarea"}function dd(t,e,r,n){Wc(n),e=Js(e,"onChange"),0<e.length&&(r=new qa("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var jn=null,Bn=null;function qp(t){_d(t,0)}function ki(t){var e=Or(t);if(Dc(e))return t}function Qp(t,e){if(t==="change")return e}var hd=!1;if(wt){var Ji;if(wt){var Yi="oninput"in document;if(!Yi){var Xl=document.createElement("div");Xl.setAttribute("oninput","return;"),Yi=typeof Xl.oninput=="function"}Ji=Yi}else Ji=!1;hd=Ji&&(!document.documentMode||9<document.documentMode)}function Zl(){jn&&(jn.detachEvent("onpropertychange",fd),Bn=jn=null)}function fd(t){if(t.propertyName==="value"&&ki(Bn)){var e=[];dd(e,Bn,t,za(t)),qc(qp,e)}}function Kp(t,e,r){t==="focusin"?(Zl(),jn=e,Bn=r,jn.attachEvent("onpropertychange",fd)):t==="focusout"&&Zl()}function Gp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ki(Bn)}function Jp(t,e){if(t==="click")return ki(e)}function Yp(t,e){if(t==="input"||t==="change")return ki(e)}function Xp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var et=typeof Object.is=="function"?Object.is:Xp;function Hn(t,e){if(et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!bo.call(e,s)||!et(t[s],e[s]))return!1}return!0}function eu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tu(t,e){var r=eu(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=eu(r)}}function pd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function md(){for(var t=window,e=Bs();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Bs(t.document)}return e}function Ga(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Zp(t){var e=md(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&pd(r.ownerDocument.documentElement,r)){if(n!==null&&Ga(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=tu(r,i);var o=tu(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var em=wt&&"documentMode"in document&&11>=document.documentMode,Rr=null,Bo=null,En=null,Ho=!1;function ru(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ho||Rr==null||Rr!==Bs(n)||(n=Rr,"selectionStart"in n&&Ga(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),En&&Hn(En,n)||(En=n,n=Js(Bo,"onSelect"),0<n.length&&(e=new qa("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Rr)))}function vs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ir={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionend:vs("Transition","TransitionEnd")},Xi={},gd={};wt&&(gd=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function _i(t){if(Xi[t])return Xi[t];if(!Ir[t])return t;var e=Ir[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in gd)return Xi[t]=e[r];return t}var yd=_i("animationend"),vd=_i("animationiteration"),wd=_i("animationstart"),xd=_i("transitionend"),kd=new Map,nu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ht(t,e){kd.set(t,e),mr(e,[t])}for(var Zi=0;Zi<nu.length;Zi++){var eo=nu[Zi],tm=eo.toLowerCase(),rm=eo[0].toUpperCase()+eo.slice(1);Ht(tm,"on"+rm)}Ht(yd,"onAnimationEnd");Ht(vd,"onAnimationIteration");Ht(wd,"onAnimationStart");Ht("dblclick","onDoubleClick");Ht("focusin","onFocus");Ht("focusout","onBlur");Ht(xd,"onTransitionEnd");Qr("onMouseEnter",["mouseout","mouseover"]);Qr("onMouseLeave",["mouseout","mouseover"]);Qr("onPointerEnter",["pointerout","pointerover"]);Qr("onPointerLeave",["pointerout","pointerover"]);mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mr("onBeforeInput",["compositionend","keypress","textInput","paste"]);mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nm=new Set("cancel close invalid load scroll toggle".split(" ").concat(xn));function su(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,tp(n,e,void 0,t),t.currentTarget=null}function _d(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;su(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;su(s,a,c),i=l}}}if(Vs)throw t=Uo,Vs=!1,Uo=null,t}function Q(t,e){var r=e[Go];r===void 0&&(r=e[Go]=new Set);var n=t+"__bubble";r.has(n)||(Sd(e,t,2,!1),r.add(n))}function to(t,e,r){var n=0;e&&(n|=4),Sd(r,t,n,e)}var ws="_reactListening"+Math.random().toString(36).slice(2);function Vn(t){if(!t[ws]){t[ws]=!0,Pc.forEach(function(r){r!=="selectionchange"&&(nm.has(r)||to(r,!1,t),to(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ws]||(e[ws]=!0,to("selectionchange",!1,e))}}function Sd(t,e,r,n){switch(od(e)){case 1:var s=yp;break;case 4:s=vp;break;default:s=Ha}r=s.bind(null,e,r,t),s=void 0,!Mo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function ro(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ir(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}qc(function(){var c=i,d=za(r),h=[];e:{var p=kd.get(t);if(p!==void 0){var v=qa,y=t;switch(t){case"keypress":if(Ds(r)===0)break e;case"keydown":case"keyup":v=Ip;break;case"focusin":y="focus",v=Gi;break;case"focusout":y="blur",v=Gi;break;case"beforeblur":case"afterblur":v=Gi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=kp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=$p;break;case yd:case vd:case wd:v=bp;break;case xd:v=Mp;break;case"scroll":v=wp;break;case"wheel":v=zp;break;case"copy":case"cut":case"paste":v=Ep;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Kl}var x=(e&4)!==0,_=!x&&t==="scroll",m=x?p!==null?p+"Capture":null:p;x=[];for(var g=c,f;g!==null;){f=g;var w=f.stateNode;if(f.tag===5&&w!==null&&(f=w,m!==null&&(w=Un(g,m),w!=null&&x.push(qn(g,w,f)))),_)break;g=g.return}0<x.length&&(p=new v(p,y,null,r,d),h.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&r!==$o&&(y=r.relatedTarget||r.fromElement)&&(ir(y)||y[xt]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=c,y=y?ir(y):null,y!==null&&(_=gr(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(x=ql,w="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(x=Kl,w="onPointerLeave",m="onPointerEnter",g="pointer"),_=v==null?p:Or(v),f=y==null?p:Or(y),p=new x(w,g+"leave",v,r,d),p.target=_,p.relatedTarget=f,w=null,ir(d)===c&&(x=new x(m,g+"enter",y,r,d),x.target=f,x.relatedTarget=_,w=x),_=w,v&&y)t:{for(x=v,m=y,g=0,f=x;f;f=kr(f))g++;for(f=0,w=m;w;w=kr(w))f++;for(;0<g-f;)x=kr(x),g--;for(;0<f-g;)m=kr(m),f--;for(;g--;){if(x===m||m!==null&&x===m.alternate)break t;x=kr(x),m=kr(m)}x=null}else x=null;v!==null&&iu(h,p,v,x,!1),y!==null&&_!==null&&iu(h,_,y,x,!0)}}e:{if(p=c?Or(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var k=Qp;else if(Yl(p))if(hd)k=Yp;else{k=Gp;var S=Kp}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=Jp);if(k&&(k=k(t,c))){dd(h,k,r,d);break e}S&&S(t,p,c),t==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&Ao(p,"number",p.value)}switch(S=c?Or(c):window,t){case"focusin":(Yl(S)||S.contentEditable==="true")&&(Rr=S,Bo=c,En=null);break;case"focusout":En=Bo=Rr=null;break;case"mousedown":Ho=!0;break;case"contextmenu":case"mouseup":case"dragend":Ho=!1,ru(h,r,d);break;case"selectionchange":if(em)break;case"keydown":case"keyup":ru(h,r,d)}var b;if(Ka)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ar?ud(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(ld&&r.locale!=="ko"&&(Ar||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ar&&(b=ad()):(Rt=d,Va="value"in Rt?Rt.value:Rt.textContent,Ar=!0)),S=Js(c,C),0<S.length&&(C=new Ql(C,t,null,r,d),h.push({event:C,listeners:S}),b?C.data=b:(b=cd(r),b!==null&&(C.data=b)))),(b=Wp?Bp(t,r):Hp(t,r))&&(c=Js(c,"onBeforeInput"),0<c.length&&(d=new Ql("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=b))}_d(h,e)})}function qn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Js(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Un(t,r),i!=null&&n.unshift(qn(t,i,s)),i=Un(t,e),i!=null&&n.push(qn(t,i,s))),t=t.return}return n}function kr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function iu(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=Un(r,i),l!=null&&o.unshift(qn(r,l,a))):s||(l=Un(r,i),l!=null&&o.push(qn(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var sm=/\r\n?/g,im=/\u0000|\uFFFD/g;function ou(t){return(typeof t=="string"?t:""+t).replace(sm,`
`).replace(im,"")}function xs(t,e,r){if(e=ou(e),ou(t)!==e&&r)throw Error(j(425))}function Ys(){}var Vo=null,qo=null;function Qo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ko=typeof setTimeout=="function"?setTimeout:void 0,om=typeof clearTimeout=="function"?clearTimeout:void 0,au=typeof Promise=="function"?Promise:void 0,am=typeof queueMicrotask=="function"?queueMicrotask:typeof au<"u"?function(t){return au.resolve(null).then(t).catch(lm)}:Ko;function lm(t){setTimeout(function(){throw t})}function no(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Wn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Wn(e)}function Lt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function lu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var nn=Math.random().toString(36).slice(2),it="__reactFiber$"+nn,Qn="__reactProps$"+nn,xt="__reactContainer$"+nn,Go="__reactEvents$"+nn,um="__reactListeners$"+nn,cm="__reactHandles$"+nn;function ir(t){var e=t[it];if(e)return e;for(var r=t.parentNode;r;){if(e=r[xt]||r[it]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=lu(t);t!==null;){if(r=t[it])return r;t=lu(t)}return e}t=r,r=t.parentNode}return null}function is(t){return t=t[it]||t[xt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Or(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Si(t){return t[Qn]||null}var Jo=[],Dr=-1;function Vt(t){return{current:t}}function K(t){0>Dr||(t.current=Jo[Dr],Jo[Dr]=null,Dr--)}function q(t,e){Dr++,Jo[Dr]=t.current,t.current=e}var Bt={},ve=Vt(Bt),Te=Vt(!1),cr=Bt;function Kr(t,e){var r=t.type.contextTypes;if(!r)return Bt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Pe(t){return t=t.childContextTypes,t!=null}function Xs(){K(Te),K(ve)}function uu(t,e,r){if(ve.current!==Bt)throw Error(j(168));q(ve,e),q(Te,r)}function bd(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(j(108,Kf(t)||"Unknown",s));return Z({},r,n)}function Zs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bt,cr=ve.current,q(ve,t),q(Te,Te.current),!0}function cu(t,e,r){var n=t.stateNode;if(!n)throw Error(j(169));r?(t=bd(t,e,cr),n.__reactInternalMemoizedMergedChildContext=t,K(Te),K(ve),q(ve,t)):K(Te),q(Te,r)}var mt=null,bi=!1,so=!1;function jd(t){mt===null?mt=[t]:mt.push(t)}function dm(t){bi=!0,jd(t)}function qt(){if(!so&&mt!==null){so=!0;var t=0,e=W;try{var r=mt;for(W=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}mt=null,bi=!1}catch(s){throw mt!==null&&(mt=mt.slice(t+1)),Jc(Fa,qt),s}finally{W=e,so=!1}}return null}var $r=[],Lr=0,ei=null,ti=0,Me=[],Ue=0,dr=null,gt=1,yt="";function tr(t,e){$r[Lr++]=ti,$r[Lr++]=ei,ei=t,ti=e}function Ed(t,e,r){Me[Ue++]=gt,Me[Ue++]=yt,Me[Ue++]=dr,dr=t;var n=gt;t=yt;var s=32-Xe(n)-1;n&=~(1<<s),r+=1;var i=32-Xe(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,gt=1<<32-Xe(e)+s|r<<s|n,yt=i+t}else gt=1<<i|r<<s|n,yt=t}function Ja(t){t.return!==null&&(tr(t,1),Ed(t,1,0))}function Ya(t){for(;t===ei;)ei=$r[--Lr],$r[Lr]=null,ti=$r[--Lr],$r[Lr]=null;for(;t===dr;)dr=Me[--Ue],Me[Ue]=null,yt=Me[--Ue],Me[Ue]=null,gt=Me[--Ue],Me[Ue]=null}var Oe=null,Ie=null,J=!1,Ye=null;function Nd(t,e){var r=Fe(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function du(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Oe=t,Ie=Lt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Oe=t,Ie=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=dr!==null?{id:gt,overflow:yt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Fe(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Oe=t,Ie=null,!0):!1;default:return!1}}function Yo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xo(t){if(J){var e=Ie;if(e){var r=e;if(!du(t,e)){if(Yo(t))throw Error(j(418));e=Lt(r.nextSibling);var n=Oe;e&&du(t,e)?Nd(n,r):(t.flags=t.flags&-4097|2,J=!1,Oe=t)}}else{if(Yo(t))throw Error(j(418));t.flags=t.flags&-4097|2,J=!1,Oe=t}}}function hu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Oe=t}function ks(t){if(t!==Oe)return!1;if(!J)return hu(t),J=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qo(t.type,t.memoizedProps)),e&&(e=Ie)){if(Yo(t))throw Cd(),Error(j(418));for(;e;)Nd(t,e),e=Lt(e.nextSibling)}if(hu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ie=Lt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ie=null}}else Ie=Oe?Lt(t.stateNode.nextSibling):null;return!0}function Cd(){for(var t=Ie;t;)t=Lt(t.nextSibling)}function Gr(){Ie=Oe=null,J=!1}function Xa(t){Ye===null?Ye=[t]:Ye.push(t)}var hm=St.ReactCurrentBatchConfig;function fn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(j(309));var n=r.stateNode}if(!n)throw Error(j(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(j(284));if(!r._owner)throw Error(j(290,t))}return t}function _s(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fu(t){var e=t._init;return e(t._payload)}function Td(t){function e(m,g){if(t){var f=m.deletions;f===null?(m.deletions=[g],m.flags|=16):f.push(g)}}function r(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function n(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function s(m,g){return m=Ft(m,g),m.index=0,m.sibling=null,m}function i(m,g,f){return m.index=f,t?(f=m.alternate,f!==null?(f=f.index,f<g?(m.flags|=2,g):f):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,g,f,w){return g===null||g.tag!==6?(g=ho(f,m.mode,w),g.return=m,g):(g=s(g,f),g.return=m,g)}function l(m,g,f,w){var k=f.type;return k===Pr?d(m,g,f.props.children,w,f.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Nt&&fu(k)===g.type)?(w=s(g,f.props),w.ref=fn(m,g,f),w.return=m,w):(w=Ws(f.type,f.key,f.props,null,m.mode,w),w.ref=fn(m,g,f),w.return=m,w)}function c(m,g,f,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==f.containerInfo||g.stateNode.implementation!==f.implementation?(g=fo(f,m.mode,w),g.return=m,g):(g=s(g,f.children||[]),g.return=m,g)}function d(m,g,f,w,k){return g===null||g.tag!==7?(g=ur(f,m.mode,w,k),g.return=m,g):(g=s(g,f),g.return=m,g)}function h(m,g,f){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ho(""+g,m.mode,f),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ds:return f=Ws(g.type,g.key,g.props,null,m.mode,f),f.ref=fn(m,null,g),f.return=m,f;case Tr:return g=fo(g,m.mode,f),g.return=m,g;case Nt:var w=g._init;return h(m,w(g._payload),f)}if(vn(g)||ln(g))return g=ur(g,m.mode,f,null),g.return=m,g;_s(m,g)}return null}function p(m,g,f,w){var k=g!==null?g.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return k!==null?null:a(m,g,""+f,w);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ds:return f.key===k?l(m,g,f,w):null;case Tr:return f.key===k?c(m,g,f,w):null;case Nt:return k=f._init,p(m,g,k(f._payload),w)}if(vn(f)||ln(f))return k!==null?null:d(m,g,f,w,null);_s(m,f)}return null}function v(m,g,f,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(f)||null,a(g,m,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ds:return m=m.get(w.key===null?f:w.key)||null,l(g,m,w,k);case Tr:return m=m.get(w.key===null?f:w.key)||null,c(g,m,w,k);case Nt:var S=w._init;return v(m,g,f,S(w._payload),k)}if(vn(w)||ln(w))return m=m.get(f)||null,d(g,m,w,k,null);_s(g,w)}return null}function y(m,g,f,w){for(var k=null,S=null,b=g,C=g=0,R=null;b!==null&&C<f.length;C++){b.index>C?(R=b,b=null):R=b.sibling;var A=p(m,b,f[C],w);if(A===null){b===null&&(b=R);break}t&&b&&A.alternate===null&&e(m,b),g=i(A,g,C),S===null?k=A:S.sibling=A,S=A,b=R}if(C===f.length)return r(m,b),J&&tr(m,C),k;if(b===null){for(;C<f.length;C++)b=h(m,f[C],w),b!==null&&(g=i(b,g,C),S===null?k=b:S.sibling=b,S=b);return J&&tr(m,C),k}for(b=n(m,b);C<f.length;C++)R=v(b,m,C,f[C],w),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?C:R.key),g=i(R,g,C),S===null?k=R:S.sibling=R,S=R);return t&&b.forEach(function(Se){return e(m,Se)}),J&&tr(m,C),k}function x(m,g,f,w){var k=ln(f);if(typeof k!="function")throw Error(j(150));if(f=k.call(f),f==null)throw Error(j(151));for(var S=k=null,b=g,C=g=0,R=null,A=f.next();b!==null&&!A.done;C++,A=f.next()){b.index>C?(R=b,b=null):R=b.sibling;var Se=p(m,b,A.value,w);if(Se===null){b===null&&(b=R);break}t&&b&&Se.alternate===null&&e(m,b),g=i(Se,g,C),S===null?k=Se:S.sibling=Se,S=Se,b=R}if(A.done)return r(m,b),J&&tr(m,C),k;if(b===null){for(;!A.done;C++,A=f.next())A=h(m,A.value,w),A!==null&&(g=i(A,g,C),S===null?k=A:S.sibling=A,S=A);return J&&tr(m,C),k}for(b=n(m,b);!A.done;C++,A=f.next())A=v(b,m,C,A.value,w),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?C:A.key),g=i(A,g,C),S===null?k=A:S.sibling=A,S=A);return t&&b.forEach(function(Gt){return e(m,Gt)}),J&&tr(m,C),k}function _(m,g,f,w){if(typeof f=="object"&&f!==null&&f.type===Pr&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case ds:e:{for(var k=f.key,S=g;S!==null;){if(S.key===k){if(k=f.type,k===Pr){if(S.tag===7){r(m,S.sibling),g=s(S,f.props.children),g.return=m,m=g;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Nt&&fu(k)===S.type){r(m,S.sibling),g=s(S,f.props),g.ref=fn(m,S,f),g.return=m,m=g;break e}r(m,S);break}else e(m,S);S=S.sibling}f.type===Pr?(g=ur(f.props.children,m.mode,w,f.key),g.return=m,m=g):(w=Ws(f.type,f.key,f.props,null,m.mode,w),w.ref=fn(m,g,f),w.return=m,m=w)}return o(m);case Tr:e:{for(S=f.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===f.containerInfo&&g.stateNode.implementation===f.implementation){r(m,g.sibling),g=s(g,f.children||[]),g.return=m,m=g;break e}else{r(m,g);break}else e(m,g);g=g.sibling}g=fo(f,m.mode,w),g.return=m,m=g}return o(m);case Nt:return S=f._init,_(m,g,S(f._payload),w)}if(vn(f))return y(m,g,f,w);if(ln(f))return x(m,g,f,w);_s(m,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,g!==null&&g.tag===6?(r(m,g.sibling),g=s(g,f),g.return=m,m=g):(r(m,g),g=ho(f,m.mode,w),g.return=m,m=g),o(m)):r(m,g)}return _}var Jr=Td(!0),Pd=Td(!1),ri=Vt(null),ni=null,Mr=null,Za=null;function el(){Za=Mr=ni=null}function tl(t){var e=ri.current;K(ri),t._currentValue=e}function Zo(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Vr(t,e){ni=t,Za=Mr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ce=!0),t.firstContext=null)}function He(t){var e=t._currentValue;if(Za!==t)if(t={context:t,memoizedValue:e,next:null},Mr===null){if(ni===null)throw Error(j(308));Mr=t,ni.dependencies={lanes:0,firstContext:t}}else Mr=Mr.next=t;return e}var or=null;function rl(t){or===null?or=[t]:or.push(t)}function Ad(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,rl(e)):(r.next=s.next,s.next=r),e.interleaved=r,kt(t,n)}function kt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ct=!1;function nl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,z&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,kt(t,r)}return s=n.interleaved,s===null?(e.next=e,rl(n)):(e.next=s.next,s.next=e),n.interleaved=e,kt(t,r)}function $s(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Wa(t,r)}}function pu(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function si(t,e,r,n){var s=t.updateQueue;Ct=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,v=a.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,x=a;switch(p=e,v=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(v,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,p=typeof y=="function"?y.call(v,h,p):y,p==null)break e;h=Z({},h,p);break e;case 2:Ct=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,l=h):d=d.next=v,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);fr|=o,t.lanes=o,t.memoizedState=h}}function mu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(j(191,s));s.call(n)}}}var os={},at=Vt(os),Kn=Vt(os),Gn=Vt(os);function ar(t){if(t===os)throw Error(j(174));return t}function sl(t,e){switch(q(Gn,e),q(Kn,t),q(at,os),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Io(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Io(e,t)}K(at),q(at,e)}function Yr(){K(at),K(Kn),K(Gn)}function Id(t){ar(Gn.current);var e=ar(at.current),r=Io(e,t.type);e!==r&&(q(Kn,t),q(at,r))}function il(t){Kn.current===t&&(K(at),K(Kn))}var Y=Vt(0);function ii(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var io=[];function ol(){for(var t=0;t<io.length;t++)io[t]._workInProgressVersionPrimary=null;io.length=0}var Ls=St.ReactCurrentDispatcher,oo=St.ReactCurrentBatchConfig,hr=0,X=null,ie=null,le=null,oi=!1,Nn=!1,Jn=0,fm=0;function me(){throw Error(j(321))}function al(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!et(t[r],e[r]))return!1;return!0}function ll(t,e,r,n,s,i){if(hr=i,X=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ls.current=t===null||t.memoizedState===null?ym:vm,t=r(n,s),Nn){i=0;do{if(Nn=!1,Jn=0,25<=i)throw Error(j(301));i+=1,le=ie=null,e.updateQueue=null,Ls.current=wm,t=r(n,s)}while(Nn)}if(Ls.current=ai,e=ie!==null&&ie.next!==null,hr=0,le=ie=X=null,oi=!1,e)throw Error(j(300));return t}function ul(){var t=Jn!==0;return Jn=0,t}function st(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?X.memoizedState=le=t:le=le.next=t,le}function Ve(){if(ie===null){var t=X.alternate;t=t!==null?t.memoizedState:null}else t=ie.next;var e=le===null?X.memoizedState:le.next;if(e!==null)le=e,ie=t;else{if(t===null)throw Error(j(310));ie=t,t={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},le===null?X.memoizedState=le=t:le=le.next=t}return le}function Yn(t,e){return typeof e=="function"?e(t):e}function ao(t){var e=Ve(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=ie,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((hr&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,X.lanes|=d,fr|=d}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,et(n,e.memoizedState)||(Ce=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,X.lanes|=i,fr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function lo(t){var e=Ve(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);et(i,e.memoizedState)||(Ce=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Od(){}function Dd(t,e){var r=X,n=Ve(),s=e(),i=!et(n.memoizedState,s);if(i&&(n.memoizedState=s,Ce=!0),n=n.queue,cl(Md.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||le!==null&&le.memoizedState.tag&1){if(r.flags|=2048,Xn(9,Ld.bind(null,r,n,s,e),void 0,null),ue===null)throw Error(j(349));hr&30||$d(r,e,s)}return s}function $d(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Ld(t,e,r,n){e.value=r,e.getSnapshot=n,Ud(e)&&zd(t)}function Md(t,e,r){return r(function(){Ud(e)&&zd(t)})}function Ud(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!et(t,r)}catch{return!0}}function zd(t){var e=kt(t,1);e!==null&&Ze(e,t,1,-1)}function gu(t){var e=st();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:t},e.queue=t,t=t.dispatch=gm.bind(null,X,t),[e.memoizedState,t]}function Xn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Fd(){return Ve().memoizedState}function Ms(t,e,r,n){var s=st();X.flags|=t,s.memoizedState=Xn(1|e,r,void 0,n===void 0?null:n)}function ji(t,e,r,n){var s=Ve();n=n===void 0?null:n;var i=void 0;if(ie!==null){var o=ie.memoizedState;if(i=o.destroy,n!==null&&al(n,o.deps)){s.memoizedState=Xn(e,r,i,n);return}}X.flags|=t,s.memoizedState=Xn(1|e,r,i,n)}function yu(t,e){return Ms(8390656,8,t,e)}function cl(t,e){return ji(2048,8,t,e)}function Wd(t,e){return ji(4,2,t,e)}function Bd(t,e){return ji(4,4,t,e)}function Hd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Vd(t,e,r){return r=r!=null?r.concat([t]):null,ji(4,4,Hd.bind(null,e,t),r)}function dl(){}function qd(t,e){var r=Ve();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&al(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Qd(t,e){var r=Ve();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&al(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Kd(t,e,r){return hr&21?(et(r,e)||(r=Zc(),X.lanes|=r,fr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ce=!0),t.memoizedState=r)}function pm(t,e){var r=W;W=r!==0&&4>r?r:4,t(!0);var n=oo.transition;oo.transition={};try{t(!1),e()}finally{W=r,oo.transition=n}}function Gd(){return Ve().memoizedState}function mm(t,e,r){var n=zt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Jd(t))Yd(e,r);else if(r=Ad(t,e,r,n),r!==null){var s=xe();Ze(r,t,n,s),Xd(r,e,n)}}function gm(t,e,r){var n=zt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jd(t))Yd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,et(a,o)){var l=e.interleaved;l===null?(s.next=s,rl(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Ad(t,e,s,n),r!==null&&(s=xe(),Ze(r,t,n,s),Xd(r,e,n))}}function Jd(t){var e=t.alternate;return t===X||e!==null&&e===X}function Yd(t,e){Nn=oi=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Xd(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Wa(t,r)}}var ai={readContext:He,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useInsertionEffect:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useMutableSource:me,useSyncExternalStore:me,useId:me,unstable_isNewReconciler:!1},ym={readContext:He,useCallback:function(t,e){return st().memoizedState=[t,e===void 0?null:e],t},useContext:He,useEffect:yu,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ms(4194308,4,Hd.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ms(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ms(4,2,t,e)},useMemo:function(t,e){var r=st();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=st();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=mm.bind(null,X,t),[n.memoizedState,t]},useRef:function(t){var e=st();return t={current:t},e.memoizedState=t},useState:gu,useDebugValue:dl,useDeferredValue:function(t){return st().memoizedState=t},useTransition:function(){var t=gu(!1),e=t[0];return t=pm.bind(null,t[1]),st().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=X,s=st();if(J){if(r===void 0)throw Error(j(407));r=r()}else{if(r=e(),ue===null)throw Error(j(349));hr&30||$d(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,yu(Md.bind(null,n,i,t),[t]),n.flags|=2048,Xn(9,Ld.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=st(),e=ue.identifierPrefix;if(J){var r=yt,n=gt;r=(n&~(1<<32-Xe(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Jn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=fm++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vm={readContext:He,useCallback:qd,useContext:He,useEffect:cl,useImperativeHandle:Vd,useInsertionEffect:Wd,useLayoutEffect:Bd,useMemo:Qd,useReducer:ao,useRef:Fd,useState:function(){return ao(Yn)},useDebugValue:dl,useDeferredValue:function(t){var e=Ve();return Kd(e,ie.memoizedState,t)},useTransition:function(){var t=ao(Yn)[0],e=Ve().memoizedState;return[t,e]},useMutableSource:Od,useSyncExternalStore:Dd,useId:Gd,unstable_isNewReconciler:!1},wm={readContext:He,useCallback:qd,useContext:He,useEffect:cl,useImperativeHandle:Vd,useInsertionEffect:Wd,useLayoutEffect:Bd,useMemo:Qd,useReducer:lo,useRef:Fd,useState:function(){return lo(Yn)},useDebugValue:dl,useDeferredValue:function(t){var e=Ve();return ie===null?e.memoizedState=t:Kd(e,ie.memoizedState,t)},useTransition:function(){var t=lo(Yn)[0],e=Ve().memoizedState;return[t,e]},useMutableSource:Od,useSyncExternalStore:Dd,useId:Gd,unstable_isNewReconciler:!1};function Ke(t,e){if(t&&t.defaultProps){e=Z({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function ea(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Z({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ei={isMounted:function(t){return(t=t._reactInternals)?gr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=xe(),s=zt(t),i=vt(n,s);i.payload=e,r!=null&&(i.callback=r),e=Mt(t,i,s),e!==null&&(Ze(e,t,s,n),$s(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=xe(),s=zt(t),i=vt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Mt(t,i,s),e!==null&&(Ze(e,t,s,n),$s(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=xe(),n=zt(t),s=vt(r,n);s.tag=2,e!=null&&(s.callback=e),e=Mt(t,s,n),e!==null&&(Ze(e,t,n,r),$s(e,t,n))}};function vu(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Hn(r,n)||!Hn(s,i):!0}function Zd(t,e,r){var n=!1,s=Bt,i=e.contextType;return typeof i=="object"&&i!==null?i=He(i):(s=Pe(e)?cr:ve.current,n=e.contextTypes,i=(n=n!=null)?Kr(t,s):Bt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ei,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function wu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Ei.enqueueReplaceState(e,e.state,null)}function ta(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},nl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=He(i):(i=Pe(e)?cr:ve.current,s.context=Kr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ea(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ei.enqueueReplaceState(s,s.state,null),si(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Xr(t,e){try{var r="",n=e;do r+=Qf(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function uo(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ra(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var xm=typeof WeakMap=="function"?WeakMap:Map;function eh(t,e,r){r=vt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ui||(ui=!0,ha=n),ra(t,e)},r}function th(t,e,r){r=vt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){ra(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ra(t,e),typeof n!="function"&&(Ut===null?Ut=new Set([this]):Ut.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function xu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new xm;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Om.bind(null,t,e,r),e.then(t,t))}function ku(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _u(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=vt(-1,1),e.tag=2,Mt(r,e,1))),r.lanes|=1),t)}var km=St.ReactCurrentOwner,Ce=!1;function we(t,e,r,n){e.child=t===null?Pd(e,null,r,n):Jr(e,t.child,r,n)}function Su(t,e,r,n,s){r=r.render;var i=e.ref;return Vr(e,s),n=ll(t,e,r,n,i,s),r=ul(),t!==null&&!Ce?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_t(t,e,s)):(J&&r&&Ja(e),e.flags|=1,we(t,e,n,s),e.child)}function bu(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!wl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,rh(t,e,i,n,s)):(t=Ws(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Hn,r(o,n)&&t.ref===e.ref)return _t(t,e,s)}return e.flags|=1,t=Ft(i,n),t.ref=e.ref,t.return=e,e.child=t}function rh(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Hn(i,n)&&t.ref===e.ref)if(Ce=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Ce=!0);else return e.lanes=t.lanes,_t(t,e,s)}return na(t,e,r,n,s)}function nh(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(zr,Re),Re|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,q(zr,Re),Re|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,q(zr,Re),Re|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,q(zr,Re),Re|=n;return we(t,e,s,r),e.child}function sh(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function na(t,e,r,n,s){var i=Pe(r)?cr:ve.current;return i=Kr(e,i),Vr(e,s),r=ll(t,e,r,n,i,s),n=ul(),t!==null&&!Ce?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_t(t,e,s)):(J&&n&&Ja(e),e.flags|=1,we(t,e,r,s),e.child)}function ju(t,e,r,n,s){if(Pe(r)){var i=!0;Zs(e)}else i=!1;if(Vr(e,s),e.stateNode===null)Us(t,e),Zd(e,r,n),ta(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=He(c):(c=Pe(r)?cr:ve.current,c=Kr(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&wu(e,o,n,c),Ct=!1;var p=e.memoizedState;o.state=p,si(e,n,o,s),l=e.memoizedState,a!==n||p!==l||Te.current||Ct?(typeof d=="function"&&(ea(e,r,d,n),l=e.memoizedState),(a=Ct||vu(e,r,a,n,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Rd(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ke(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=He(l):(l=Pe(r)?cr:ve.current,l=Kr(e,l));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&wu(e,o,n,l),Ct=!1,p=e.memoizedState,o.state=p,si(e,n,o,s);var y=e.memoizedState;a!==h||p!==y||Te.current||Ct?(typeof v=="function"&&(ea(e,r,v,n),y=e.memoizedState),(c=Ct||vu(e,r,c,n,p,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return sa(t,e,r,n,i,s)}function sa(t,e,r,n,s,i){sh(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&cu(e,r,!1),_t(t,e,i);n=e.stateNode,km.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Jr(e,t.child,null,i),e.child=Jr(e,null,a,i)):we(t,e,a,i),e.memoizedState=n.state,s&&cu(e,r,!0),e.child}function ih(t){var e=t.stateNode;e.pendingContext?uu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&uu(t,e.context,!1),sl(t,e.containerInfo)}function Eu(t,e,r,n,s){return Gr(),Xa(s),e.flags|=256,we(t,e,r,n),e.child}var ia={dehydrated:null,treeContext:null,retryLane:0};function oa(t){return{baseLanes:t,cachePool:null,transitions:null}}function oh(t,e,r){var n=e.pendingProps,s=Y.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),q(Y,s&1),t===null)return Xo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ti(o,n,0,null),t=ur(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=oa(r),e.memoizedState=ia,t):hl(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return _m(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ft(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ft(a,i):(i=ur(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?oa(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=ia,n}return i=t.child,t=i.sibling,n=Ft(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function hl(t,e){return e=Ti({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ss(t,e,r,n){return n!==null&&Xa(n),Jr(e,t.child,null,r),t=hl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _m(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=uo(Error(j(422))),Ss(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Ti({mode:"visible",children:n.children},s,0,null),i=ur(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Jr(e,t.child,null,o),e.child.memoizedState=oa(o),e.memoizedState=ia,i);if(!(e.mode&1))return Ss(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(j(419)),n=uo(i,n,void 0),Ss(t,e,o,n)}if(a=(o&t.childLanes)!==0,Ce||a){if(n=ue,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,kt(t,s),Ze(n,t,s,-1))}return vl(),n=uo(Error(j(421))),Ss(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Dm.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ie=Lt(s.nextSibling),Oe=e,J=!0,Ye=null,t!==null&&(Me[Ue++]=gt,Me[Ue++]=yt,Me[Ue++]=dr,gt=t.id,yt=t.overflow,dr=e),e=hl(e,n.children),e.flags|=4096,e)}function Nu(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Zo(t.return,e,r)}function co(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function ah(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(we(t,e,n.children,r),n=Y.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nu(t,r,e);else if(t.tag===19)Nu(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(q(Y,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&ii(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),co(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ii(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}co(e,!0,r,null,i);break;case"together":co(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Us(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _t(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),fr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,r=Ft(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ft(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Sm(t,e,r){switch(e.tag){case 3:ih(e),Gr();break;case 5:Id(e);break;case 1:Pe(e.type)&&Zs(e);break;case 4:sl(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;q(ri,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(q(Y,Y.current&1),e.flags|=128,null):r&e.child.childLanes?oh(t,e,r):(q(Y,Y.current&1),t=_t(t,e,r),t!==null?t.sibling:null);q(Y,Y.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return ah(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(Y,Y.current),n)break;return null;case 22:case 23:return e.lanes=0,nh(t,e,r)}return _t(t,e,r)}var lh,aa,uh,ch;lh=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};aa=function(){};uh=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,ar(at.current);var i=null;switch(r){case"input":s=To(t,s),n=To(t,n),i=[];break;case"select":s=Z({},s,{value:void 0}),n=Z({},n,{value:void 0}),i=[];break;case"textarea":s=Ro(t,s),n=Ro(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ys)}Oo(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ln.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ln.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Q("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};ch=function(t,e,r,n){r!==n&&(e.flags|=4)};function pn(t,e){if(!J)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ge(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function bm(t,e,r){var n=e.pendingProps;switch(Ya(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(e),null;case 1:return Pe(e.type)&&Xs(),ge(e),null;case 3:return n=e.stateNode,Yr(),K(Te),K(ve),ol(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ks(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ye!==null&&(ma(Ye),Ye=null))),aa(t,e),ge(e),null;case 5:il(e);var s=ar(Gn.current);if(r=e.type,t!==null&&e.stateNode!=null)uh(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(j(166));return ge(e),null}if(t=ar(at.current),ks(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[it]=e,n[Qn]=i,t=(e.mode&1)!==0,r){case"dialog":Q("cancel",n),Q("close",n);break;case"iframe":case"object":case"embed":Q("load",n);break;case"video":case"audio":for(s=0;s<xn.length;s++)Q(xn[s],n);break;case"source":Q("error",n);break;case"img":case"image":case"link":Q("error",n),Q("load",n);break;case"details":Q("toggle",n);break;case"input":$l(n,i),Q("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Q("invalid",n);break;case"textarea":Ml(n,i),Q("invalid",n)}Oo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&xs(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&xs(n.textContent,a,t),s=["children",""+a]):Ln.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Q("scroll",n)}switch(r){case"input":hs(n),Ll(n,i,!0);break;case"textarea":hs(n),Ul(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ys)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Mc(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[it]=e,t[Qn]=n,lh(t,e,!1,!1),e.stateNode=t;e:{switch(o=Do(r,n),r){case"dialog":Q("cancel",t),Q("close",t),s=n;break;case"iframe":case"object":case"embed":Q("load",t),s=n;break;case"video":case"audio":for(s=0;s<xn.length;s++)Q(xn[s],t);s=n;break;case"source":Q("error",t),s=n;break;case"img":case"image":case"link":Q("error",t),Q("load",t),s=n;break;case"details":Q("toggle",t),s=n;break;case"input":$l(t,n),s=To(t,n),Q("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Z({},n,{value:void 0}),Q("invalid",t);break;case"textarea":Ml(t,n),s=Ro(t,n),Q("invalid",t);break;default:s=n}Oo(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Fc(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Uc(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Mn(t,l):typeof l=="number"&&Mn(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ln.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Q("scroll",t):l!=null&&$a(t,i,l,o))}switch(r){case"input":hs(t),Ll(t,n,!1);break;case"textarea":hs(t),Ul(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Wt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Fr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Fr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ys)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ge(e),null;case 6:if(t&&e.stateNode!=null)ch(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(j(166));if(r=ar(Gn.current),ar(at.current),ks(e)){if(n=e.stateNode,r=e.memoizedProps,n[it]=e,(i=n.nodeValue!==r)&&(t=Oe,t!==null))switch(t.tag){case 3:xs(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xs(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[it]=e,e.stateNode=n}return ge(e),null;case 13:if(K(Y),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(J&&Ie!==null&&e.mode&1&&!(e.flags&128))Cd(),Gr(),e.flags|=98560,i=!1;else if(i=ks(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(j(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[it]=e}else Gr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ge(e),i=!1}else Ye!==null&&(ma(Ye),Ye=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Y.current&1?oe===0&&(oe=3):vl())),e.updateQueue!==null&&(e.flags|=4),ge(e),null);case 4:return Yr(),aa(t,e),t===null&&Vn(e.stateNode.containerInfo),ge(e),null;case 10:return tl(e.type._context),ge(e),null;case 17:return Pe(e.type)&&Xs(),ge(e),null;case 19:if(K(Y),i=e.memoizedState,i===null)return ge(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)pn(i,!1);else{if(oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ii(t),o!==null){for(e.flags|=128,pn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return q(Y,Y.current&1|2),e.child}t=t.sibling}i.tail!==null&&re()>Zr&&(e.flags|=128,n=!0,pn(i,!1),e.lanes=4194304)}else{if(!n)if(t=ii(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),pn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!J)return ge(e),null}else 2*re()-i.renderingStartTime>Zr&&r!==1073741824&&(e.flags|=128,n=!0,pn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=re(),e.sibling=null,r=Y.current,q(Y,n?r&1|2:r&1),e):(ge(e),null);case 22:case 23:return yl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Re&1073741824&&(ge(e),e.subtreeFlags&6&&(e.flags|=8192)):ge(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function jm(t,e){switch(Ya(e),e.tag){case 1:return Pe(e.type)&&Xs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yr(),K(Te),K(ve),ol(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return il(e),null;case 13:if(K(Y),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Gr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return K(Y),null;case 4:return Yr(),null;case 10:return tl(e.type._context),null;case 22:case 23:return yl(),null;case 24:return null;default:return null}}var bs=!1,ye=!1,Em=typeof WeakSet=="function"?WeakSet:Set,P=null;function Ur(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ee(t,e,n)}else r.current=null}function la(t,e,r){try{r()}catch(n){ee(t,e,n)}}var Cu=!1;function Nm(t,e){if(Vo=Ks,t=md(),Ga(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===t)break t;if(p===r&&++c===s&&(a=o),p===i&&++d===n&&(l=o),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(qo={focusedElem:t,selectionRange:r},Ks=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,_=y.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?x:Ke(e.type,x),_);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var f=e.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(w){ee(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return y=Cu,Cu=!1,y}function Cn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&la(e,r,i)}s=s.next}while(s!==n)}}function Ni(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ua(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function dh(t){var e=t.alternate;e!==null&&(t.alternate=null,dh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[it],delete e[Qn],delete e[Go],delete e[um],delete e[cm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hh(t){return t.tag===5||t.tag===3||t.tag===4}function Tu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ca(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ys));else if(n!==4&&(t=t.child,t!==null))for(ca(t,e,r),t=t.sibling;t!==null;)ca(t,e,r),t=t.sibling}function da(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(da(t,e,r),t=t.sibling;t!==null;)da(t,e,r),t=t.sibling}var de=null,Ge=!1;function bt(t,e,r){for(r=r.child;r!==null;)fh(t,e,r),r=r.sibling}function fh(t,e,r){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(wi,r)}catch{}switch(r.tag){case 5:ye||Ur(r,e);case 6:var n=de,s=Ge;de=null,bt(t,e,r),de=n,Ge=s,de!==null&&(Ge?(t=de,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):de.removeChild(r.stateNode));break;case 18:de!==null&&(Ge?(t=de,r=r.stateNode,t.nodeType===8?no(t.parentNode,r):t.nodeType===1&&no(t,r),Wn(t)):no(de,r.stateNode));break;case 4:n=de,s=Ge,de=r.stateNode.containerInfo,Ge=!0,bt(t,e,r),de=n,Ge=s;break;case 0:case 11:case 14:case 15:if(!ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&la(r,e,o),s=s.next}while(s!==n)}bt(t,e,r);break;case 1:if(!ye&&(Ur(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ee(r,e,a)}bt(t,e,r);break;case 21:bt(t,e,r);break;case 22:r.mode&1?(ye=(n=ye)||r.memoizedState!==null,bt(t,e,r),ye=n):bt(t,e,r);break;default:bt(t,e,r)}}function Pu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Em),e.forEach(function(n){var s=$m.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function qe(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:de=a.stateNode,Ge=!1;break e;case 3:de=a.stateNode.containerInfo,Ge=!0;break e;case 4:de=a.stateNode.containerInfo,Ge=!0;break e}a=a.return}if(de===null)throw Error(j(160));fh(i,o,s),de=null,Ge=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ee(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ph(e,t),e=e.sibling}function ph(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qe(e,t),nt(t),n&4){try{Cn(3,t,t.return),Ni(3,t)}catch(x){ee(t,t.return,x)}try{Cn(5,t,t.return)}catch(x){ee(t,t.return,x)}}break;case 1:qe(e,t),nt(t),n&512&&r!==null&&Ur(r,r.return);break;case 5:if(qe(e,t),nt(t),n&512&&r!==null&&Ur(r,r.return),t.flags&32){var s=t.stateNode;try{Mn(s,"")}catch(x){ee(t,t.return,x)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&$c(s,i),Do(a,o);var c=Do(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Fc(s,h):d==="dangerouslySetInnerHTML"?Uc(s,h):d==="children"?Mn(s,h):$a(s,d,h,c)}switch(a){case"input":Po(s,i);break;case"textarea":Lc(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Fr(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Fr(s,!!i.multiple,i.defaultValue,!0):Fr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Qn]=i}catch(x){ee(t,t.return,x)}}break;case 6:if(qe(e,t),nt(t),n&4){if(t.stateNode===null)throw Error(j(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){ee(t,t.return,x)}}break;case 3:if(qe(e,t),nt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wn(e.containerInfo)}catch(x){ee(t,t.return,x)}break;case 4:qe(e,t),nt(t);break;case 13:qe(e,t),nt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ml=re())),n&4&&Pu(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(ye=(c=ye)||d,qe(e,t),ye=c):qe(e,t),nt(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(P=t,d=t.child;d!==null;){for(h=P=d;P!==null;){switch(p=P,v=p.child,p.tag){case 0:case 11:case 14:case 15:Cn(4,p,p.return);break;case 1:Ur(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){ee(n,r,x)}}break;case 5:Ur(p,p.return);break;case 22:if(p.memoizedState!==null){Ru(h);continue}}v!==null?(v.return=p,P=v):Ru(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=zc("display",o))}catch(x){ee(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){ee(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:qe(e,t),nt(t),n&4&&Pu(t);break;case 21:break;default:qe(e,t),nt(t)}}function nt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(hh(r)){var n=r;break e}r=r.return}throw Error(j(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Mn(s,""),n.flags&=-33);var i=Tu(t);da(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Tu(t);ca(t,a,o);break;default:throw Error(j(161))}}catch(l){ee(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Cm(t,e,r){P=t,mh(t)}function mh(t,e,r){for(var n=(t.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||bs;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ye;a=bs;var c=ye;if(bs=o,(ye=l)&&!c)for(P=s;P!==null;)o=P,l=o.child,o.tag===22&&o.memoizedState!==null?Iu(s):l!==null?(l.return=o,P=l):Iu(s);for(;i!==null;)P=i,mh(i),i=i.sibling;P=s,bs=a,ye=c}Au(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):Au(t)}}function Au(t){for(;P!==null;){var e=P;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ye||Ni(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ye)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ke(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&mu(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}mu(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Wn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}ye||e.flags&512&&ua(e)}catch(p){ee(e,e.return,p)}}if(e===t){P=null;break}if(r=e.sibling,r!==null){r.return=e.return,P=r;break}P=e.return}}function Ru(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var r=e.sibling;if(r!==null){r.return=e.return,P=r;break}P=e.return}}function Iu(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ni(4,e)}catch(l){ee(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){ee(e,s,l)}}var i=e.return;try{ua(e)}catch(l){ee(e,i,l)}break;case 5:var o=e.return;try{ua(e)}catch(l){ee(e,o,l)}}}catch(l){ee(e,e.return,l)}if(e===t){P=null;break}var a=e.sibling;if(a!==null){a.return=e.return,P=a;break}P=e.return}}var Tm=Math.ceil,li=St.ReactCurrentDispatcher,fl=St.ReactCurrentOwner,We=St.ReactCurrentBatchConfig,z=0,ue=null,ne=null,he=0,Re=0,zr=Vt(0),oe=0,Zn=null,fr=0,Ci=0,pl=0,Tn=null,Ee=null,ml=0,Zr=1/0,ht=null,ui=!1,ha=null,Ut=null,js=!1,It=null,ci=0,Pn=0,fa=null,zs=-1,Fs=0;function xe(){return z&6?re():zs!==-1?zs:zs=re()}function zt(t){return t.mode&1?z&2&&he!==0?he&-he:hm.transition!==null?(Fs===0&&(Fs=Zc()),Fs):(t=W,t!==0||(t=window.event,t=t===void 0?16:od(t.type)),t):1}function Ze(t,e,r,n){if(50<Pn)throw Pn=0,fa=null,Error(j(185));ns(t,r,n),(!(z&2)||t!==ue)&&(t===ue&&(!(z&2)&&(Ci|=r),oe===4&&Pt(t,he)),Ae(t,n),r===1&&z===0&&!(e.mode&1)&&(Zr=re()+500,bi&&qt()))}function Ae(t,e){var r=t.callbackNode;hp(t,e);var n=Qs(t,t===ue?he:0);if(n===0)r!==null&&Wl(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Wl(r),e===1)t.tag===0?dm(Ou.bind(null,t)):jd(Ou.bind(null,t)),am(function(){!(z&6)&&qt()}),r=null;else{switch(ed(n)){case 1:r=Fa;break;case 4:r=Yc;break;case 16:r=qs;break;case 536870912:r=Xc;break;default:r=qs}r=Sh(r,gh.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function gh(t,e){if(zs=-1,Fs=0,z&6)throw Error(j(327));var r=t.callbackNode;if(qr()&&t.callbackNode!==r)return null;var n=Qs(t,t===ue?he:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=di(t,n);else{e=n;var s=z;z|=2;var i=vh();(ue!==t||he!==e)&&(ht=null,Zr=re()+500,lr(t,e));do try{Rm();break}catch(a){yh(t,a)}while(!0);el(),li.current=i,z=s,ne!==null?e=0:(ue=null,he=0,e=oe)}if(e!==0){if(e===2&&(s=zo(t),s!==0&&(n=s,e=pa(t,s))),e===1)throw r=Zn,lr(t,0),Pt(t,n),Ae(t,re()),r;if(e===6)Pt(t,n);else{if(s=t.current.alternate,!(n&30)&&!Pm(s)&&(e=di(t,n),e===2&&(i=zo(t),i!==0&&(n=i,e=pa(t,i))),e===1))throw r=Zn,lr(t,0),Pt(t,n),Ae(t,re()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(j(345));case 2:rr(t,Ee,ht);break;case 3:if(Pt(t,n),(n&130023424)===n&&(e=ml+500-re(),10<e)){if(Qs(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){xe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ko(rr.bind(null,t,Ee,ht),e);break}rr(t,Ee,ht);break;case 4:if(Pt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-Xe(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=re()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Tm(n/1960))-n,10<n){t.timeoutHandle=Ko(rr.bind(null,t,Ee,ht),n);break}rr(t,Ee,ht);break;case 5:rr(t,Ee,ht);break;default:throw Error(j(329))}}}return Ae(t,re()),t.callbackNode===r?gh.bind(null,t):null}function pa(t,e){var r=Tn;return t.current.memoizedState.isDehydrated&&(lr(t,e).flags|=256),t=di(t,e),t!==2&&(e=Ee,Ee=r,e!==null&&ma(e)),t}function ma(t){Ee===null?Ee=t:Ee.push.apply(Ee,t)}function Pm(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!et(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Pt(t,e){for(e&=~pl,e&=~Ci,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Xe(e),n=1<<r;t[r]=-1,e&=~n}}function Ou(t){if(z&6)throw Error(j(327));qr();var e=Qs(t,0);if(!(e&1))return Ae(t,re()),null;var r=di(t,e);if(t.tag!==0&&r===2){var n=zo(t);n!==0&&(e=n,r=pa(t,n))}if(r===1)throw r=Zn,lr(t,0),Pt(t,e),Ae(t,re()),r;if(r===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rr(t,Ee,ht),Ae(t,re()),null}function gl(t,e){var r=z;z|=1;try{return t(e)}finally{z=r,z===0&&(Zr=re()+500,bi&&qt())}}function pr(t){It!==null&&It.tag===0&&!(z&6)&&qr();var e=z;z|=1;var r=We.transition,n=W;try{if(We.transition=null,W=1,t)return t()}finally{W=n,We.transition=r,z=e,!(z&6)&&qt()}}function yl(){Re=zr.current,K(zr)}function lr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,om(r)),ne!==null)for(r=ne.return;r!==null;){var n=r;switch(Ya(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Xs();break;case 3:Yr(),K(Te),K(ve),ol();break;case 5:il(n);break;case 4:Yr();break;case 13:K(Y);break;case 19:K(Y);break;case 10:tl(n.type._context);break;case 22:case 23:yl()}r=r.return}if(ue=t,ne=t=Ft(t.current,null),he=Re=e,oe=0,Zn=null,pl=Ci=fr=0,Ee=Tn=null,or!==null){for(e=0;e<or.length;e++)if(r=or[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}or=null}return t}function yh(t,e){do{var r=ne;try{if(el(),Ls.current=ai,oi){for(var n=X.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}oi=!1}if(hr=0,le=ie=X=null,Nn=!1,Jn=0,fl.current=null,r===null||r.return===null){oe=1,Zn=e,ne=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=he,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=ku(o);if(v!==null){v.flags&=-257,_u(v,o,a,i,e),v.mode&1&&xu(i,c,e),e=v,l=c;var y=e.updateQueue;if(y===null){var x=new Set;x.add(l),e.updateQueue=x}else y.add(l);break e}else{if(!(e&1)){xu(i,c,e),vl();break e}l=Error(j(426))}}else if(J&&a.mode&1){var _=ku(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),_u(_,o,a,i,e),Xa(Xr(l,a));break e}}i=l=Xr(l,a),oe!==4&&(oe=2),Tn===null?Tn=[i]:Tn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=eh(i,l,e);pu(i,m);break e;case 1:a=l;var g=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ut===null||!Ut.has(f)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=th(i,a,e);pu(i,w);break e}}i=i.return}while(i!==null)}xh(r)}catch(k){e=k,ne===r&&r!==null&&(ne=r=r.return);continue}break}while(!0)}function vh(){var t=li.current;return li.current=ai,t===null?ai:t}function vl(){(oe===0||oe===3||oe===2)&&(oe=4),ue===null||!(fr&268435455)&&!(Ci&268435455)||Pt(ue,he)}function di(t,e){var r=z;z|=2;var n=vh();(ue!==t||he!==e)&&(ht=null,lr(t,e));do try{Am();break}catch(s){yh(t,s)}while(!0);if(el(),z=r,li.current=n,ne!==null)throw Error(j(261));return ue=null,he=0,oe}function Am(){for(;ne!==null;)wh(ne)}function Rm(){for(;ne!==null&&!np();)wh(ne)}function wh(t){var e=_h(t.alternate,t,Re);t.memoizedProps=t.pendingProps,e===null?xh(t):ne=e,fl.current=null}function xh(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=jm(r,e),r!==null){r.flags&=32767,ne=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{oe=6,ne=null;return}}else if(r=bm(r,e,Re),r!==null){ne=r;return}if(e=e.sibling,e!==null){ne=e;return}ne=e=t}while(e!==null);oe===0&&(oe=5)}function rr(t,e,r){var n=W,s=We.transition;try{We.transition=null,W=1,Im(t,e,r,n)}finally{We.transition=s,W=n}return null}function Im(t,e,r,n){do qr();while(It!==null);if(z&6)throw Error(j(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(fp(t,i),t===ue&&(ne=ue=null,he=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||js||(js=!0,Sh(qs,function(){return qr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=We.transition,We.transition=null;var o=W;W=1;var a=z;z|=4,fl.current=null,Nm(t,r),ph(r,t),Zp(qo),Ks=!!Vo,qo=Vo=null,t.current=r,Cm(r),sp(),z=a,W=o,We.transition=i}else t.current=r;if(js&&(js=!1,It=t,ci=s),i=t.pendingLanes,i===0&&(Ut=null),ap(r.stateNode),Ae(t,re()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ui)throw ui=!1,t=ha,ha=null,t;return ci&1&&t.tag!==0&&qr(),i=t.pendingLanes,i&1?t===fa?Pn++:(Pn=0,fa=t):Pn=0,qt(),null}function qr(){if(It!==null){var t=ed(ci),e=We.transition,r=W;try{if(We.transition=null,W=16>t?16:t,It===null)var n=!1;else{if(t=It,It=null,ci=0,z&6)throw Error(j(331));var s=z;for(z|=4,P=t.current;P!==null;){var i=P,o=i.child;if(P.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(P=c;P!==null;){var d=P;switch(d.tag){case 0:case 11:case 15:Cn(8,d,i)}var h=d.child;if(h!==null)h.return=d,P=h;else for(;P!==null;){d=P;var p=d.sibling,v=d.return;if(dh(d),d===c){P=null;break}if(p!==null){p.return=v,P=p;break}P=v}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}P=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,P=o;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Cn(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,P=m;break e}P=i.return}}var g=t.current;for(P=g;P!==null;){o=P;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,P=f;else e:for(o=g;P!==null;){if(a=P,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ni(9,a)}}catch(k){ee(a,a.return,k)}if(a===o){P=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,P=w;break e}P=a.return}}if(z=s,qt(),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(wi,t)}catch{}n=!0}return n}finally{W=r,We.transition=e}}return!1}function Du(t,e,r){e=Xr(r,e),e=eh(t,e,1),t=Mt(t,e,1),e=xe(),t!==null&&(ns(t,1,e),Ae(t,e))}function ee(t,e,r){if(t.tag===3)Du(t,t,r);else for(;e!==null;){if(e.tag===3){Du(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ut===null||!Ut.has(n))){t=Xr(r,t),t=th(e,t,1),e=Mt(e,t,1),t=xe(),e!==null&&(ns(e,1,t),Ae(e,t));break}}e=e.return}}function Om(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=xe(),t.pingedLanes|=t.suspendedLanes&r,ue===t&&(he&r)===r&&(oe===4||oe===3&&(he&130023424)===he&&500>re()-ml?lr(t,0):pl|=r),Ae(t,e)}function kh(t,e){e===0&&(t.mode&1?(e=ms,ms<<=1,!(ms&130023424)&&(ms=4194304)):e=1);var r=xe();t=kt(t,e),t!==null&&(ns(t,e,r),Ae(t,r))}function Dm(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),kh(t,r)}function $m(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(j(314))}n!==null&&n.delete(e),kh(t,r)}var _h;_h=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Te.current)Ce=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ce=!1,Sm(t,e,r);Ce=!!(t.flags&131072)}else Ce=!1,J&&e.flags&1048576&&Ed(e,ti,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Us(t,e),t=e.pendingProps;var s=Kr(e,ve.current);Vr(e,r),s=ll(null,e,n,t,s,r);var i=ul();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pe(n)?(i=!0,Zs(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,nl(e),s.updater=Ei,e.stateNode=s,s._reactInternals=e,ta(e,n,t,r),e=sa(null,e,n,!0,i,r)):(e.tag=0,J&&i&&Ja(e),we(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Us(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Mm(n),t=Ke(n,t),s){case 0:e=na(null,e,n,t,r);break e;case 1:e=ju(null,e,n,t,r);break e;case 11:e=Su(null,e,n,t,r);break e;case 14:e=bu(null,e,n,Ke(n.type,t),r);break e}throw Error(j(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ke(n,s),na(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ke(n,s),ju(t,e,n,s,r);case 3:e:{if(ih(e),t===null)throw Error(j(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Rd(t,e),si(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Xr(Error(j(423)),e),e=Eu(t,e,n,r,s);break e}else if(n!==s){s=Xr(Error(j(424)),e),e=Eu(t,e,n,r,s);break e}else for(Ie=Lt(e.stateNode.containerInfo.firstChild),Oe=e,J=!0,Ye=null,r=Pd(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Gr(),n===s){e=_t(t,e,r);break e}we(t,e,n,r)}e=e.child}return e;case 5:return Id(e),t===null&&Xo(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Qo(n,s)?o=null:i!==null&&Qo(n,i)&&(e.flags|=32),sh(t,e),we(t,e,o,r),e.child;case 6:return t===null&&Xo(e),null;case 13:return oh(t,e,r);case 4:return sl(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Jr(e,null,n,r):we(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ke(n,s),Su(t,e,n,s,r);case 7:return we(t,e,e.pendingProps,r),e.child;case 8:return we(t,e,e.pendingProps.children,r),e.child;case 12:return we(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,q(ri,n._currentValue),n._currentValue=o,i!==null)if(et(i.value,o)){if(i.children===s.children&&!Te.current){e=_t(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=vt(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Zo(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(j(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Zo(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}we(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Vr(e,r),s=He(s),n=n(s),e.flags|=1,we(t,e,n,r),e.child;case 14:return n=e.type,s=Ke(n,e.pendingProps),s=Ke(n.type,s),bu(t,e,n,s,r);case 15:return rh(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ke(n,s),Us(t,e),e.tag=1,Pe(n)?(t=!0,Zs(e)):t=!1,Vr(e,r),Zd(e,n,s),ta(e,n,s,r),sa(null,e,n,!0,t,r);case 19:return ah(t,e,r);case 22:return nh(t,e,r)}throw Error(j(156,e.tag))};function Sh(t,e){return Jc(t,e)}function Lm(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fe(t,e,r,n){return new Lm(t,e,r,n)}function wl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mm(t){if(typeof t=="function")return wl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ma)return 11;if(t===Ua)return 14}return 2}function Ft(t,e){var r=t.alternate;return r===null?(r=Fe(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ws(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")wl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Pr:return ur(r.children,s,i,e);case La:o=8,s|=8;break;case jo:return t=Fe(12,r,e,s|2),t.elementType=jo,t.lanes=i,t;case Eo:return t=Fe(13,r,e,s),t.elementType=Eo,t.lanes=i,t;case No:return t=Fe(19,r,e,s),t.elementType=No,t.lanes=i,t;case Ic:return Ti(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ac:o=10;break e;case Rc:o=9;break e;case Ma:o=11;break e;case Ua:o=14;break e;case Nt:o=16,n=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=Fe(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function ur(t,e,r,n){return t=Fe(7,t,n,e),t.lanes=r,t}function Ti(t,e,r,n){return t=Fe(22,t,n,e),t.elementType=Ic,t.lanes=r,t.stateNode={isHidden:!1},t}function ho(t,e,r){return t=Fe(6,t,null,e),t.lanes=r,t}function fo(t,e,r){return e=Fe(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Um(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qi(0),this.expirationTimes=qi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qi(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function xl(t,e,r,n,s,i,o,a,l){return t=new Um(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Fe(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},nl(i),t}function zm(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function bh(t){if(!t)return Bt;t=t._reactInternals;e:{if(gr(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var r=t.type;if(Pe(r))return bd(t,r,e)}return e}function jh(t,e,r,n,s,i,o,a,l){return t=xl(r,n,!0,t,s,i,o,a,l),t.context=bh(null),r=t.current,n=xe(),s=zt(r),i=vt(n,s),i.callback=e??null,Mt(r,i,s),t.current.lanes=s,ns(t,s,n),Ae(t,n),t}function Pi(t,e,r,n){var s=e.current,i=xe(),o=zt(s);return r=bh(r),e.context===null?e.context=r:e.pendingContext=r,e=vt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Mt(s,e,o),t!==null&&(Ze(t,s,o,i),$s(t,s,o)),o}function hi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $u(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function kl(t,e){$u(t,e),(t=t.alternate)&&$u(t,e)}function Fm(){return null}var Eh=typeof reportError=="function"?reportError:function(t){console.error(t)};function _l(t){this._internalRoot=t}Ai.prototype.render=_l.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Pi(t,e,null,null)};Ai.prototype.unmount=_l.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pr(function(){Pi(null,t,null,null)}),e[xt]=null}};function Ai(t){this._internalRoot=t}Ai.prototype.unstable_scheduleHydration=function(t){if(t){var e=nd();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Tt.length&&e!==0&&e<Tt[r].priority;r++);Tt.splice(r,0,t),r===0&&id(t)}};function Sl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ri(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Lu(){}function Wm(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=hi(o);i.call(c)}}var o=jh(e,n,t,0,null,!1,!1,"",Lu);return t._reactRootContainer=o,t[xt]=o.current,Vn(t.nodeType===8?t.parentNode:t),pr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=hi(l);a.call(c)}}var l=xl(t,0,!1,null,null,!1,!1,"",Lu);return t._reactRootContainer=l,t[xt]=l.current,Vn(t.nodeType===8?t.parentNode:t),pr(function(){Pi(e,l,r,n)}),l}function Ii(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=hi(o);a.call(l)}}Pi(e,o,t,s)}else o=Wm(r,e,t,s,n);return hi(o)}td=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=wn(e.pendingLanes);r!==0&&(Wa(e,r|1),Ae(e,re()),!(z&6)&&(Zr=re()+500,qt()))}break;case 13:pr(function(){var n=kt(t,1);if(n!==null){var s=xe();Ze(n,t,1,s)}}),kl(t,1)}};Ba=function(t){if(t.tag===13){var e=kt(t,134217728);if(e!==null){var r=xe();Ze(e,t,134217728,r)}kl(t,134217728)}};rd=function(t){if(t.tag===13){var e=zt(t),r=kt(t,e);if(r!==null){var n=xe();Ze(r,t,e,n)}kl(t,e)}};nd=function(){return W};sd=function(t,e){var r=W;try{return W=t,e()}finally{W=r}};Lo=function(t,e,r){switch(e){case"input":if(Po(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Si(n);if(!s)throw Error(j(90));Dc(n),Po(n,s)}}}break;case"textarea":Lc(t,r);break;case"select":e=r.value,e!=null&&Fr(t,!!r.multiple,e,!1)}};Hc=gl;Vc=pr;var Bm={usingClientEntryPoint:!1,Events:[is,Or,Si,Wc,Bc,gl]},mn={findFiberByHostInstance:ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hm={bundleType:mn.bundleType,version:mn.version,rendererPackageName:mn.rendererPackageName,rendererConfig:mn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:St.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Kc(t),t===null?null:t.stateNode},findFiberByHostInstance:mn.findFiberByHostInstance||Fm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Es.isDisabled&&Es.supportsFiber)try{wi=Es.inject(Hm),ot=Es}catch{}}$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bm;$e.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sl(e))throw Error(j(200));return zm(t,e,null,r)};$e.createRoot=function(t,e){if(!Sl(t))throw Error(j(299));var r=!1,n="",s=Eh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=xl(t,1,!1,null,null,r,!1,n,s),t[xt]=e.current,Vn(t.nodeType===8?t.parentNode:t),new _l(e)};$e.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=Kc(e),t=t===null?null:t.stateNode,t};$e.flushSync=function(t){return pr(t)};$e.hydrate=function(t,e,r){if(!Ri(e))throw Error(j(200));return Ii(null,t,e,!0,r)};$e.hydrateRoot=function(t,e,r){if(!Sl(t))throw Error(j(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Eh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=jh(e,null,t,1,r??null,s,!1,i,o),t[xt]=e.current,Vn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Ai(e)};$e.render=function(t,e,r){if(!Ri(e))throw Error(j(200));return Ii(null,t,e,!1,r)};$e.unmountComponentAtNode=function(t){if(!Ri(t))throw Error(j(40));return t._reactRootContainer?(pr(function(){Ii(null,null,t,!1,function(){t._reactRootContainer=null,t[xt]=null})}),!0):!1};$e.unstable_batchedUpdates=gl;$e.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ri(r))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return Ii(t,e,r,!1,n)};$e.version="18.3.1-next-f1338f8080-20240426";function Nh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nh)}catch(t){console.error(t)}}Nh(),Nc.exports=$e;var Vm=Nc.exports,Ch,Mu=Vm;Ch=Mu.createRoot,Mu.hydrateRoot;const Th=N.createContext(void 0),qm=({children:t})=>{const[e,r]=N.useState(()=>{const o=localStorage.getItem("farmMonitor_theme");return o==="light"||o==="dark"?o:"light"}),[n,s]=N.useState(!1),i=N.useCallback(async()=>{s(!0);try{const o=e==="light"?"dark":"light";r(o),localStorage.setItem("farmMonitor_theme",o),o==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}catch(o){console.error("Error updating theme preference:",o)}finally{s(!1)}},[e]);return N.useEffect(()=>{e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),u.jsx(Th.Provider,{value:{theme:e,toggleTheme:i,loading:n},children:t})},Ph=()=>{const t=N.useContext(Th);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},Qm="hi",Km=[{code:"hi",name:"Hindi",nativeName:"हिंदी"},{code:"en",name:"English",nativeName:"English"}],po={hi:{welcome:"स्वागत है",signIn:"साइन इन",signUp:"साइन अप",email:"ईमेल",password:"पासवर्ड",confirmPassword:"पासवर्ड की पुष्टि करें",signInButton:"साइन इन करें",signUpButton:"साइन अप करें",signingIn:"साइन इन हो रहे हैं...",creatingAccount:"खाता बनाया जा रहा है...",createAccount:"खाता बनाएं",dontHaveAccount:"खाता नहीं है?",signUpHere:"यहाँ साइन अप करें",dashboard:"डैशबोर्ड",manualEntry:"डेटा जोड़ें",help:"सहायता",settings:"सेटिंग्स",farmStatus:"खेत की स्थिति",todayStatus:"आज की स्थिति",lastChecked:"अंतिम जांच",goodConditions:"अच्छी स्थिति",needsAttention:"ध्यान चाहिए",urgentAction:"तुरंत कार्रवाई",refresh:"रिफ्रेश",loading:"लोड हो रहा है",today:"आज",yesterday:"कल",comparisonYesterday:"की तुलना में",location:"स्थान",improving:"सुधार हो रहा है",declining:"खराब हो रहा है",stable:"स्थिर",optimal:"अच्छा",warning:"सावधान",critical:"खतरनाक",helpTitle:"सहायता",helpGreen:"हरा - सब कुछ ठीक है",helpYellow:"पीला - जल्दी देखें",helpRed:"लाल - तुरंत कार्रवाई करें",addNewData:"नया डेटा जोड़ें",selectDataType:"डेटा प्रकार चुनें",waterQuality:"पानी की गुणवत्ता",fertilizer:"खाद",weather:"मौसम",custom:"कस्टम",success:"सफल",save:"सेव करें",notes:"नोट्स",account:"खाता",language:"भाषा",theme:"थीम",lightMode:"लाइट मोड",darkMode:"डार्क मोड",signOut:"साइन आउट",selectLanguage:"भाषा चुनें",settingsSaved:"सेटिंग्स सेव हो गईं",dateFormat:"दिनांक प्रारूप",timezone:"समय क्षेत्र",currentLocation:"वर्तमान स्थान",getLocation:"स्थान प्राप्त करें",searchLocation:"स्थान खोजें",soilMoisture:"मिट्टी की नमी",soilHealth:"मिट्टी का स्वास्थ्य",temperature:"तापमान",humidity:"नमी",irrigationAdvice:"सिंचाई सलाह",currentWeather:"वर्तमान मौसम",weatherForecast:"मौसम पूर्वानुमान",soilData:"मिट्टी डेटा",soilType:"मिट्टी का प्रकार",soilPh:"मिट्टी pH",sandContent:"रेत सामग्री",clayContent:"मिट्टी सामग्री",cropSuggestions:"फसल सुझाव",windSpeed:"हवा की गति",visibility:"दृश्यता",dataManagement:"डेटा प्रबंधन",insertMockData:"नमूना डेटा डालें",error:"त्रुटि",retry:"फिर कोशिश करें",latitude:"अक्षांश",longitude:"देशांतर",understandingColors:"रंगों को समझना",everythingGood:"सब कुछ ठीक है",everythingGoodDesc:"आपकी फसलें स्वस्थ हैं। अपनी वर्तमान देखभाल जारी रखें।",checkSoon:"जल्दी जांचें",checkSoonDesc:"अगले दिन या दो में कुछ ध्यान देने की जरूरत है।",takeActionNow:"अभी कार्रवाई करें",takeActionNowDesc:"इसे तुरंत ध्यान देने की जरूरत है।",usingOnMobile:"मोबाइल पर उपयोग",tapRefreshButton:"नवीनतम अपडेट पाने के लिए रिफ्रेश बटन दबाएं",usePlusButton:"अपने अवलोकन जोड़ने के लिए + बटन का उपयोग करें",swipeLeftRight:"विभिन्न अनुभाग देखने के लिए बाएं और दाएं स्वाइप करें",internetConnection:"इंटरनेट कनेक्शन",worksSlowInternet:"धीमे इंटरनेट कनेक्शन के साथ काम करता है",dataSavedAutomatically:"डेटा स्वचालित रूप से सेव होता है",addDataOffline:"आप ऑफलाइन भी डेटा जोड़ सकते हैं (ऑनलाइन होने पर सेव होता है)",commonQuestions:"सामान्य प्रश्न",howOftenCheck:"कितनी बार स्थिति जांचनी चाहिए?",howOftenCheckAnswer:"दिन में एक या दो बार जांचें। सिस्टम स्वचालित रूप से अपडेट होता है, इसलिए आपको हमेशा नवीनतम जानकारी मिलेगी।",whatRedStatus:"लाल (गंभीर) स्थिति देखने पर क्या करना चाहिए?",whatRedStatusAnswer:"लाल का मतलब तुरंत कार्रवाई की जरूरत है। अपनी फसलों, पानी के स्तर या मिट्टी की स्थिति तुरंत जांचें।",useWithoutSensors:"क्या मैं इसे सेंसर के बिना उपयोग कर सकता हूं?",useWithoutSensorsAnswer:'हां! आप "डेटा जोड़ें" अनुभाग का उपयोग करके मैन्युअल रूप से अपने अवलोकन जोड़ सकते हैं। जो कुछ आप देखते हैं उसे रिकॉर्ड करें और सिस्टम इसे ट्रैक करेगा।',signInToMonitor:"अपने खेत की निगरानी के लिए साइन इन करें",createFarmAccount:"अपना खेत निगरानी खाता बनाएं",simpleFarmMonitoring:"सरल खेत निगरानी",simpleFarmMonitoringDesc:"किसानों के लिए डिज़ाइन किए गए आसान-समझने वाले रंगों और सरल नियंत्रणों के साथ अपनी फसलों की निगरानी करें।",whatDidYouObserve:"आपने क्या देखा?",howDoesItLook:"यह कैसा दिखता है?",saving:"सेव हो रहा है...",entryType:"प्रविष्टि प्रकार",customEntry:"कस्टम प्रविष्टि",waterQualityEntry:"पानी की गुणवत्ता",fertilizerApplication:"खाद का प्रयोग",weatherObservation:"मौसम अवलोकन",title:"शीर्षक",description:"विवरण",optionalDescription:"वैकल्पिक विवरण या नोट्स",saveEntry:"प्रविष्टि सेव करें",cancel:"रद्द करें",entrySaved:"प्रविष्टि सेव हो गई!",entrySavedDesc:"आपकी मैन्युअल प्रविष्टि रिकॉर्ड और सेव हो गई है।",errorSavingEntry:"प्रविष्टि सेव करने में त्रुटि",titleRequired:"शीर्षक आवश्यक है",locationRequired:"स्थान आवश्यक है",viewEntries:"प्रविष्टियां देखें",newEntry:"नई प्रविष्टि",recordObservations:"नए अवलोकन और माप रिकॉर्ड करें",viewManageEntries:"अपनी मैन्युअल प्रविष्टियों को देखें और प्रबंधित करें",filterByType:"प्रकार के अनुसार फ़िल्टर करें:",allTypes:"सभी प्रकार",noEntriesFound:"कोई प्रविष्टि नहीं मिली",noEntriesDesc:"अभी तक कोई मैन्युअल प्रविष्टि रिकॉर्ड नहीं की गई है।",noEntriesForType:"प्रविष्टियां नहीं मिलीं।",searchResults:"खोज परिणाम",popularFarmingAreas:"लोकप्रिय कृषि क्षेत्र",savedLocations:"सेव किए गए स्थान",setCurrent:"वर्तमान सेट करें",locationSaved:"स्थान सेव हो गया",mockDataIncludes:"नमूना डेटा में शामिल है:",sevenDaysSensorData:"7 दिनों का सेंसर डेटा (मिट्टी की नमी, pH, तापमान, आदि)",currentWeatherInfo:"वर्तमान मौसम की जानकारी",soilAnalysisData:"मिट्टी विश्लेषण डेटा (रेत, मिट्टी, गाद सामग्री)",locationInfo:"स्थान की जानकारी (दिल्ली, भारत)",agriculturalAdvice:"कृषि सलाह और सुझाव",insertingData:"डेटा डाला जा रहा है...",sensorDataDesc:"मिट्टी की नमी, pH, तापमान, नाइट्रोजन, फास्फोरस, और पोटेशियम के स्तर के साथ यथार्थवादी रीडिंग।",weatherDataDesc:"तापमान, आर्द्रता, हवा की गति, और बारिश की जानकारी के साथ वर्तमान मौसम की स्थिति।",soilAnalysisDesc:"मिट्टी के प्रकार, pH स्तर, जैविक कार्बन, और रेत/मिट्टी/गाद की संरचना का विस्तृत विश्लेषण।",agriculturalAdviceDesc:"सिंचाई, उर्वरक, कीट नियंत्रण, और फसल प्रबंधन के लिए स्वचालित सुझाव।",dangerZone:"खतरनाक क्षेत्र",clearAllDataDesc:"सभी डेटा साफ करने से सेंसर रीडिंग, मौसम की जानकारी, और सभी सहेजे गए डेटा हट जाएंगे।",clearAllData:"सभी डेटा साफ करें",usageInstructions:"उपयोग निर्देश",afterInsertingData:"नमूना डेटा डालने के बाद डैशबोर्ड पर जाकर परिणाम देखें",dataForTesting:"यह डेटा केवल परीक्षण और प्रदर्शन के लिए है",realSensorData:"वास्तविक सेंसर कनेक्ट करने पर यह डेटा बदल जाएगा",aiAssistant:"AI सहायक"},en:{welcome:"Welcome",signIn:"Sign In",signUp:"Sign Up",email:"Email",password:"Password",confirmPassword:"Confirm Password",signInButton:"Sign In",signUpButton:"Sign Up",signingIn:"Signing in...",creatingAccount:"Creating account...",createAccount:"Create Account",dontHaveAccount:"Don't have an account?",signUpHere:"Sign up here",dashboard:"Dashboard",manualEntry:"Add Data",help:"Help",settings:"Settings",farmStatus:"Farm Status",todayStatus:"Today's Status",lastChecked:"Last checked",goodConditions:"Good Conditions",needsAttention:"Needs Attention",urgentAction:"Urgent Action",refresh:"Refresh",loading:"Loading",today:"Today",yesterday:"Yesterday",comparisonYesterday:"compared to yesterday",location:"Location",improving:"Improving",declining:"Declining",stable:"Stable",optimal:"Good",warning:"Warning",critical:"Critical",helpTitle:"Help",helpGreen:"Green - Everything is good",helpYellow:"Yellow - Check soon",helpRed:"Red - Take action now",addNewData:"Add New Data",selectDataType:"Select Data Type",waterQuality:"Water Quality",fertilizer:"Fertilizer",weather:"Weather",custom:"Custom",success:"Success",save:"Save",notes:"Notes",account:"Account",language:"Language",theme:"Theme",lightMode:"Light Mode",darkMode:"Dark Mode",signOut:"Sign Out",selectLanguage:"Select Language",settingsSaved:"Settings saved",dateFormat:"Date Format",timezone:"Timezone",currentLocation:"Current Location",getLocation:"Get Location",searchLocation:"Search Location",soilMoisture:"Soil Moisture",soilHealth:"Soil Health",temperature:"Temperature",humidity:"Humidity",irrigationAdvice:"Irrigation Advice",currentWeather:"Current Weather",weatherForecast:"Weather Forecast",soilData:"Soil Data",soilType:"Soil Type",soilPh:"Soil pH",sandContent:"Sand Content",clayContent:"Clay Content",cropSuggestions:"Crop Suggestions",windSpeed:"Wind Speed",visibility:"Visibility",dataManagement:"Data Management",insertMockData:"Insert Mock Data",error:"Error",retry:"Retry",latitude:"Latitude",longitude:"Longitude",understandingColors:"Understanding the Colors",everythingGood:"Everything is Good",everythingGoodDesc:"Your crops are healthy. Continue your current care routine.",checkSoon:"Check Soon",checkSoonDesc:"Something needs attention in the next day or two.",takeActionNow:"Take Action Now",takeActionNowDesc:"This needs immediate attention to protect your crops.",usingOnMobile:"Using on Mobile",tapRefreshButton:"Tap the refresh button to get latest updates",usePlusButton:"Use the + button to add your observations",swipeLeftRight:"Swipe left and right to see different sections",internetConnection:"Internet Connection",worksSlowInternet:"Works with slow internet connections",dataSavedAutomatically:"Data is saved automatically",addDataOffline:"You can add data even offline (saves when online)",commonQuestions:"Common Questions",howOftenCheck:"How often should I check the status?",howOftenCheckAnswer:"Check once or twice a day. The system updates automatically, so you'll always see the latest information.",whatRedStatus:"What should I do when I see red (critical) status?",whatRedStatusAnswer:"Red means immediate action is needed. Check your crops, water levels, or soil conditions right away.",useWithoutSensors:"Can I use this without sensors?",useWithoutSensorsAnswer:'Yes! You can manually add your observations using the "Add Data" section. Record what you see and the system will track it.',signInToMonitor:"Sign in to monitor your farm",createFarmAccount:"Create your farm monitoring account",simpleFarmMonitoring:"Simple Farm Monitoring",simpleFarmMonitoringDesc:"Monitor your crops with easy-to-understand colors and simple controls designed for farmers.",whatDidYouObserve:"What did you observe?",howDoesItLook:"How does it look?",saving:"Saving...",entryType:"Entry Type",customEntry:"Custom Entry",waterQualityEntry:"Water Quality",fertilizerApplication:"Fertilizer Application",weatherObservation:"Weather Observation",title:"Title",description:"Description",optionalDescription:"Optional description or notes",saveEntry:"Save Entry",cancel:"Cancel",entrySaved:"Entry saved successfully!",entrySavedDesc:"Your manual entry has been recorded and saved.",errorSavingEntry:"Error saving entry",titleRequired:"Title is required",locationRequired:"Location is required",viewEntries:"View Entries",newEntry:"New Entry",recordObservations:"Record new observations and measurements",viewManageEntries:"View and manage your manual entries",filterByType:"Filter by type:",allTypes:"All Types",noEntriesFound:"No entries found",noEntriesDesc:"No manual entries have been recorded yet.",noEntriesForType:"entries found.",searchResults:"Search Results",popularFarmingAreas:"Popular Farming Areas",savedLocations:"Saved Locations",setCurrent:"Set Current",locationSaved:"Location saved",mockDataIncludes:"Mock data includes:",sevenDaysSensorData:"7 days of sensor data (soil moisture, pH, temperature, etc.)",currentWeatherInfo:"Current weather information",soilAnalysisData:"Soil analysis data (sand, clay, silt content)",locationInfo:"Location information (Delhi, India)",agriculturalAdvice:"Agricultural advice and recommendations",insertingData:"Inserting data...",sensorDataDesc:"Realistic readings with soil moisture, pH, temperature, nitrogen, phosphorus, and potassium levels.",weatherDataDesc:"Current weather conditions with temperature, humidity, wind speed, and rainfall information.",soilAnalysisDesc:"Detailed analysis of soil type, pH levels, organic carbon, and sand/clay/silt composition.",agriculturalAdviceDesc:"Automated recommendations for irrigation, fertilizer, pest control, and crop management.",dangerZone:"Danger Zone",clearAllDataDesc:"Clearing all data will remove sensor readings, weather information, and all saved data.",clearAllData:"Clear All Data",usageInstructions:"Usage Instructions",afterInsertingData:"After inserting mock data, go to the dashboard to see results",dataForTesting:"This data is for testing and demonstration purposes only",realSensorData:"Real sensor data will replace this when sensors are connected",aiAssistant:"AI Assistant"}},Ah=N.createContext(void 0),Gm=({children:t})=>{const[e,r]=N.useState(()=>localStorage.getItem("farmMonitor_language")||Qm),[n,s]=N.useState(!1),i=N.useCallback(async a=>{s(!0);try{r(a),localStorage.setItem("farmMonitor_language",a),document.documentElement.lang=a}catch(l){console.error("Error updating language preference:",l)}finally{s(!1)}},[]),o=N.useCallback(a=>{const l=po[e];return l&&l[a]?l[a]:po.en[a]?po.en[a]:(console.warn(`Translation missing for key: ${a} in language: ${e}`),a)},[e]);return N.useEffect(()=>{document.documentElement.lang=e},[e]),u.jsx(Ah.Provider,{value:{language:e,setLanguage:i,t:o,loading:n},children:t})},Qt=()=>{const t=N.useContext(Ah);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),O=(t,e)=>{const r=N.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>N.createElement("svg",{ref:d,...Jm,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Ym(t)}`,a].join(" "),...c},[...e.map(([h,p])=>N.createElement(h,p)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=O("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=O("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=O("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=O("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=O("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=O("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=O("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=O("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=O("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=O("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=O("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=O("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=O("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=O("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=O("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=O("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=O("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=O("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=O("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=O("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=O("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=O("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=O("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=O("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=O("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=O("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=O("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=O("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=O("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=O("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=O("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=O("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=O("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=O("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=O("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=O("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=O("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=O("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=O("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=O("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=O("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=O("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=O("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);class Bu extends N.Component{constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r),this.setState({error:e,errorInfo:r})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:u.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4",children:u.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-8 text-center",children:[u.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 rounded-full p-4 w-20 h-20 mx-auto mb-6",children:u.jsx(fi,{className:"h-12 w-12 text-red-600 dark:text-red-400 mx-auto"})}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Something went wrong"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page or contact support if the problem persists."}),!1,u.jsxs("div",{className:"space-y-3",children:[u.jsxs("button",{onClick:this.handleReset,className:"w-full bg-green-600 text-white py-3 px-6 rounded-xl font-medium hover:bg-green-700 transition-colors flex items-center justify-center space-x-2",children:[u.jsx(Mh,{className:"h-5 w-5"}),u.jsx("span",{children:"Try Again"})]}),u.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-gray-600 text-white py-3 px-6 rounded-xl font-medium hover:bg-gray-700 transition-colors",children:"Refresh Page"})]})]})}):this.props.children}}const yg="modulepreload",vg=function(t){return"/"+t},Hu={},sn=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=vg(l),l in Hu)return;Hu[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":yg,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,v)=>{h.addEventListener("load",p),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},wg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>sn(async()=>{const{default:n}=await Promise.resolve().then(()=>on);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class jl extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class xg extends jl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Vu extends jl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class qu extends jl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var wa;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(wa||(wa={}));var kg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class _g{constructor(e,{headers:r={},customFetch:n,region:s=wa.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=wg(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return kg(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(x=>{throw new xg(x)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new Vu(h);if(!h.ok)throw new qu(h);let v=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield h.json():v==="application/octet-stream"?y=yield h.blob():v==="text/event-stream"?y=h:v==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof qu||s instanceof Vu?s.context:void 0}}})}}var Ne={},El={},Oi={},as={},Di={},$i={},Sg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},en=Sg();const bg=en.fetch,Bh=en.fetch.bind(en),Hh=en.Headers,jg=en.Request,Eg=en.Response,on=Object.freeze(Object.defineProperty({__proto__:null,Headers:Hh,Request:jg,Response:Eg,default:Bh,fetch:bg},Symbol.toStringTag,{value:"Module"})),Ng=vf(on);var Li={};Object.defineProperty(Li,"__esModule",{value:!0});let Cg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Li.default=Cg;var Vh=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($i,"__esModule",{value:!0});const Tg=Vh(Ng),Pg=Vh(Li);let Ag=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Tg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,d=null,h=null,p=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),_=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");x&&_&&_.length>1&&(h=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,p=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{c=JSON.parse(x),Array.isArray(c)&&i.status===404&&(d=[],c=null,p=200,v="OK")}catch{i.status===404&&x===""?(p=204,v="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,p=200,v="OK"),c&&this.shouldThrowOnError)throw new Pg.default(c)}return{error:c,data:d,count:h,status:p,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};$i.default=Ag;var Rg=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Di,"__esModule",{value:!0});const Ig=Rg($i);let Og=class extends Ig.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Di.default=Og;var Dg=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(as,"__esModule",{value:!0});const $g=Dg(Di);let Lg=class extends $g.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};as.default=Lg;var Mg=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oi,"__esModule",{value:!0});const gn=Mg(as);let Ug=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new gn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new gn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new gn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new gn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new gn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Oi.default=Ug;var Mi={},Ui={};Object.defineProperty(Ui,"__esModule",{value:!0});Ui.version=void 0;Ui.version="0.0.0-automated";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.DEFAULT_HEADERS=void 0;const zg=Ui;Mi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${zg.version}`};var qh=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(El,"__esModule",{value:!0});const Fg=qh(Oi),Wg=qh(as),Bg=Mi;let Hg=class Qh{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Bg.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Fg.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Qh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Wg.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};El.default=Hg;var an=Be&&Be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.PostgrestError=Ne.PostgrestBuilder=Ne.PostgrestTransformBuilder=Ne.PostgrestFilterBuilder=Ne.PostgrestQueryBuilder=Ne.PostgrestClient=void 0;const Kh=an(El);Ne.PostgrestClient=Kh.default;const Gh=an(Oi);Ne.PostgrestQueryBuilder=Gh.default;const Jh=an(as);Ne.PostgrestFilterBuilder=Jh.default;const Yh=an(Di);Ne.PostgrestTransformBuilder=Yh.default;const Xh=an($i);Ne.PostgrestBuilder=Xh.default;const Zh=an(Li);Ne.PostgrestError=Zh.default;var Vg=Ne.default={PostgrestClient:Kh.default,PostgrestQueryBuilder:Gh.default,PostgrestFilterBuilder:Jh.default,PostgrestTransformBuilder:Yh.default,PostgrestBuilder:Xh.default,PostgrestError:Zh.default};const{PostgrestClient:qg,PostgrestQueryBuilder:Xy,PostgrestFilterBuilder:Zy,PostgrestTransformBuilder:ev,PostgrestBuilder:tv,PostgrestError:rv}=Vg;class Qg{static dynamicRequire(e){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(e):null}catch{return null}}static detectEnvironment(){var e,r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);if(n>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const s=this.dynamicRequire("undici");if(s&&s.WebSocket)return{type:"native",constructor:s.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const s=this.dynamicRequire("ws");if(s)return{type:"ws",constructor:(r=s.WebSocket)!==null&&r!==void 0?r:s};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Kg="2.15.0",Gg=`realtime-js/${Kg}`,Jg="1.0.0",xa=1e4,Yg=1e3,Xg=100;var An;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(An||(An={}));var se;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(se||(se={}));var Je;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Je||(Je={}));var ka;(function(t){t.websocket="websocket"})(ka||(ka={}));var sr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(sr||(sr={}));class Zg{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class ef{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var V;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(V||(V={}));const Qu=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=e0(o,t,e,s),i),{})},e0=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?tf(i,o):_a(o)},tf=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return s0(e,r)}switch(t){case V.bool:return t0(e);case V.float4:case V.float8:case V.int2:case V.int4:case V.int8:case V.numeric:case V.oid:return r0(e);case V.json:case V.jsonb:return n0(e);case V.timestamp:return i0(e);case V.abstime:case V.date:case V.daterange:case V.int4range:case V.int8range:case V.money:case V.reltime:case V.text:case V.time:case V.timestamptz:case V.timetz:case V.tsrange:case V.tstzrange:return _a(e);default:return _a(e)}},_a=t=>t,t0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},r0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},n0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},s0=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>tf(e,a))}return t},i0=t=>typeof t=="string"?t.replace(" ","T"):t,rf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class yo{constructor(e,r,n={},s=xa){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ku;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ku||(Ku={}));class Rn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Rn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Rn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const p=d.map(_=>_.presence_ref),v=h.map(_=>_.presence_ref),y=d.filter(_=>v.indexOf(_.presence_ref)<0),x=h.filter(_=>p.indexOf(_.presence_ref)<0);y.length>0&&(a[c]=y),x.length>0&&(l[c]=x)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(v=>v.presence_ref),p=d.filter(v=>h.indexOf(v.presence_ref)<0);e[a].unshift(...p)}n(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Gu||(Gu={}));var In;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(In||(In={}));var ft;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ft||(ft={}));class Nl{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=se.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new yo(this,Je.join,this.params,this.timeout),this.rejoinTimer=new ef(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=se.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=se.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Je.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Rn(this),this.broadcastEndpointURL=rf(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==se.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params,l=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[In.PRESENCE]&&this.bindings[In.PRESENCE].length>0,d={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(ft.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(ft.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){e==null||e(ft.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,x=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,_=[];for(let m=0;m<x;m++){const g=y[m],{filter:{event:f,schema:w,table:k,filter:S}}=g,b=p&&p[m];if(b&&b.event===f&&b.schema===w&&b.table===k&&b.filter===S)_.push(Object.assign(Object.assign({},g),{id:b.id}));else{this.unsubscribe(),this.state=se.errored,e==null||e(ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(ft.SUBSCRIBED);return}}).receive("error",p=>{this.state=se.errored,e==null||e(ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===se.joined&&e===In.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=se.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Je.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new yo(this,Je.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=se.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new yo(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Xg){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Je;if(n&&[a,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,x,_;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((_=(x=v.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(v=>v.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,x,_,m,g,f;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const w=v.id,k=(y=v.filter)===null||y===void 0?void 0:y.event;return w&&((x=r.ids)===null||x===void 0?void 0:x.includes(w))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const w=(g=(m=v==null?void 0:v.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return w==="*"||w===((f=r==null?void 0:r.event)===null||f===void 0?void 0:f.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:x,table:_,commit_timestamp:m,type:g,errors:f}=y;p=Object.assign(Object.assign({},{schema:x,table:_,commit_timestamp:m,eventType:g,new:{},old:{},errors:f}),this._getPayloadRecords(y))}v.callback(p,n)})}_isClosed(){return this.state===se.closed}_isJoined(){return this.state===se.joined}_isJoining(){return this.state===se.joining}_isLeaving(){return this.state===se.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Nl.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Je.close,{},e)}_onError(e){this._on(Je.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=se.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Qu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Qu(e.columns,e.old_record)),r}}const Ju=()=>{},Ns={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},o0=[1e3,2e3,5e3,1e4],a0=1e4,l0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class u0{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=xa,this.transport=null,this.heartbeatIntervalMs=Ns.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ju,this.ref=0,this.reconnectTimer=null,this.logger=Ju,this.conn=null,this.sendBuffer=[],this.serializer=new Zg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>sn(async()=>{const{default:a}=await Promise.resolve().then(()=>on);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${ka.websocket}`,this.httpEndpoint=rf(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Qg.createWebSocket(this.endpointURL())}catch(e){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${e.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Jg}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case An.connecting:return sr.Connecting;case An.open:return sr.Open;case An.closing:return sr.Closing;default:return sr.Closed}}isConnected(){return this.connectionState()===sr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Nl(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Yg,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ns.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Je.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([l0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Gg};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Je.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new ef(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ns.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,c;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:xa,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ns.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:d=>o0[d-1]||a0,this.encode=(l=e==null?void 0:e.encode)!==null&&l!==void 0?l:(d,h)=>h(JSON.stringify(d)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Cl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ae(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class c0 extends Cl{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Sa extends Cl{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var d0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const nf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>sn(async()=>{const{default:n}=await Promise.resolve().then(()=>on);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},h0=()=>d0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield sn(()=>Promise.resolve().then(()=>on),void 0)).Response:Response}),ba=t=>{if(Array.isArray(t))return t.map(r=>ba(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ba(n)}),e},f0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var yr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const vo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),p0=(t,e,r)=>yr(void 0,void 0,void 0,function*(){const n=yield h0();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new c0(vo(s),i,o))}).catch(s=>{e(new Sa(vo(s),s))}):e(new Sa(vo(t),t))}),m0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(f0(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r))};function ls(t,e,r,n,s,i){return yr(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,m0(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>p0(l,a,n))})})}function mi(t,e,r,n){return yr(this,void 0,void 0,function*(){return ls(t,"GET",e,r,n)})}function pt(t,e,r,n,s){return yr(this,void 0,void 0,function*(){return ls(t,"POST",e,n,s,r)})}function ja(t,e,r,n,s){return yr(this,void 0,void 0,function*(){return ls(t,"PUT",e,n,s,r)})}function g0(t,e,r,n){return yr(this,void 0,void 0,function*(){return ls(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function sf(t,e,r,n,s){return yr(this,void 0,void 0,function*(){return ls(t,"DELETE",e,n,s,r)})}var je=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const y0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Yu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class v0{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=nf(s)}uploadOrUpdate(e,r,n,s){return je(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Yu),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield(e=="PUT"?ja:pt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}})}upload(e,r,n){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return je(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Yu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield ja(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(ae(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return je(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield pt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Cl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}update(e,r,n){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return je(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}copy(e,r,n){return je(this,void 0,void 0,function*(){try{return{data:{path:(yield pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return je(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield pt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return je(this,void 0,void 0,function*(){try{const s=yield pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}download(e,r){return je(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield mi(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ae(a))return{data:null,error:a};throw a}})}info(e){return je(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield mi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ba(n),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}exists(e){return je(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield g0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ae(n)&&n instanceof Sa){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return je(this,void 0,void 0,function*(){try{return{data:yield sf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}list(e,r,n){return je(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},y0),r),{prefix:e||""});return{data:yield pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const w0="2.10.4",x0={"X-Client-Info":`storage-js/${w0}`};var _r=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class k0{constructor(e,r={},n,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},x0),r),this.fetch=nf(n)}listBuckets(){return _r(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ae(e))return{data:null,error:e};throw e}})}getBucket(e){return _r(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return _r(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return _r(this,void 0,void 0,function*(){try{return{data:yield ja(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}emptyBucket(e){return _r(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}deleteBucket(e){return _r(this,void 0,void 0,function*(){try{return{data:yield sf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}}class _0 extends k0{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new v0(this.url,this.headers,e,this.fetch)}}const S0="2.54.0";let kn="";typeof Deno<"u"?kn="deno":typeof document<"u"?kn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kn="react-native":kn="node";const b0={"X-Client-Info":`supabase-js-${kn}/${S0}`},j0={headers:b0},E0={schema:"public"},N0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},C0={};var T0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const P0=t=>{let e;return t?e=t:typeof fetch>"u"?e=Bh:e=fetch,(...r)=>e(...r)},A0=()=>typeof Headers>"u"?Hh:Headers,R0=(t,e,r)=>{const n=P0(r),s=A0();return(i,o)=>T0(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var I0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function O0(t){return t.endsWith("/")?t:t+"/"}function D0(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:h}=e,p={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>I0(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}const of="2.71.1",Nr=30*1e3,Ea=3,wo=Ea*Nr,$0="http://localhost:9999",L0="supabase.auth.token",M0={"X-Client-Info":`gotrue-js/${of}`},Na="X-Supabase-Api-Version",af={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},U0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,z0=10*60*1e3;class Tl extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function D(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class F0 extends Tl{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function W0(t){return D(t)&&t.name==="AuthApiError"}class lf extends Tl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Kt extends Tl{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Et extends Kt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function B0(t){return D(t)&&t.name==="AuthSessionMissingError"}class Cs extends Kt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ts extends Kt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ps extends Kt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function H0(t){return D(t)&&t.name==="AuthImplicitGrantRedirectError"}class Xu extends Kt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ca extends Kt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function xo(t){return D(t)&&t.name==="AuthRetryableFetchError"}class Zu extends Kt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ta extends Kt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const gi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ec=` 	
\r=`.split(""),V0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ec.length;e+=1)t[ec[e].charCodeAt(0)]=-2;for(let e=0;e<gi.length;e+=1)t[gi[e].charCodeAt(0)]=e;return t})();function tc(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(gi[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(gi[n]),e.queuedBits-=6}}function uf(t,e,r){const n=V0[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function rc(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{K0(o,n,r)};for(let o=0;o<t.length;o+=1)uf(t.charCodeAt(o),s,i);return e.join("")}function q0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Q0(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}q0(n,e)}}function K0(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function G0(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)uf(t.charCodeAt(s),r,n);return new Uint8Array(e)}function J0(t){const e=[];return Q0(t,r=>e.push(r)),new Uint8Array(e)}function Y0(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>tc(s,r,n)),tc(null,r,n),e.join("")}function X0(t){return Math.round(Date.now()/1e3)+t}function Z0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Qe=()=>typeof window<"u"&&typeof document<"u",Zt={tested:!1,writable:!1},cf=()=>{if(!Qe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zt.tested)return Zt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Zt.tested=!0,Zt.writable=!0}catch{Zt.tested=!0,Zt.writable=!1}return Zt.writable};function ey(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const df=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>sn(async()=>{const{default:n}=await Promise.resolve().then(()=>on);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},ty=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Cr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},er=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},jt=async(t,e)=>{await t.removeItem(e)};class zi{constructor(){this.promise=new zi.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}zi.promiseConstructor=Promise;function ko(t){const e=t.split(".");if(e.length!==3)throw new Ta("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!U0.test(e[n]))throw new Ta("JWT not in base64url format");return{header:JSON.parse(rc(e[0])),payload:JSON.parse(rc(e[1])),signature:G0(e[2]),raw:{header:e[0],payload:e[1]}}}async function ry(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ny(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function sy(t){return("0"+t.toString(16)).substr(-2)}function iy(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,sy).join("")}async function oy(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function ay(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await oy(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sr(t,e,r=!1){const n=iy();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Cr(t,`${e}-code-verifier`,s);const i=await ay(n);return[i,n===i?"plain":"s256"]}const ly=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uy(t){const e=t.headers.get(Na);if(!e||!e.match(ly))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function cy(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function dy(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function br(t){if(!hy.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _o(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function nc(t){return JSON.parse(JSON.stringify(t))}var fy=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const nr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),py=[502,503,504];async function sc(t){var e;if(!ty(t))throw new Ca(nr(t),0);if(py.includes(t.status))throw new Ca(nr(t),t.status);let r;try{r=await t.json()}catch(i){throw new lf(nr(i),i)}let n;const s=uy(t);if(s&&s.getTime()>=af["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Zu(nr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Et}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Zu(nr(r),t.status,r.weak_password.reasons);throw new F0(nr(r),t.status||500,n)}const my=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function L(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Na]||(i[Na]=af["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await gy(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function gy(t,e,r,n,s,i){const o=my(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new Ca(nr(l),0)}if(a.ok||await sc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await sc(l)}}function dt(t){var e;let r=null;xy(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=X0(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function ic(t){const e=dt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function At(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function yy(t){return{data:t,error:null}}function vy(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=fy(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function wy(t){return t}function xy(t){return t.access_token&&t.refresh_token&&t.expires_in}const So=["global","local","others"];var ky=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class _y{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=df(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=So[0]){if(So.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${So.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:At})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=ky(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:vy,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(D(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:At})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:wy});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);c[`${_}Page`]=x}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(D(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){br(e);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:At})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){br(e);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:At})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){br(e);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:At})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){br(e.userId);try{const{data:r,error:n}=await L(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(D(r))return{data:null,error:r};throw r}}async _deleteFactor(e){br(e.userId),br(e.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}}function oc(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Sy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const jr={debug:!!(globalThis&&cf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class by extends hf{}async function jy(t,e,r){jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),jr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new by(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(jr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Sy();const Ey={url:$0,storageKey:L0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:M0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ac(t,e,r){return await r()}const Er={};class ts{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ts.nextInstanceID,ts.nextInstanceID+=1,this.instanceID>0&&Qe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Ey),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new _y({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=df(s.fetch),this.lock=s.lock||ac,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Qe()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=jy:this.lock=ac,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:cf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=oc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=oc(this.memoryStorage)),Qe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Er[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Er[this.storageKey]=Object.assign(Object.assign({},Er[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Er[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Er[this.storageKey]=Object.assign(Object.assign({},Er[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${of}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=ey(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Qe()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),H0(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return D(r)?{error:r}:{error:new lf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:dt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:p}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await Sr(this.storage,this.storageKey)),i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:y},xform:dt})}else if("phone"in e){const{phone:d,password:h,options:p}=e;i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:dt})}else throw new Ts("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ic})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ic})}else throw new Ts("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Cs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,a,l,c,d,h,p,v;let y,x;if("message"in e)y=e.message,x=e.signature;else{const{chain:_,wallet:m,statement:g,options:f}=e;let w;if(Qe())if(typeof m=="object")w=m;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))w=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=m}const k=new URL((r=f==null?void 0:f.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const S=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},f==null?void 0:f.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),g?{statement:g}:null));let b;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")b=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)b=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)y=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),x=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${k.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=f==null?void 0:f.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=f==null?void 0:f.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${f.signInWithSolana.notBefore}`]:[],...!((o=f==null?void 0:f.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${f.signInWithSolana.expirationTime}`]:[],...!((a=f==null?void 0:f.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${f.signInWithSolana.chainId}`]:[],...!((l=f==null?void 0:f.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${f.signInWithSolana.nonce}`]:[],...!((c=f==null?void 0:f.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${f.signInWithSolana.requestId}`]:[],...!((h=(d=f==null?void 0:f.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...f.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const S=await w.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=S}}try{const{data:_,error:m}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Y0(x)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:dt});if(m)throw m;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Cs}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:m})}catch(_){if(D(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const r=await er(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:dt});if(await jt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Cs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(D(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:dt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Cs}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Sr(this.storage,this.storageKey));const{error:h}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Ts("You must provide either an email or phone number.")}catch(a){if(D(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:dt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Sr(this.storage,this.storageKey)),await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:yy})}catch(i){if(D(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Et;const{error:s}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(D(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await L(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await L(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ts("You must provide either an email or phone number and a type")}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await er(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<wo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await er(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=_o()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:At}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Et}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:At})})}catch(r){if(D(r))return B0(r)&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Et;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Sr(this.storage,this.storageKey));const{data:c,error:d}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:At});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Et;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=ko(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(D(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Et;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(D(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Qe())throw new Ps("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ps(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Xu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ps("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Xu("No code detected.");const{data:g,error:f}=await this._exchangeCodeForSession(e.code);if(f)throw f;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new Ps("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let p=d+h;l&&(p=parseInt(l));const v=p-d;v*1e3<=Nr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=p-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,d);const{data:x,error:_}=await this._getUser(i);if(_)throw _;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(n){if(D(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await er(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(W0(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Z0(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Sr(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(D(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:p}=i;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Qe()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(D(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ny(async s=>(s>0&&await ry(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:dt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&xo(i)&&Date.now()+o-n<Nr})}catch(n){if(this._debug(r,"error",n),D(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Qe()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await er(this.storage,this.storageKey);if(s&&this.userStorage){let o=await er(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Cr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:_o()}else if(s&&!s.user&&!s.user){const o=await er(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await jt(this.storage,this.storageKey+"-user"),await Cr(this.storage,this.storageKey,s)):s.user=_o()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<wo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${wo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),xo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Et;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new zi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Et;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),D(i)){const o={session:null,error:i};return xo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Cr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=nc(s);await Cr(this.storage,this.storageKey,i)}else{const s=nc(r);await Cr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await jt(this.storage,this.storageKey),await jt(this.storage,this.storageKey+"-code-verifier"),await jt(this.storage,this.storageKey+"-user"),this.userStorage&&await jt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Qe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Nr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Nr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Nr}ms, refresh threshold is ${Ea} ticks`),s<=Ea&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof hf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Sr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await L(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await L(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(D(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(D(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ko(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+z0>s)return n;const{data:i,error:o}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=ko(n);r!=null&&r.allowExpired||cy(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=dy(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,J0(`${a}.${l}`)))throw new Ta("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}}ts.nextInstanceID=0;const Ny=ts;class Cy extends Ny{constructor(e){super(e)}}var Ty=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class Py{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=O0(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:E0,realtime:C0,auth:Object.assign(Object.assign({},N0),{storageKey:c}),global:j0},h=D0(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(p,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=R0(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new qg(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new _0(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new _g(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Ty(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Cy({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new u0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ay=(t,e,r)=>new Py(t,e,r);function Ry(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Ry()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Iy="https://lxmypwfxclgfwzrvaiqw.supabase.co",Oy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx4bXlwd2Z4Y2xnZnd6cnZhaXF3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ4ODMxNzksImV4cCI6MjA3MDQ1OTE3OX0.lrc3D_QP_QtDiHsc8YDT7fHtJvzdn06qEwl3gRTJ7fw",F=Ay(Iy,Oy,{realtime:{params:{eventsPerSecond:10}}}),lc=(t,e)=>{const n={soil_moisture:{optimal:[40,60],warning:[25,75],critical:[0,100]},ec:{optimal:[.5,2],warning:[.3,3],critical:[0,5]},soil_temperature:{optimal:[18,25],warning:[10,30],critical:[-10,40]},n:{optimal:[20,50],warning:[10,80],critical:[0,150]},p:{optimal:[10,30],warning:[5,50],critical:[0,100]},k:{optimal:[100,300],warning:[50,400],critical:[0,600]},ph:{optimal:[6,7.5],warning:[5.5,8],critical:[4,9]}}[t];return e>=n.optimal[0]&&e<=n.optimal[1]?"optimal":e>=n.warning[0]&&e<=n.warning[1]?"warning":"critical"},uc=t=>({soil_moisture:"%",ec:"dS/m",soil_temperature:"°C",n:"ppm",p:"ppm",k:"ppm",ph:""})[t];class yi{static async getSensorData(e){try{let r=F.from("sensor_data").select("*").order("timestamp",{ascending:!1});e!=null&&e.dateRange&&(r=r.gte("timestamp",e.dateRange.start.toISOString()).lte("timestamp",e.dateRange.end.toISOString())),e!=null&&e.limit&&(r=r.limit(e.limit));const{data:n,error:s}=await r;if(s)throw s;const i=[];return n==null||n.forEach(o=>{["soil_moisture","ec","soil_temperature","n","p","k","ph"].forEach(l=>{const c=o[l];if(c!=null){if(e!=null&&e.sensorType&&l!==e.sensorType)return;i.push({id:`${o.id}_${l}`,sensor_type:l,value:c,unit:uc(l),status:lc(l,c),timestamp:o.timestamp,latitude:o.latitude,longitude:o.longitude})}})}),i}catch(r){throw console.error("Error fetching sensor data:",r),r}}static async getLatestReadings(){try{const{data:e,error:r}=await F.from("sensor_data").select("*").order("timestamp",{ascending:!1}).limit(1);if(r)throw r;if(!e||e.length===0)return[];const n=e[0],s=[];return["soil_moisture","ec","soil_temperature","n","p","k","ph"].forEach(o=>{const a=n[o];a!=null&&s.push({id:`${n.id}_${o}`,sensor_type:o,value:a,unit:uc(o),status:lc(o,a),timestamp:n.timestamp,latitude:n.latitude,longitude:n.longitude})}),s}catch(e){throw console.error("Error fetching latest readings:",e),e}}static subscribeToSensorData(e){const r=F.channel("sensor_data_changes").on("postgres_changes",{event:"*",schema:"public",table:"sensor_data"},n=>{e(n)});return r.subscribe(),r}static async addSensorReading(e){try{const{data:r,error:n}=await F.from("sensor_data").insert([e]).select().single();if(n)throw n;return r}catch(r){throw console.error("Error adding sensor reading:",r),r}}static async insertSampleData(){try{const e=this.generateSampleData(),{error:r}=await F.from("sensor_data").insert(e);if(r)throw r}catch(e){throw console.error("Error inserting sample data:",e),e}}static generateSampleData(){const e=[],r=[{lat:28.9845,lon:77.7064},{lat:30.901,lon:75.8573},{lat:22.7196,lon:75.8577},{lat:19.9975,lon:73.7898}];for(let n=0;n<7;n++){const s=new Date;s.setDate(s.getDate()-n);for(let i=0;i<24;i+=3){const o=new Date(s);o.setHours(i),r.forEach(a=>{const l=this.generateRealisticReading(a.lat,a.lon,o);e.push({...l,timestamp:o.toISOString()})})}}return e}static generateRealisticReading(e,r,n){const s=n.getHours(),i=this.getCurrentSeason(n),o={soil_moisture:this.generateValue(45,15,s,i,"moisture"),ec:this.generateValue(1.2,.4,s,i,"ec"),soil_temperature:this.generateValue(22,8,s,i,"temperature"),n:this.generateValue(35,15,s,i,"nutrients"),p:this.generateValue(18,8,s,i,"nutrients"),k:this.generateValue(150,60,s,i,"nutrients"),ph:this.generateValue(6.8,.8,s,i,"ph")};return{latitude:e,longitude:r,soil_moisture:Math.max(20,Math.min(80,Math.round(o.soil_moisture*10)/10)),ec:Math.max(.1,Math.min(3,Math.round(o.ec*100)/100)),soil_temperature:Math.max(10,Math.min(40,Math.round(o.soil_temperature*10)/10)),n:Math.max(5,Math.min(100,Math.round(o.n))),p:Math.max(2,Math.min(50,Math.round(o.p))),k:Math.max(50,Math.min(400,Math.round(o.k))),ph:Math.max(4,Math.min(9,Math.round(o.ph*100)/100))}}static generateValue(e,r,n,s,i){var c;let o=e;const l=((c={winter:{moisture:-5,temperature:-8,nutrients:-3,ec:.1,ph:0},summer:{moisture:-10,temperature:12,nutrients:2,ec:.2,ph:-.1},monsoon:{moisture:20,temperature:-2,nutrients:-5,ec:-.3,ph:.1},post_monsoon:{moisture:5,temperature:2,nutrients:1,ec:0,ph:0}}[s])==null?void 0:c[i])||0;if(o+=l,i==="temperature"){const d=Math.sin((n-6)*Math.PI/12)*(r*.6);o+=d}else if(i==="moisture"){const d=Math.cos((n-12)*Math.PI/12)*(r*.3);o+=d}return o+=(Math.random()-.5)*r,o}static getCurrentSeason(e){const r=e.getMonth()+1;return r>=12||r<=2?"winter":r>=3&&r<=5?"summer":r>=6&&r<=9?"monsoon":"post_monsoon"}static async getStatusCounts(){try{return(await this.getLatestReadings()).reduce((n,s)=>(n[s.status]++,n),{optimal:0,warning:0,critical:0})}catch(e){return console.error("Error getting status counts:",e),{optimal:0,warning:0,critical:0}}}}const cc="ef2ee33b797134fcca1700e9788a9640",dc="https://api.openweathermap.org/data/2.5";class On{static async getCurrentWeather(e,r){try{const n=await this.getCachedWeatherData(e,r,30);if(n)return n;const s=await fetch(`${dc}/weather?lat=${e}&lon=${r}&appid=${cc}&units=metric&lang=hi`);if(!s.ok)throw new Error(`Weather API error: ${s.status}`);const i=await s.json();return await this.saveApiData("OpenWeather",i,e,r),this.parseWeatherData(i,e,r)}catch(n){return console.error("Error fetching current weather:",n),await this.getCachedWeatherData(e,r,24*60)}}static async getWeatherForecast(e,r){try{const n=await fetch(`${dc}/forecast?lat=${e}&lon=${r}&appid=${cc}&units=metric&lang=hi`);if(!n.ok)throw new Error(`Forecast API error: ${n.status}`);const s=await n.json();return await this.saveApiData("OpenWeather_Forecast",s,e,r),this.parseForecastData(s)}catch(n){return console.error("Error fetching weather forecast:",n),[]}}static async saveApiData(e,r,n,s){try{const i={timestamp:new Date().toISOString(),api_source:e,data:r,latitude:n,longitude:s},{error:o}=await F.from("api_data").insert([i]);o&&console.error("Error saving API data:",o)}catch(i){console.error("Error in saveApiData:",i)}}static parseWeatherData(e,r,n){var s,i,o;return{id:`weather_${Date.now()}`,location:e.name||"Unknown",latitude:r,longitude:n,temperature:Math.round(e.main.temp),humidity:e.main.humidity,pressure:e.main.pressure,wind_speed:Math.round((((s=e.wind)==null?void 0:s.speed)||0)*3.6),wind_direction:((i=e.wind)==null?void 0:i.deg)||0,weather_condition:e.weather[0].main,weather_description:e.weather[0].description,visibility:Math.round((e.visibility||1e4)/1e3),rainfall:((o=e.rain)==null?void 0:o["1h"])||0,timestamp:new Date().toISOString()}}static parseForecastData(e){const r=new Map;e.list.forEach(s=>{const i=new Date(s.dt*1e3).toISOString().split("T")[0];r.has(i)||r.set(i,[]),r.get(i).push(s)});const n=[];return r.forEach((s,i)=>{const o=s.map(y=>y.main.temp),a=s.map(y=>y.main.humidity),l=s.reduce((y,x)=>{var _;return y+(((_=x.rain)==null?void 0:_["3h"])||0)},0),c=s.map(y=>{var x;return((x=y.wind)==null?void 0:x.speed)||0}),d=s.map(y=>y.weather[0].main),h=d.sort((y,x)=>d.filter(_=>_===y).length-d.filter(_=>_===x).length).pop(),p=s.map(y=>y.weather[0].description),v=p.sort((y,x)=>p.filter(_=>_===y).length-p.filter(_=>_===x).length).pop();n.push({date:i,temperature_min:Math.round(Math.min(...o)),temperature_max:Math.round(Math.max(...o)),humidity:Math.round(a.reduce((y,x)=>y+x,0)/a.length),weather_condition:h||"Clear",weather_description:v||"clear sky",rainfall:Math.round(l*10)/10,wind_speed:Math.round(c.reduce((y,x)=>y+x,0)/c.length*3.6)})}),n.slice(0,5)}static async getCachedWeatherData(e,r,n){try{const s=new Date;s.setMinutes(s.getMinutes()-n);const{data:i,error:o}=await F.from("api_data").select("*").eq("api_source","OpenWeather").gte("timestamp",s.toISOString()).order("timestamp",{ascending:!1}).limit(1);if(o||!i||i.length===0)return null;const a=i[0];if(a.latitude&&a.longitude&&this.calculateDistance(e,r,a.latitude,a.longitude)>1)return null;const l=this.parseWeatherData(a.data,e,r);return l.timestamp=a.timestamp,l}catch(s){return console.error("Error getting cached weather data:",s),null}}static async getHistoricalWeatherData(e,r,n=7){try{const s=new Date;s.setDate(s.getDate()-n);const{data:i,error:o}=await F.from("api_data").select("*").eq("api_source","OpenWeather").gte("timestamp",s.toISOString()).order("timestamp",{ascending:!1});if(o||!i)return[];const a=[];return i.forEach(l=>{if(l.latitude&&l.longitude&&this.calculateDistance(e,r,l.latitude,l.longitude)<=5){const d=this.parseWeatherData(l.data,e,r);d.timestamp=l.timestamp,a.push(d)}}),a}catch(s){return console.error("Error getting historical weather data:",s),[]}}static calculateDistance(e,r,n,s){const o=(n-e)*Math.PI/180,a=(s-r)*Math.PI/180,l=Math.sin(o/2)*Math.sin(o/2)+Math.cos(e*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}static generateWeatherAdvice(e,r="hi"){const n=[],i={hi:{hotWeather:"बहुत गर्मी है, पौधों को छाया दें और ज्यादा पानी दें",coldWeather:"ठंड है, पौधों को ढकें और सुबह पानी न दें",highHumidity:"नमी ज्यादा है, फंगल रोग से बचाव करें",lowHumidity:"हवा सूखी है, पत्तियों पर पानी का छिड़काव करें",rainExpected:"बारिश आने वाली है, सिंचाई रोक दें",strongWind:"तेज हवा चल रही है, पौधों को सहारा दें",goodWeather:"मौसम अच्छा है, खेती के काम करने का अच्छा समय है"}}.hi;return e.temperature>35?n.push(i.hotWeather):e.temperature<10&&n.push(i.coldWeather),e.humidity>80?n.push(i.highHumidity):e.humidity<30&&n.push(i.lowHumidity),(e.rainfall>0||e.weather_condition.includes("Rain"))&&n.push(i.rainExpected),e.wind_speed>25&&n.push(i.strongWind),e.temperature>=20&&e.temperature<=30&&e.humidity>=40&&e.humidity<=70&&e.wind_speed<15&&n.push(i.goodWeather),n}static getWeatherIcon(e){return{Clear:"☀️",Clouds:"☁️",Rain:"🌧️",Drizzle:"🌦️",Thunderstorm:"⛈️",Snow:"❄️",Mist:"🌫️",Fog:"🌫️",Haze:"🌫️"}[e]||"🌤️"}}const hc="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",fc="https://yourfarm.app",pc="Smart Farm Assistant",$n=class $n{static async processQuery(e,r,n,s="en"){const i=performance.now(),o=r?await this.getConversationSession(r):await this.createNewConversation(s),a=this.analyzeQueryWithContext(e,s,o),l=await this.getFarmData(),c={role:"user",content:e,timestamp:new Date,metadata:{sensorData:l.sensorData,weatherData:Array.from(l.weatherDataMap.values()),queryType:a.type,urgency:a.urgency}};o.messages.push(c);const d=this.buildSystemPrompt(s,a,l,o),h=await this.callOpenRouterAPI(d,e,o),p=this.parseAiResponse(h),v={role:"assistant",content:p.advice,timestamp:new Date,metadata:{queryType:a.type,urgency:a.urgency}};o.messages.push(v),await this.updateSessionContext(o,e,p),await this.saveConversation(o);const y={...p,conversationId:o.id,confidence:.9,sources:["llama_3.3_70b","live_sensor_data","live_weather_data","conversation_context"],responseTime:performance.now()-i,intelligence_level:"advanced"};return await this.logQuery(e,y,o.id),y}static async processQueryStream(e,r,n,s,i="en"){const o=performance.now(),a=n?await this.getConversationSession(n):await this.createNewConversation(i),l=this.analyzeQueryWithContext(e,i,a),c=await this.getFarmData(),d={role:"user",content:e,timestamp:new Date,metadata:{sensorData:c.sensorData,weatherData:Array.from(c.weatherDataMap.values()),queryType:l.type,urgency:l.urgency}};a.messages.push(d);const h=this.buildSystemPrompt(i,l,c,a),p=await this.callOpenRouterAPIStream(h,e,a,r),v=this.parseAiResponse(p),y={role:"assistant",content:v.advice,timestamp:new Date,metadata:{queryType:l.type,urgency:l.urgency}};a.messages.push(y),await this.updateSessionContext(a,e,v),await this.saveConversation(a);const x={...v,conversationId:a.id,confidence:.9,sources:["llama_3.3_70b","live_sensor_data","live_weather_data","conversation_context"],responseTime:performance.now()-o,intelligence_level:"advanced"};return await this.logQuery(e,x,a.id),x}static async createNewConversation(e="en"){const r=`conv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,n={id:r,title:"New Farm Consultation",messages:[],createdAt:new Date,updatedAt:new Date,context:{language:e,season:this.getCurrentSeason(),previousRecommendations:[],currentIssues:[],followUpNeeded:!1}},s={role:"system",content:e==="hi"?"नमस्कार! मैं आपका कृषि सहायक हूं। मैं आपकी खेती से जुड़ी समस्याओं का समाधान और सलाह दे सकता हूं।":"Hello! I'm your agricultural assistant. I can help solve your farming problems and provide expert advice.",timestamp:new Date};return n.messages.push(s),this.conversationCache.set(r,n),n}static async getConversationSession(e){if(this.conversationCache.has(e))return this.conversationCache.get(e);const{data:r,error:n}=await F.from("conversations").select("*").eq("id",e).single();if(n)return console.error("Error loading conversation:",n),this.createNewConversation();const{data:s,error:i}=await F.from("conversation_messages").select("*").eq("conversation_id",e).order("timestamp",{ascending:!0});i&&console.error("Error loading messages:",i);const o={id:r.id,title:r.title,messages:s||[],createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at),context:r.context||{}};return this.conversationCache.set(e,o),o}static analyzeQueryWithContext(e,r,n){const s=e.toLowerCase(),i=n.messages.slice(-5),a=["what about","and also","but what if","how about","also","additionally"].some(v=>s.includes(v))||i.length>2,l=i.filter(v=>v.role==="user").map(v=>this.extractTopicFromMessage(v.content)).filter(Boolean);let c="general";s.includes("water")||s.includes("पानी")||s.includes("irrigation")||s.includes("सिंचाई")?c="irrigation":s.includes("disease")||s.includes("बीमारी")||s.includes("health")||s.includes("स्वास्थ्य")?c="health":s.includes("fertilizer")||s.includes("खाद")||s.includes("nutrition")||s.includes("पोषण")?c="nutrition":s.includes("weather")||s.includes("मौसम")?c="weather":s.includes("soil")||s.includes("मिट्टी")?c="soil_analysis":s.includes("analyze")||s.includes("विश्लेषण")?c="analysis":s.includes("harvest")||s.includes("फसल")?c="harvest":a&&(c="follow_up");let d="medium";i.some(v=>{var y,x;return(x=(y=v.metadata)==null?void 0:y.sensorData)==null?void 0:x.some(_=>_.status==="critical")})||s.includes("urgent")||s.includes("emergency")?d="critical":(s.includes("problem")||s.includes("issue")||s.includes("समस्या"))&&(d="high");const p=n.context.currentIssues||[];return{type:c,urgency:d,language:r,season:this.getCurrentSeason(),timeContext:this.getTimeContext(),conversationContext:{isFollowUp:a,previousTopics:l,unresolvedIssues:p,farmerProfile:{experience:n.context.farmerExperience||"intermediate",cropType:n.context.cropType,farmSize:n.context.farmSize}}}}static async getFarmData(){const e=await yi.getLatestReadings(10),r=new Map;e.forEach(l=>{if(l.latitude&&l.longitude){const c=`${l.latitude.toFixed(4)},${l.longitude.toFixed(4)}`;r.set(c,{lat:l.latitude,lon:l.longitude,name:`Sensor ${l.sensor_id||"Location"}`})}}),r.size===0&&r.set("28.6139,77.2090",{lat:28.6139,lon:77.209,name:"Delhi, India"});const n=Array.from(r.entries()).map(([l,c])=>({...c,locationKey:l})),s=n.map(async l=>{try{const c=await On.getCurrentWeather(l.lat,l.lon);return{locationKey:l.locationKey,data:c}}catch(c){throw console.error(`Weather fetch failed for ${l.locationKey}:`,c),c}}),i=await Promise.all(s),o=new Map;i.forEach(l=>{o.set(l.locationKey,l.data)});const a=e.filter(l=>l.status==="critical");return{sensorData:e,weatherDataMap:o,locations:n,criticalAlerts:a}}static buildSystemPrompt(e,r,n,s){var f;const i=e==="hi",o={summer:i?"गर्मी":"summer",monsoon:i?"मानसून":"monsoon",winter:i?"सर्दी":"winter"},a={morning:i?"सुबह":"morning",afternoon:i?"दोपहर":"afternoon",evening:i?"शाम":"evening",night:i?"रात":"night"},l=o[r.season]||r.season,c=a[r.timeContext]||r.timeContext,d=i?`आप एक भारतीय कृषि विशेषज्ञ हैं। अभी ${l} का मौसम है और ${c} का समय है। आपको किसान को नीचे दिए गए LIVE सेंसर डेटा और मौसम की जानकारी के आधार पर विशिष्ट सलाह देनी है।`:`You are an Indian agricultural expert. It's currently ${l} season and ${c} time. You must provide specific advice based on the LIVE sensor data and weather information provided below.`;let h="";const p=s.messages.slice(-this.MAX_CONTEXT_MESSAGES);p.length>1&&(h=`

CONVERSATION HISTORY:
${p.filter(k=>k.role!=="system").map(k=>`${k.role==="user"?"FARMER":"EXPERT"}: ${k.content}`).join(`
`)}`);let v="";n.sensorData.length>0&&(v=`

CURRENT SENSOR READINGS:
${n.sensorData.map(k=>{var S,b;return`${k.sensor_type}: ${k.value}${k.unit||""} (Status: ${k.status}, Location: ${(S=k.latitude)==null?void 0:S.toFixed(4)}, ${(b=k.longitude)==null?void 0:b.toFixed(4)})`}).join(`
`)}`);let y="";n.weatherDataMap.size>0&&(y=`

CURRENT WEATHER CONDITIONS:
${Array.from(n.weatherDataMap.entries()).map(([k,S])=>{const b=n.locations.find(C=>C.locationKey===k);return`Location ${(b==null?void 0:b.name)||k}: Temperature ${S.temperature}°C, Humidity ${S.humidity}%, Wind Speed ${S.windSpeed}km/h, Pressure ${S.pressure}hPa${S.rainfall?`, Rainfall ${S.rainfall}mm`:""}`}).join(`
`)}`);let x="";if(s.context){const w=[];s.context.farmerExperience&&w.push(`Experience: ${s.context.farmerExperience}`),s.context.cropType&&w.push(`Crop: ${s.context.cropType}`),s.context.farmSize&&w.push(`Farm Size: ${s.context.farmSize}`),s.context.farmLocation&&w.push(`Location: ${s.context.farmLocation.name}`),w.length>0&&(x=`

FARMER PROFILE:
${w.join(`
`)}`)}let _="";s.context.currentIssues&&s.context.currentIssues.length>0&&(_=`

ONGOING ISSUES:
${s.context.currentIssues.join(`
`)}`);let m="";s.context.previousRecommendations&&s.context.previousRecommendations.length>0&&(m=`

PREVIOUS RECOMMENDATIONS:
${s.context.previousRecommendations.slice(-3).join(`
`)}`);let g="";return n.criticalAlerts.length>0&&(g=`

CRITICAL ALERTS:
${n.criticalAlerts.map(k=>`CRITICAL: ${k.sensor_type} showing ${k.value}${k.unit||""} - requires immediate attention`).join(`
`)}`),`${d}

Query Type: ${r.type}
Urgency Level: ${r.urgency}
Is Follow-up: ${(f=r.conversationContext)!=null&&f.isFollowUp?"Yes":"No"}
Language: ${i?"Hindi":"English"}${h}${x}${v}${y}${g}${_}${m}

CRITICAL INSTRUCTIONS:
${i?'⚠️ महत्वपूर्ण: यदि ऊपर सेंसर डेटा दिया गया है, तो आपको अपनी सलाह में उन विशिष्ट मूल्यों का उल्लेख करना चाहिए। उदाहरण: "आपकी मिट्टी की नमी 45% है" या "तापमान 28°C है"।':'⚠️ IMPORTANT: If sensor data is provided above, you MUST mention those specific values in your advice. Example: "Your soil moisture is at 45%" or "Temperature is 28°C".'}
${i?'⚠️ यदि कोई सेंसर डेटा नहीं है, तो सीधे कहें "कृपया अपने खेत की स्थिति बताएं" और सामान्य सलाह न दें।':'⚠️ If NO sensor data is available, directly say "Please provide your farm conditions" and do NOT give generic advice.'}

RESPONSE GUIDELINES:
- ${i?'यदि किसान केवल "नमस्ते" या "हाय" कहता है और सेंसर डेटा उपलब्ध है, तो सेंसर डेटा का उपयोग करके खेत की वर्तमान स्थिति बताएं':'If farmer just says "hello" or "hi" and sensor data is available, proactively share the current farm conditions using the sensor data'}
- ${i?"हमेशा विशिष्ट संख्याओं का उपयोग करें जो ऊपर दिए गए डेटा से हैं":"Always use specific numbers from the data provided above"}
- ${i?"सामान्य सलाह न दें - डेटा-संचालित सिफारिशें दें":"Do not give generic advice - provide data-driven recommendations"}
- Remember and reference the conversation history when relevant
- Address critical alerts with highest priority
- Respond in ${i?"Hindi":"English"} language
- Use emojis to make the advice more readable and engaging
- Structure your response clearly with sections

CRITICAL SAFETY RULES FOR FERTILIZER RECOMMENDATIONS:
1. NEVER provide specific fertilizer doses (kg/ha) without knowing the crop growth stage
2. If Nitrogen > 100 mg/kg, say "Nitrogen is adequate - monitor growth; only add if deficiency observed"
3. NEVER recommend more than 50 kg/ha nitrogen without explicit crop stage information
4. For potassium > 150 mg/kg or phosphorus > 40 mg/kg, say "adequate - maintain current levels"
5. NEVER contradict yourself (e.g., don't say N is high then recommend adding more N)
6. Always clarify: "total seasonal amount" vs "per application" when mentioning fertilizer doses
7. For repeated applications: specify total season budget AND individual application amounts separately
8. Always recommend soil testing + local agricultural expert consultation before major fertilizer applications
9. Use ranges (e.g., "80-120 kg/ha total for season") rather than exact doses
10. If crop type or critical data is missing, say "Please provide [missing info] before I can recommend specific actions"

INTERPRETATION GUIDELINES:
- Soil Nitrogen (mg/kg): <80=Low, 80-120=Adequate, >120=High
- Soil Phosphorus (mg/kg): <30=Low, 30-50=Adequate, >50=High  
- Soil Potassium (mg/kg): <120=Low, 120-180=Adequate, >180=High
- Soil pH: 6.0-7.5=Optimal for most crops
- Soil Moisture (%): depends on soil type, generally 30-60% is workable range

FORMAT YOUR RESPONSE:
${i?'⚠️ महत्वपूर्ण: केवल प्रासंगिक अनुभागों को शामिल करें। यदि प्रश्न सरल है (जैसे "नमस्ते"), तो केवल मुख्य सलाह दें। सभी 5 अनुभागों का उपयोग केवल तभी करें जब वे वास्तव में लागू हों।':'⚠️ IMPORTANT: Include ONLY relevant sections. If query is simple (e.g., "hello"), provide only main advice. Use all 5 sections ONLY when they truly apply.'}

${i?'🌱 **मुख्य सलाह**: [विशिष्ट डेटा मूल्यों के साथ विस्तृत सिफारिश - जैसे "आपकी मिट्टी की नमी 45% है जो अच्छी है"] - हमेशा शामिल करें':'🌱 **Main Advice**: [Detailed recommendation with specific data values - e.g., "Your soil moisture is at 45% which is good"] - Always include'}
${i?"⚡ **तत्काल कार्रवाई**: [डेटा के आधार पर अभी क्या करें] - केवल तभी जब तत्काल कार्रवाई आवश्यक हो":"⚡ **Immediate Actions**: [What to do right now based on the data] - Only if immediate action needed"}
${i?"📅 **आगामी कदम**: [आने वाले दिनों/हफ्तों के लिए योजना] - केवल तभी जब दीर्घकालिक योजना प्रासंगिक हो":"📅 **Next Steps**: [What to plan for coming days/weeks] - Only if long-term planning relevant"}
${i?"❓ **अनुवर्ती प्रश्न**: [किसान की बेहतर मदद के लिए प्रश्न] - केवल तभी जब अधिक जानकारी की आवश्यकता हो":"❓ **Follow-up Questions**: [Questions to help farmer better] - Only if more info needed"}
${i?"🔗 **संबंधित विषय**: [अन्य क्षेत्र जिन्हें किसान देख सकता है] - केवल तभी जब प्रासंगिक विषय हों":"🔗 **Related Topics**: [Other areas farmer might want to explore] - Only if relevant topics exist"}

${i?"उदाहरण - सरल अभिवादन के लिए: केवल 🌱 मुख्य सलाह का उपयोग करें और सेंसर डेटा साझा करें":"Example - For simple greeting: Use only 🌱 Main Advice and share sensor data"}
${i?"उदाहरण - जटिल समस्या के लिए: सभी प्रासंगिक अनुभागों का उपयोग करें":"Example - For complex problem: Use all relevant sections"}`}static async callOpenRouterAPI(e,r,n){var l,c,d;const i={model:"meta-llama/llama-3.3-70b-instruct:free",messages:[{role:"system",content:e},{role:"user",content:r}]},o=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${hc}`,"Content-Type":"application/json","HTTP-Referer":fc,"X-Title":pc},body:JSON.stringify(i)});if(!o.ok){const h=await o.text();throw new Error(`OpenRouter API error: ${o.status} - ${h}`)}const a=await o.json();if(!((d=(c=(l=a.choices)==null?void 0:l[0])==null?void 0:c.message)!=null&&d.content))throw new Error("Invalid response from OpenRouter API");return a.choices[0].message.content}static async callOpenRouterAPIStream(e,r,n,s){var h,p,v,y;const o={model:"meta-llama/llama-3.3-70b-instruct:free",messages:[{role:"system",content:e},{role:"user",content:r}],stream:!0},a=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${hc}`,"Content-Type":"application/json","HTTP-Referer":fc,"X-Title":pc},body:JSON.stringify(o)});if(!a.ok){const x=await a.text();throw new Error(`OpenRouter API error: ${a.status} - ${x}`)}const l=(h=a.body)==null?void 0:h.getReader();if(!l)throw new Error("Failed to get response stream reader");const c=new TextDecoder;let d="";try{for(;;){const{done:x,value:_}=await l.read();if(x)break;const g=c.decode(_,{stream:!0}).split(`
`).filter(f=>f.trim()!=="");for(const f of g)if(f.startsWith("data: ")){const w=f.slice(6);if(w==="[DONE]")continue;try{const S=(y=(v=(p=JSON.parse(w).choices)==null?void 0:p[0])==null?void 0:v.delta)==null?void 0:y.content;S&&(d+=S,s(S))}catch(k){console.error("Error parsing streaming chunk:",k)}}}}finally{l.releaseLock()}if(!d)throw new Error("No content received from streaming response");return d}static parseAiResponse(e){const r=[],n=[],s={immediate:[],shortTerm:[],longTerm:[]},i=e.split(`
`);let o="";return i.forEach(a=>{const l=a.trim();l.includes("❓")||l.includes("Follow-up Questions")?o="followup":l.includes("🔗")||l.includes("Related Topics")?o="related":l.includes("⚡")||l.includes("Immediate Actions")?o="immediate":l.includes("📅")||l.includes("Next Steps")?o="shortterm":o==="followup"&&l&&!l.startsWith("🌱")&&!l.startsWith("⚡")&&!l.startsWith("📅")&&!l.startsWith("🔗")?r.push(l.replace(/^[-•*]\s*/,"")):o==="related"&&l&&!l.startsWith("🌱")&&!l.startsWith("⚡")&&!l.startsWith("📅")&&!l.startsWith("❓")?n.push(l.replace(/^[-•*]\s*/,"")):o==="immediate"&&l&&!l.startsWith("🌱")&&!l.startsWith("📅")&&!l.startsWith("❓")&&!l.startsWith("🔗")?s.immediate.push(l.replace(/^[-•*]\s*/,"")):o==="shortterm"&&l&&!l.startsWith("🌱")&&!l.startsWith("⚡")&&!l.startsWith("❓")&&!l.startsWith("🔗")&&s.shortTerm.push(l.replace(/^[-•*]\s*/,""))}),{advice:e,followUpQuestions:r.length>0?r:void 0,recommendations:s.immediate.length>0||s.shortTerm.length>0?s:void 0,relatedTopics:n.length>0?n:void 0}}static async updateSessionContext(e,r,n){var a;const s=r.toLowerCase(),i={rice:"rice",धान:"rice",wheat:"wheat",गेहूं:"wheat",corn:"corn",मक्का:"corn",tomato:"tomato",टमाटर:"tomato",potato:"potato",आलू:"potato"};for(const[l,c]of Object.entries(i))if(s.includes(l)){e.context.cropType=c;break}const o={small:"small",छोटा:"small",medium:"medium",मध्यम:"medium",large:"large",बड़ा:"large",acre:"medium",एकड़:"medium"};for(const[l,c]of Object.entries(o))if(s.includes(l)){e.context.farmSize=c;break}if(s.includes("problem")||s.includes("issue")||s.includes("समस्या")||s.includes("disease")||s.includes("बीमारी")){e.context.currentIssues||(e.context.currentIssues=[]);const l=this.extractIssueFromQuery(r);l&&!e.context.currentIssues.includes(l)&&e.context.currentIssues.push(l)}n.recommendations&&(e.context.previousRecommendations||(e.context.previousRecommendations=[]),[...n.recommendations.immediate,...n.recommendations.shortTerm].forEach(l=>{var c,d;l&&!((c=e.context.previousRecommendations)!=null&&c.includes(l))&&((d=e.context.previousRecommendations)==null||d.push(l))}),e.context.previousRecommendations=e.context.previousRecommendations.slice(-10)),e.title==="New Farm Consultation"&&e.messages.length>2&&(e.title=this.generateConversationTitle(r)),e.context.followUpNeeded=(((a=n.followUpQuestions)==null?void 0:a.length)||0)>0,e.updatedAt=new Date}static async saveConversation(e){try{const{error:r}=await F.from("conversations").upsert({id:e.id,title:e.title,context:e.context,created_at:e.createdAt.toISOString(),updated_at:e.updatedAt.toISOString()});if(r){console.error("Error saving conversation:",r);return}const s=e.messages.slice(-2).map(i=>({id:`${e.id}_${i.timestamp.getTime()}`,conversation_id:e.id,role:i.role,content:i.content,metadata:i.metadata,timestamp:i.timestamp.toISOString()}));if(s.length>0){const{error:i}=await F.from("conversation_messages").upsert(s);i&&console.error("Error saving messages:",i)}}catch(r){console.error("Error in saveConversation:",r)}}static async logQuery(e,r,n){try{const s={query:e,response:r.advice,confidence:r.confidence,response_time:Math.round(r.responseTime||0),language:"auto-detected",sources:r.sources,intelligence_level:r.intelligence_level,status:"success",model_used:"llama-3.3-70b-instruct",user_feedback:null,conversation_id:n},{error:i}=await F.from("ai_log").insert([s]);i&&console.error("Failed to insert AI log:",i)}catch(s){console.error("Failed to log AI query:",s)}}static getCurrentSeason(){const e=new Date().getMonth();return e>=2&&e<=5?"summer":e>=6&&e<=9?"monsoon":"winter"}static getTimeContext(){const e=new Date().getHours();return e<6?"night":e<12?"morning":e<17?"afternoon":e<21?"evening":"night"}static extractTopicFromMessage(e){const r={irrigation:["water","irrigation","पानी","सिंचाई"],disease:["disease","health","बीमारी","स्वास्थ्य"],fertilizer:["fertilizer","nutrition","खाद","पोषण"],weather:["weather","rain","मौसम","बारिश"],soil:["soil","मिट्टी"],harvest:["harvest","crop","फसल"],pest:["pest","insect","कीट"]},n=e.toLowerCase();for(const[s,i]of Object.entries(r))if(i.some(o=>n.includes(o)))return s;return null}static extractIssueFromQuery(e){const r=[/problem with (.+)/i,/issue with (.+)/i,/(.+) disease/i,/(.+) की समस्या/i,/(.+) बीमारी/i];for(const n of r){const s=e.match(n);if(s)return s[1].trim()}return e.toLowerCase().includes("problem")||e.toLowerCase().includes("समस्या")?e.substring(0,50)+(e.length>50?"...":""):null}static generateConversationTitle(e){return e.split(" ").slice(0,4).join(" ")+(e.split(" ").length>4?"...":"")}static async getConversationHistory(e){try{return(await this.getConversationSession(e)).messages}catch(r){return console.error("Error getting conversation history:",r),[]}}static async getUserConversations(e,r=20){try{const{data:n,error:s}=await F.from("conversations").select("*").order("updated_at",{ascending:!1}).limit(r);if(s)throw s;return n.map(i=>({id:i.id,title:i.title,messages:[],createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at),context:i.context||{}}))}catch(n){return console.error("Error getting user conversations:",n),[]}}static async deleteConversation(e){try{const{error:r}=await F.from("conversation_messages").delete().eq("conversation_id",e);if(r)return console.error("Error deleting messages:",r),!1;const{error:n}=await F.from("conversations").delete().eq("id",e);return n?(console.error("Error deleting conversation:",n),!1):(this.conversationCache.delete(e),!0)}catch(r){return console.error("Error in deleteConversation:",r),!1}}static async updateConversationTitle(e,r){try{const{error:n}=await F.from("conversations").update({title:r,updated_at:new Date().toISOString()}).eq("id",e);if(n)return console.error("Error updating conversation title:",n),!1;if(this.conversationCache.has(e)){const s=this.conversationCache.get(e);s.title=r,s.updatedAt=new Date}return!0}catch(n){return console.error("Error in updateConversationTitle:",n),!1}}static async getConversationInsights(e){var r;try{const n=await this.getConversationSession(e),s=new Set,i=new Set,o=new Set;n.messages.forEach(l=>{if(l.role==="user"){const c=this.extractTopicFromMessage(l.content);c&&s.add(c);const d=this.extractIssueFromQuery(l.content);d&&i.add(d)}}),(r=n.context.previousRecommendations)==null||r.forEach(l=>{o.add(l)});const a=Math.round((n.updatedAt.getTime()-n.createdAt.getTime())/(1e3*60));return{totalMessages:n.messages.length,topics:Array.from(s),issues:Array.from(i),recommendations:Array.from(o),duration:a,lastActivity:n.updatedAt}}catch(n){return console.error("Error getting conversation insights:",n),{totalMessages:0,topics:[],issues:[],recommendations:[],duration:0,lastActivity:new Date}}}static async searchConversations(e,r,n=10){try{const{data:s,error:i}=await F.from("conversations").select("*").or(`title.ilike.%${r}%,context->cropType.ilike.%${r}%`).order("updated_at",{ascending:!1}).limit(n);if(i)throw i;return s.map(o=>({id:o.id,title:o.title,messages:[],createdAt:new Date(o.created_at),updatedAt:new Date(o.updated_at),context:o.context||{}}))}catch(s){return console.error("Error searching conversations:",s),[]}}static getLocationBasedAdvice(e,r,n,s="en"){const i=s==="hi"?`इस स्थान (${e.toFixed(4)}, ${r.toFixed(4)}) के लिए खेती की सलाह दें`:`Provide farming advice for location (${e.toFixed(4)}, ${r.toFixed(4)})`;return this.processQuery(i,n,void 0,s)}static getSensorBasedRecommendations(e,r,n,s,i="en"){const o=i==="hi"?`${e} सेंसर ${r}${n} दिखा रहा है। क्या करना चाहिए?`:`${e} sensor showing ${r}${n}. What should I do?`;return this.processQuery(o,s,void 0,i)}static async getPerformanceStats(){var e;try{const{data:r,error:n}=await F.from("ai_log").select("response_time, created_at, status, conversation_id").order("created_at",{ascending:!1}).limit(100);if(n)throw n;const{data:s,error:i}=await F.from("conversations").select("id, created_at, updated_at").order("updated_at",{ascending:!1});if(i)throw i;const o=r.length,a=r.filter(_=>_.status==="success").length,l=r.reduce((_,m)=>_+(m.response_time||0),0)/o,c=o>0?a/o:0,d=((e=r[0])==null?void 0:e.created_at)||null,h=s.length,v=s.filter(_=>{const m=new Date(_.updated_at),g=new Date(Date.now()-24*60*60*1e3);return m>g}).length,y=await Promise.all(s.slice(0,20).map(async _=>{const{data:m}=await F.from("conversation_messages").select("id").eq("conversation_id",_.id);return(m==null?void 0:m.length)||0})),x=y.reduce((_,m)=>_+m,0)/y.length;return{totalQueries:o,avgResponseTime:l,successRate:c,lastQueryTime:d,conversationStats:{totalConversations:h,avgConversationLength:x,activeConversations:v}}}catch(r){return console.error("Error fetching performance stats:",r),{totalQueries:0,avgResponseTime:0,successRate:0,lastQueryTime:null,conversationStats:{totalConversations:0,avgConversationLength:0,activeConversations:0}}}}static clearCache(){this.conversationCache.clear(),console.log("Conversation cache cleared")}static getCacheSize(){return this.conversationCache.size}static purgeCacheOlderThan(e){const r=Date.now()-e*60*1e3;for(const[n,s]of this.conversationCache.entries())s.updatedAt.getTime()<r&&this.conversationCache.delete(n)}static async processBulkQueries(e,r){const n=[];for(let s=0;s<e.length;s++){const i=e[s],o=performance.now();try{let a=null;if(i.latitude&&i.longitude)try{a=await On.getCurrentWeather(i.latitude,i.longitude)}catch(h){console.warn(`Failed to fetch weather for location ${i.latitude}, ${i.longitude}:`,h)}const l=this.buildQueryFromTestCase(i,a),c=await this.processQuery(l,void 0,void 0,i.language||"en"),d={id:i.id,input:i,query:l,response:c.advice,confidence:c.confidence,responseTime:performance.now()-o,timestamp:new Date().toISOString(),status:"success",recommendations:c.recommendations,followUpQuestions:c.followUpQuestions,relatedTopics:c.relatedTopics,weatherData:a||void 0};n.push(d),r&&r(s+1,e.length,d),await new Promise(h=>setTimeout(h,500))}catch(a){const l={id:i.id,input:i,query:this.buildQueryFromTestCase(i,null),response:"",confidence:0,responseTime:performance.now()-o,timestamp:new Date().toISOString(),status:"error",error:a instanceof Error?a.message:"Unknown error"};n.push(l),r&&r(s+1,e.length,l)}}return n}static buildQueryFromTestCase(e,r=null){const n=[],s={latitude:e.latitude,longitude:e.longitude,"soil pH":e.soilPH,"soil moisture":e.soilMoisture,nitrogen:e.soilNitrogen,phosphorus:e.soilPhosphorus,potassium:e.soilPotassium,"crop type":e.cropType};for(const[c,d]of Object.entries(s))(d==null||d==="")&&n.push(c);let i="";n.length>0&&(i=`[CRITICAL: Missing data - ${n.join(", ")}. Provide ONLY general advice with NO specific fertilizer doses or amounts. Request missing information.] `);const o=[];e.latitude&&e.longitude&&o.push(`Location: ${e.latitude}, ${e.longitude}`),e.soilMoisture!==void 0&&o.push(`Soil Moisture: ${e.soilMoisture}%`),e.soilPH!==void 0&&o.push(`Soil pH: ${e.soilPH}`),e.soilNitrogen!==void 0&&o.push(`Nitrogen: ${e.soilNitrogen} mg/kg`),e.soilPhosphorus!==void 0&&o.push(`Phosphorus: ${e.soilPhosphorus} mg/kg`),e.soilPotassium!==void 0&&o.push(`Potassium: ${e.soilPotassium} mg/kg`),r?(o.push(`Temperature: ${r.temperature}°C`),o.push(`Humidity: ${r.humidity}%`),o.push(`Weather: ${r.weather_description}`),o.push(`Wind Speed: ${r.wind_speed} km/h`),r.rainfall>0&&o.push(`Rainfall: ${r.rainfall}mm`)):(e.temperature!==void 0&&o.push(`Temperature: ${e.temperature}°C`),e.humidity!==void 0&&o.push(`Humidity: ${e.humidity}%`)),e.cropType&&o.push(`Crop: ${e.cropType}`);const a=o.join(", "),l=e.customQuery||(e.language==="hi"?"इन मापदंडों के आधार पर खेती की सलाह दें":"Provide farming advice based on these parameters");return`${i}${l}. ${a}`}static async exportBulkResultsToCSV(e){var s,i,o,a,l,c,d,h,p,v;const n=[["ID","Status","Latitude","Longitude","Soil Moisture (%)","Soil pH","Nitrogen (mg/kg)","Phosphorus (mg/kg)","Potassium (mg/kg)","Crop Type","Weather Temp (°C)","Weather Humidity (%)","Weather Condition","Weather Description","Wind Speed (km/h)","Rainfall (mm)","Query","AI Response","Confidence","Response Time (ms)","Immediate Actions","Next Steps","Follow-up Questions","Related Topics","Error","Timestamp"].join(",")];for(const y of e){const x=[y.id,y.status,y.input.latitude||"",y.input.longitude||"",y.input.soilMoisture||"",y.input.soilPH||"",y.input.soilNitrogen||"",y.input.soilPhosphorus||"",y.input.soilPotassium||"",y.input.cropType||"",((s=y.weatherData)==null?void 0:s.temperature)||"",((i=y.weatherData)==null?void 0:i.humidity)||"",((o=y.weatherData)==null?void 0:o.weather_condition)||"",((a=y.weatherData)==null?void 0:a.weather_description)||"",((l=y.weatherData)==null?void 0:l.wind_speed)||"",((c=y.weatherData)==null?void 0:c.rainfall)||"",this.escapeCsvField(y.query),this.escapeCsvField(y.response),y.confidence,Math.round(y.responseTime),this.escapeCsvField(((d=y.recommendations)==null?void 0:d.immediate.join("; "))||""),this.escapeCsvField(((h=y.recommendations)==null?void 0:h.shortTerm.join("; "))||""),this.escapeCsvField(((p=y.followUpQuestions)==null?void 0:p.join("; "))||""),this.escapeCsvField(((v=y.relatedTopics)==null?void 0:v.join("; "))||""),this.escapeCsvField(y.error||""),y.timestamp];n.push(x.join(","))}return n.join(`
`)}static async exportBulkResultsToJSON(e){return JSON.stringify(e,null,2)}static escapeCsvField(e){if(!e)return"";const r=String(e);return r.includes(",")||r.includes('"')||r.includes(`
`)?`"${r.replace(/"/g,'""')}"`:r}static parseCsvToBulkTestCases(e){const r=e.trim().split(`
`);if(r.length<2)throw new Error("CSV must have at least a header row and one data row");const n=r[0].split(",").map(i=>i.trim().toLowerCase()),s=[];for(let i=1;i<r.length;i++){const o=this.parseCsvLine(r[i]),a={id:String(i),language:"en"};n.forEach((l,c)=>{var h;const d=(h=o[c])==null?void 0:h.trim();d&&(l==="id"||l.includes("test_id")?a.id=d:l.includes("lat")&&!l.includes("long")?a.latitude=parseFloat(d):l.includes("lon")||l.includes("long")?a.longitude=parseFloat(d):l.includes("moisture")?a.soilMoisture=parseFloat(d):(l.includes("ph")||l.includes("pH"))&&!l.includes("phos")?a.soilPH=parseFloat(d):l.includes("nitrogen")||l==="n"||l==="n_level"?a.soilNitrogen=parseFloat(d):l.includes("phosph")||l==="p"||l==="p_level"?a.soilPhosphorus=parseFloat(d):l.includes("potassium")||l==="k"||l==="k_level"?a.soilPotassium=parseFloat(d):l.includes("temp")&&!l.includes("attempt")?a.temperature=parseFloat(d):l.includes("humid")?a.humidity=parseFloat(d):l.includes("crop")?a.cropType=d:l.includes("query")||l.includes("question")?a.customQuery=d:l.includes("lang")&&(a.language=d))}),s.push(a)}return s}static parseCsvLine(e){const r=[];let n="",s=!1;for(let i=0;i<e.length;i++){const o=e[i],a=e[i+1];o==='"'?s&&a==='"'?(n+='"',i++):s=!s:o===","&&!s?(r.push(n),n=""):n+=o}return r.push(n),r}};$n.conversationCache=new Map,$n.MAX_CONTEXT_MESSAGES=10,$n.CONTEXT_RELEVANCE_THRESHOLD=.7;let ze=$n;class Dy{static async signUp(e,r){try{const{data:n,error:s}=await F.auth.signUp({email:e,password:r,options:{emailRedirectTo:void 0}});return s?{user:null,error:s}:{user:n.user?{id:n.user.id,email:n.user.email||e,created_at:n.user.created_at}:null,error:null}}catch(n){return{user:null,error:n instanceof Error?n:new Error("Sign up failed")}}}static async signIn(e,r){try{const{data:n,error:s}=await F.auth.signInWithPassword({email:e,password:r});return s?{user:null,error:s}:{user:n.user?{id:n.user.id,email:n.user.email||e,created_at:n.user.created_at}:null,error:null}}catch(n){return{user:null,error:n instanceof Error?n:new Error("Sign in failed")}}}static async signOut(){try{const{error:e}=await F.auth.signOut();return{error:e}}catch(e){return{error:e instanceof Error?e:new Error("Sign out failed")}}}static async getCurrentUser(){try{const{data:{user:e},error:r}=await F.auth.getUser();return r||!e?null:{id:e.id,email:e.email||"",created_at:e.created_at}}catch(e){return console.error("Error getting current user:",e),null}}static async isAuthenticated(){try{return await this.getCurrentUser()!==null}catch{return!1}}static onAuthStateChange(e){return F.auth.onAuthStateChange((r,n)=>{const s=n!=null&&n.user?{id:n.user.id,email:n.user.email||"",created_at:n.user.created_at}:null;e(s)})}}const $y=()=>{const{language:t}=Qt(),[e,r]=N.useState([]),[n,s]=N.useState(""),[i,o]=N.useState(!1),[a,l]=N.useState(null),[c,d]=N.useState(!1),[h,p]=N.useState([]),[v,y]=N.useState(null),[x,_]=N.useState(null),[m,g]=N.useState(""),[f,w]=N.useState(null),[k,S]=N.useState(""),[b,C]=N.useState(!1),[R,A]=N.useState(!1),[Se,Gt]=N.useState(!1),[Jt,vr]=N.useState(!1),us=N.useRef(null),lt=N.useRef(null);N.useRef(null),N.useRef([]);const Yt="",T=()=>{var E;(E=us.current)==null||E.scrollIntoView({behavior:"smooth"})};N.useEffect(()=>{T()},[e]),N.useEffect(()=>{lt.current&&(lt.current.style.height="auto",lt.current.style.height=Math.min(lt.current.scrollHeight,120)+"px")},[n]),N.useEffect(()=>{(async()=>{try{const U=await Dy.getCurrentUser();_((U==null?void 0:U.id)||null);const B=await ze.getUserConversations();p(B.map(H=>{var pe;return{id:H.id,title:H.title,lastMessage:((pe=H.messages[H.messages.length-1])==null?void 0:pe.content)||"",timestamp:H.updatedAt,messageCount:H.messages.length}}))}catch(U){console.error("Error initializing user:",U),_(null)}})()},[]),N.useEffect(()=>{e.length===0&&r([{id:"1",text:t==="hi"?"🌾 नमस्ते! मैं आपका उन्नत AI खेती सहायक हूं। मैं आपके सेंसर डेटा, मौसम की जानकारी, और मिट्टी के विश्लेषण का उपयोग करके 20 सेकंड में व्यक्तिगत सलाह देता हूं। आप मुझसे अपनी फसल, सिंचाई, पोषण या किसी भी खेती संबंधी सवाल पूछ सकते हैं।":"🌾 Hello! I'm your advanced AI farming assistant. I provide personalized advice within 20 seconds using your sensor data, weather information, and soil analysis. Ask me about your crops, irrigation, nutrition, or any farming questions.",sender:"ai",timestamp:new Date,intelligence_level:"advanced"}])},[t,e.length]);const I=E=>{window.speechSynthesis.speaking&&window.speechSynthesis.cancel(),A(!0);const U=E.replace(/\*\*/g,"").replace(/\*/g,"").replace(/[\u{1F300}-\u{1F9FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]/gu,"").trim(),B=new SpeechSynthesisUtterance(U);B.lang=t==="hi"?"hi-IN":"en-US",B.rate=1,B.pitch=1,B.volume=1,B.onend=()=>{A(!1)},B.onerror=()=>{A(!1)},window.speechSynthesis.speak(B)},$=()=>{window.speechSynthesis.speaking&&(window.speechSynthesis.cancel(),A(!1))},G=async()=>{if(!n.trim()||i)return;const E={id:Date.now().toString(),text:n,sender:"user",timestamp:new Date};r(pe=>[...pe,E]);const U=n;s(""),o(!0),l(Date.now());const B=(Date.now()+1).toString(),H={id:B,text:"",sender:"ai",timestamp:new Date,intelligence_level:"advanced"};r(pe=>[...pe,H]),vr(!0);try{let pe=!0;const be=await ze.processQueryStream(U,tt=>{pe&&(o(!1),pe=!1),r(ce=>ce.map(rt=>rt.id===B?{...rt,text:rt.text+tt}:rt))},v||void 0,x||void 0,t);if(vr(!1),!v&&be.conversationId){y(be.conversationId);const tt=await ze.getUserConversations();p(tt.map(ce=>{var rt;return{id:ce.id,title:ce.title,lastMessage:((rt=ce.messages[ce.messages.length-1])==null?void 0:rt.content)||"",timestamp:ce.updatedAt,messageCount:ce.messages.length}}))}r(tt=>tt.map(ce=>ce.id===B?{...ce,confidence:be.confidence,responseTime:be.responseTime,intelligence_level:be.intelligence_level,sources:be.sources}:ce)),Se&&I(be.advice)}catch{vr(!1);const be=a?Date.now()-a:0,tt={id:B,text:t==="hi"?`⚠️ माफ करें, ${be>25e3?"जवाब देने में बहुत समय लग गया (25 सेकंड से अधिक)":"तकनीकी समस्या हो रही है"}। कृपया फिर कोशिश करें।`:`⚠️ Sorry, ${be>25e3?"response took too long (over 25 seconds)":"technical issue occurred"}. Please try again.`,sender:"ai",timestamp:new Date,confidence:.1,responseTime:be,intelligence_level:"instant"};r(ce=>ce.map(rt=>rt.id===B?tt:rt))}finally{o(!1),l(null)}},te=()=>{y(null),r([]),s(""),d(!1),r([{id:"1",text:t==="hi"?"🌾 नमस्ते! मैं आपका उन्नत AI खेती सहायक हूं। आप मुझसे अपनी फसल, सिंचाई, पोषण या किसी भी खेती संबंधी सवाल पूछ सकते हैं।":"🌾 Hello! I'm your advanced AI farming assistant. Ask me about your crops, irrigation, nutrition, or any farming questions.",sender:"ai",timestamp:new Date,intelligence_level:"advanced"}])},wr=async E=>{try{y(E);const B=(await ze.getConversationHistory(E)).map(H=>{var pe,be,tt,ce;return{id:H.id||Date.now().toString(),text:H.content,sender:H.role==="user"?"user":"ai",timestamp:new Date(H.timestamp),confidence:(pe=H.metadata)==null?void 0:pe.confidence,responseTime:(be=H.metadata)==null?void 0:be.responseTime,intelligence_level:(tt=H.metadata)==null?void 0:tt.intelligence_level,sources:(ce=H.metadata)==null?void 0:ce.sources}});r(B),d(!1)}catch(U){console.error("Error loading conversation:",U)}},ut=async(E,U)=>{if(U.stopPropagation(),!!window.confirm(t==="hi"?"क्या आप इस बातचीत को हटाना चाहते हैं?":"Are you sure you want to delete this conversation?"))try{await ze.deleteConversation(E),p(B=>B.filter(H=>H.id!==E)),v===E&&te()}catch(B){console.error("Error deleting conversation:",B)}},xr=async(E,U)=>{if(U.trim())try{await ze.updateConversationTitle(E,U),p(B=>B.map(H=>H.id===E?{...H,title:U}:H)),w(null),S("")}catch(B){console.error("Error updating conversation title:",B)}},ct=E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),G())},Xt=h.filter(E=>E.title.toLowerCase().includes(m.toLowerCase())||E.lastMessage.toLowerCase().includes(m.toLowerCase())),pf=E=>{switch(E){case"instant":return"⚡";case"smart":return"🧠";case"advanced":return"🚀";default:return"🤖"}},mf=E=>E?E>=.8?"text-green-500":E>=.6?"text-yellow-500":"text-red-500":"text-gray-400",gf=E=>E?E.split(/(\*\*[\s\S]*?\*\*)/g).map((B,H)=>{const pe=B.match(/^\*\*([\s\S]*?)\*\*$/);return pe?u.jsx("strong",{className:"font-semibold",children:pe[1]},H):u.jsx(Of.Fragment,{children:B},H)}):null;return u.jsxs("div",{className:"h-screen flex bg-gray-50 dark:bg-gray-900 overflow-hidden",children:[c&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>d(!1)}),u.jsxs("div",{className:`
        fixed lg:relative inset-y-0 left-0 z-50
        ${c?"translate-x-0":"-translate-x-full"}
        w-80 sm:w-96 lg:w-80
        transition-transform duration-300 ease-in-out
        bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col
        lg:translate-x-0
      `,children:[u.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3 lg:hidden",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t==="hi"?"बातचीत":"Conversations"}),u.jsx("button",{onClick:()=>d(!1),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:u.jsx(gg,{className:"h-5 w-5"})})]}),u.jsxs("button",{onClick:te,className:"w-full bg-green-600 text-white py-2.5 sm:py-3 px-4 rounded-xl font-medium hover:bg-green-700 transition-colors flex items-center justify-center space-x-2",children:[u.jsx(bl,{className:"h-5 w-5"}),u.jsx("span",{children:t==="hi"?"नई बातचीत":"New Chat"})]})]}),u.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-200 dark:border-gray-700",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:t==="hi"?"वॉइस सेटिंग्स":"Voice Settings"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"flex items-center justify-between px-3 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg",children:u.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"✗ API Key Missing"})}),u.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer px-2",children:[u.jsx("input",{type:"checkbox",checked:Se,onChange:E=>Gt(E.target.checked),className:"w-4 h-4 text-green-600 rounded"}),u.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:t==="hi"?"ऑटो-स्पीक":"Auto-speak responses"})]})]})]}),u.jsx("div",{className:"p-3 sm:p-4 border-b border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"relative",children:[u.jsx(ag,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:t==="hi"?"बातचीत खोजें...":"Search conversations...",value:m,onChange:E=>g(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-700 dark:text-white text-sm"})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4",children:u.jsx("div",{className:"space-y-2",children:Xt.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx(Lh,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:m?t==="hi"?"कोई बातचीत नहीं मिली":"No conversations found":t==="hi"?"अभी तक कोई बातचीत नहीं":"No conversations yet"})]}):Xt.map(E=>u.jsx("div",{className:`group p-3 rounded-lg cursor-pointer transition-colors ${v===E.id?"bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,onClick:()=>wr(E.id),children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[f===E.id?u.jsx("input",{type:"text",value:k,onChange:U=>S(U.target.value),onBlur:()=>xr(E.id,k),onKeyDown:U=>{U.key==="Enter"&&xr(E.id,k),U.key==="Escape"&&(w(null),S(""))},className:"w-full bg-transparent border-none outline-none font-medium text-gray-900 dark:text-white",autoFocus:!0,onClick:U=>U.stopPropagation()}):u.jsx("h3",{className:"font-medium text-gray-900 dark:text-white truncate",children:E.title}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate mt-1",children:E.lastMessage}),u.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[u.jsx("span",{className:"text-xs text-gray-400",children:E.timestamp.toLocaleDateString()}),u.jsxs("span",{className:"text-xs text-gray-400",children:[E.messageCount," ",t==="hi"?"संदेश":"messages"]})]})]}),u.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx("button",{onClick:U=>{U.stopPropagation(),w(E.id),S(E.title)},className:"p-1.5 text-gray-400 hover:text-blue-600 rounded hover:bg-gray-200 dark:hover:bg-gray-600",children:u.jsx(ig,{className:"h-3.5 w-3.5"})}),u.jsx("button",{onClick:U=>ut(E.id,U),className:"p-1.5 text-gray-400 hover:text-red-600 rounded hover:bg-gray-200 dark:hover:bg-gray-600",children:u.jsx(cg,{className:"h-3.5 w-3.5"})})]})]})},E.id))})})]}),u.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-3 sm:p-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[u.jsx("button",{onClick:()=>d(!c),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex-shrink-0",children:u.jsx(sg,{className:"h-5 w-5"})}),u.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0",children:[u.jsx("div",{className:"bg-gradient-to-br from-green-100 to-blue-100 dark:from-green-900/30 dark:to-blue-900/30 rounded-full p-1.5 sm:p-2 flex-shrink-0",children:u.jsx(mo,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600 dark:text-green-400"})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("h1",{className:"text-base sm:text-xl font-semibold text-gray-900 dark:text-white truncate",children:t==="hi"?"AI खेती सहायक":"AI Farm Assistant"}),u.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 truncate",children:[t==="hi"?"ऑनलाइन • <20 सेकंड":"Online • <20 seconds",Yt]})]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[u.jsx("span",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 hidden sm:inline",children:t==="hi"?"लाइव डेटा":"Live data"}),u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4 md:p-6",children:u.jsxs("div",{className:"max-w-4xl mx-auto space-y-4 sm:space-y-6",children:[e.map(E=>{var U;return u.jsx("div",{className:`flex ${E.sender==="user"?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`flex items-start space-x-2 sm:space-x-3 max-w-[85%] sm:max-w-[80%] ${E.sender==="user"?"flex-row-reverse space-x-reverse":""}`,children:[u.jsx("div",{className:`flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center ${E.sender==="user"?"bg-blue-500":"bg-gradient-to-br from-green-100 to-blue-100 dark:from-green-900/30 dark:to-blue-900/30"}`,children:E.sender==="user"?u.jsx(dg,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"}):u.jsx(mo,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600 dark:text-green-400"})}),u.jsxs("div",{className:`rounded-2xl px-4 py-3 sm:px-6 sm:py-4 ${E.sender==="user"?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-700 shadow-sm"}`,children:[u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("p",{className:"whitespace-pre-wrap leading-relaxed text-sm sm:text-base break-words flex-1",children:[gf(E.text),E.sender==="ai"&&Jt&&E.text===((U=e[e.length-1])==null?void 0:U.text)&&u.jsx("span",{className:"inline-block w-0.5 h-5 bg-green-500 ml-1 animate-pulse"}),E.sender==="ai"&&!E.text&&i&&u.jsx("span",{className:"text-gray-400",children:"●●●"})]}),E.sender==="ai"&&u.jsx("button",{onClick:()=>I(E.text),disabled:R,className:"ml-2 p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors disabled:opacity-50 flex-shrink-0",title:t==="hi"?"बोलें":"Speak",children:u.jsx(hg,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"})})]}),E.sender==="ai"&&u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mt-2 sm:mt-3 pt-2 sm:pt-3 border-t border-gray-200 dark:border-gray-600 text-xs gap-2 sm:gap-0",children:[u.jsxs("div",{className:"flex items-center flex-wrap gap-2 sm:gap-3 opacity-70",children:[E.responseTime&&u.jsxs("span",{className:"whitespace-nowrap",children:["⏱️ ",(E.responseTime/1e3).toFixed(1),"s"]}),E.confidence&&u.jsxs("span",{className:`whitespace-nowrap ${mf(E.confidence)}`,children:["🎯 ",Math.round(E.confidence*100),"%"]}),E.intelligence_level&&u.jsx("span",{title:E.intelligence_level,className:"whitespace-nowrap",children:pf(E.intelligence_level)})]}),E.sources&&E.sources.length>0&&u.jsxs("div",{className:"flex items-center space-x-1 opacity-70",children:[E.sources.includes("live_sensor_data")&&u.jsx("span",{title:"Live Sensor Data",children:"📊"}),E.sources.includes("live_weather_data")&&u.jsx("span",{title:"Live Weather Data",children:"🌤️"}),E.sources.includes("gemini_ai")&&u.jsx("span",{title:"Gemini AI",children:"🚀"})]})]})]})]})},E.id)}),i&&u.jsx("div",{className:"flex justify-start",children:u.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[u.jsx("div",{className:"bg-gradient-to-br from-green-100 to-blue-100 dark:from-green-900/30 dark:to-blue-900/30 rounded-full p-1.5 sm:p-2",children:u.jsx(mo,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-600 dark:text-green-400"})}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl px-4 py-3 sm:px-6 sm:py-4 border border-gray-200 dark:border-gray-700 shadow-sm",children:u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx(ng,{className:"h-4 w-4 sm:h-5 sm:w-5 animate-spin text-green-500"}),u.jsxs("span",{className:"text-gray-600 dark:text-gray-300 text-sm sm:text-base",children:[t==="hi"?"डेटा विश्लेषण...":"Analyzing...",a&&u.jsxs("span",{className:"ml-2 font-mono",children:[Math.round((Date.now()-a)/1e3),"s"]})]})]})})]})}),u.jsx("div",{ref:us})]})}),u.jsx("div",{className:"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-3 sm:p-4 md:p-6",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("div",{className:"flex items-end space-x-2 sm:space-x-4",children:[Yt,u.jsx("div",{className:"flex-1",children:u.jsx("textarea",{ref:lt,value:n,onChange:E=>s(E.target.value),onKeyPress:ct,placeholder:t==="hi"?"अपना सवाल यहाँ लिखें...":"Type your question here...",className:"w-full resize-none border border-gray-300 dark:border-gray-600 rounded-xl sm:rounded-2xl px-4 py-3 sm:px-6 sm:py-4 focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-700 dark:text-white text-sm sm:text-base",rows:1,disabled:i||b,style:{minHeight:"48px",maxHeight:"120px"}})}),R&&u.jsx("button",{onClick:$,className:"p-3 sm:p-4 rounded-xl sm:rounded-2xl bg-orange-500 hover:bg-orange-600 text-white transition-all duration-200 transform hover:scale-105 active:scale-95 flex-shrink-0",title:t==="hi"?"बोलना बंद करें":"Stop speaking",children:u.jsx(fg,{className:"h-5 w-5"})}),u.jsx("button",{onClick:G,disabled:!n.trim()||i||b,className:"bg-gradient-to-r from-green-600 to-blue-600 text-white p-3 sm:p-4 rounded-xl sm:rounded-2xl hover:from-green-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 active:scale-95 flex-shrink-0",children:u.jsx(lg,{className:"h-5 w-5"})})]}),u.jsxs("div",{className:"mt-2 sm:mt-3 text-xs text-gray-500 text-center flex flex-col sm:flex-row items-center justify-center gap-1 sm:gap-2",children:[u.jsx("span",{children:t==="hi"?"AI जवाब 20 सेकंड में":"AI responds in 20s"}),u.jsx("span",{className:"hidden sm:inline",children:"•"}),u.jsxs("span",{className:"flex items-center space-x-1",children:[u.jsx("span",{children:"📊"}),u.jsx("span",{children:t==="hi"?"लाइव डेटा से":"With live data"})]}),Yt]})]})})]})]})},Ly=({activeTab:t,onTabChange:e})=>{const{t:r}=Qt(),{theme:n,toggleTheme:s}=Ph(),i=[{id:"dashboard",label:r("dashboard"),icon:zu},{id:"manual-entry",label:r("manualEntry"),icon:bl},{id:"ai-chatbot",label:r("aiAssistant"),icon:Lh},{id:"help",label:r("help"),icon:Dh},{id:"settings",label:r("settings"),icon:Uh}];return u.jsx("nav",{className:"bg-white dark:bg-gray-800 shadow-lg border-b border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsxs("div",{className:"flex justify-between items-center px-4 sm:px-6 lg:px-8 py-4",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"bg-green-600 rounded-lg p-2",children:u.jsx(zu,{className:"h-6 w-6 text-white"})}),u.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:r("farmStatus")})]}),u.jsx("div",{className:"flex items-center space-x-2",children:u.jsx("button",{onClick:s,className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors","aria-label":"Toggle theme",children:n==="light"?u.jsx(ya,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}):u.jsx(va,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})})})]}),u.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pb-4",children:u.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:i.map(o=>{const a=o.icon;return u.jsxs("button",{onClick:()=>e(o.id),className:`flex flex-col items-center space-y-1 px-4 py-3 rounded-xl font-medium text-sm transition-all duration-200 whitespace-nowrap min-w-[80px] ${t===o.id?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-green-600 dark:hover:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20"}`,children:[u.jsx(a,{className:"h-6 w-6"}),u.jsx("span",{className:"text-xs",children:o.label})]},o.id)})})})]})})},Dn=({status:t,size:e="medium",showText:r=!0,className:n=""})=>{const{t:s}=Qt(),i={optimal:{color:"text-green-600 dark:text-green-400",bg:"bg-green-100 dark:bg-green-900/30",border:"border-green-300 dark:border-green-700",icon:es,text:s("optimal")},warning:{color:"text-yellow-600 dark:text-yellow-400",bg:"bg-yellow-100 dark:bg-yellow-900/30",border:"border-yellow-300 dark:border-yellow-700",icon:fi,text:s("warning")},critical:{color:"text-red-600 dark:text-red-400",bg:"bg-red-100 dark:bg-red-900/30",border:"border-red-300 dark:border-red-700",icon:mg,text:s("critical")}},o={small:{icon:"h-4 w-4",text:"text-sm",padding:"px-2 py-1"},medium:{icon:"h-6 w-6",text:"text-base",padding:"px-3 py-2"},large:{icon:"h-8 w-8",text:"text-lg",padding:"px-4 py-3"}},a=i[t],l=o[e],c=a.icon;return u.jsxs("div",{className:`inline-flex items-center space-x-2 rounded-full border-2 ${a.bg} ${a.border} ${l.padding} ${n}`,children:[u.jsx(c,{className:`${a.color} ${l.icon}`}),r&&u.jsx("span",{className:`font-medium ${a.color} ${l.text}`,children:a.text})]})},ff=({size:t="medium",className:e=""})=>{const r={small:"h-4 w-4",medium:"h-8 w-8",large:"h-12 w-12"};return u.jsx("div",{className:`flex items-center justify-center ${e}`,children:u.jsx("div",{className:`${r[t]} animate-spin rounded-full border-2 border-gray-300 border-t-green-600`})})},My=({latitude:t,longitude:e})=>{const{t:r,language:n}=Qt(),[s,i]=N.useState(null),[o,a]=N.useState([]),[l,c]=N.useState(!0),[d,h]=N.useState(null);N.useEffect(()=>{p()},[t,e]);const p=async()=>{try{c(!0),h(null);const[y,x]=await Promise.all([On.getCurrentWeather(t,e),On.getWeatherForecast(t,e)]);i(y),a(x)}catch(y){console.error("Error fetching weather data:",y),h(y instanceof Error?y.message:"Failed to fetch weather data")}finally{c(!1)}},v=y=>On.getWeatherIcon(y);return l?u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:u.jsx("div",{className:"flex items-center justify-center h-32",children:u.jsx(ff,{size:"medium"})})}):d?u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:u.jsx("div",{className:"flex items-center justify-center h-32 text-center",children:u.jsxs("div",{children:[u.jsx(ga,{className:"h-8 w-8 text-red-500 mx-auto mb-2"}),u.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:d})]})})}):u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[u.jsx(Ih,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:r("currentWeather")})]}),s&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"text-4xl",children:v(s.weather_condition)}),u.jsxs("div",{children:[u.jsxs("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[s.temperature,"°C"]}),u.jsx("div",{className:"text-gray-600 dark:text-gray-400 capitalize",children:s.weather_description}),u.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:s.location})]})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx(Oh,{className:"h-4 w-4 text-blue-500"}),u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:r("humidity")})]}),u.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[s.humidity,"%"]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx(pg,{className:"h-4 w-4 text-green-500"}),u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:r("windSpeed")})]}),u.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[s.wind_speed," km/h"]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx(Fh,{className:"h-4 w-4 text-red-500"}),u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pressure"})]}),u.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[s.pressure," hPa"]})]}),u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[u.jsx(Zm,{className:"h-4 w-4 text-purple-500"}),u.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:r("visibility")})]}),u.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[s.visibility," km"]})]})]})]}),o.length>0&&u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center space-x-2",children:[u.jsx(Xm,{className:"h-5 w-5"}),u.jsx("span",{children:r("weatherForecast")})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:o.map((y,x)=>u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3 text-center",children:[u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:x===0?r("today"):new Date(y.date).toLocaleDateString("en",{weekday:"short"})}),u.jsx("div",{className:"text-2xl mb-2",children:v(y.weather_condition)}),u.jsxs("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[y.temperature_max,"°/",y.temperature_min,"°"]}),y.rainfall>0&&u.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:[y.rainfall,"mm"]})]},y.date))})]})]})]})},mc=()=>{const{t,language:e}=Qt(),[r,n]=N.useState([]),[s,i]=N.useState([]),[o,a]=N.useState(null),[l,c]=N.useState({optimal:0,warning:0,critical:0}),[d,h]=N.useState(!0),[p,v]=N.useState(!1),[y,x]=N.useState(null),[_,m]=N.useState(null),g=N.useCallback(async()=>{try{m(null);const k=await yi.getSensorData({limit:100});n(k);const S=await yi.getLatestReadings();i(S);const b=S.reduce((R,A)=>(R[A.status]++,R),{optimal:0,warning:0,critical:0});c(b);let C=null;if(S.length>0){const R=S[0];R.latitude&&R.longitude&&(C={lat:R.latitude,lon:R.longitude,name:"Sensor Location"})}C||(C={lat:28.6139,lon:77.209,name:"Delhi, India"}),a(C),x(new Date)}catch(k){console.error("Error fetching integrated data:",k),m(k instanceof Error?k.message:"Failed to fetch data")}finally{h(!1),v(!1)}},[]);N.useEffect(()=>{g()},[g]),N.useEffect(()=>{const k=setInterval(()=>{!d&&!p&&(v(!0),g())},3e5);return()=>clearInterval(k)},[d,p,g]);const f=()=>{v(!0),g()},w=k=>({soil_moisture:t("soilMoisture"),ph:t("soilHealth"),soil_temperature:t("temperature"),ec:"EC",n:"Nitrogen",p:"Phosphorus",k:"Potassium"})[k]||k;return d?u.jsx("div",{className:"flex items-center justify-center h-96",children:u.jsxs("div",{className:"text-center",children:[u.jsx(ff,{size:"large"}),u.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:t("loading")})]})}):_?u.jsx("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-2xl p-6 text-center",children:[u.jsx(fi,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-red-900 dark:text-red-400 mb-2",children:t("error")}),u.jsx("p",{className:"text-red-700 dark:text-red-300 mb-4",children:_}),u.jsx("button",{onClick:f,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:t("retry")})]})}):u.jsxs("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 lg:p-8 space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:t("farmStatus")}),u.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[y&&u.jsxs("span",{className:"text-sm text-gray-500",children:[t("lastChecked"),": ",y.toLocaleTimeString()]}),o&&u.jsxs("span",{className:"text-sm text-gray-500 flex items-center space-x-1",children:[u.jsx($h,{className:"h-3 w-3"}),u.jsx("span",{children:o.name})]})]})]}),u.jsxs("button",{onClick:f,disabled:p,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[u.jsx(Mh,{className:`h-4 w-4 ${p?"animate-spin":""}`}),u.jsx("span",{children:t("refresh")})]})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border-2 border-green-200 dark:border-green-800 rounded-2xl p-6 text-center",children:[u.jsx(es,{className:"h-12 w-12 text-green-600 dark:text-green-400 mx-auto mb-3"}),u.jsx("div",{className:"text-4xl font-bold text-green-700 dark:text-green-400 mb-2",children:l.optimal}),u.jsx("p",{className:"text-green-600 dark:text-green-400 font-medium",children:e==="hi"?"अच्छा":"Good"})]}),u.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border-2 border-yellow-200 dark:border-yellow-800 rounded-2xl p-6 text-center",children:[u.jsx(Rh,{className:"h-12 w-12 text-yellow-600 dark:text-yellow-400 mx-auto mb-3"}),u.jsx("div",{className:"text-4xl font-bold text-yellow-700 dark:text-yellow-400 mb-2",children:l.warning}),u.jsx("p",{className:"text-yellow-600 dark:text-yellow-400 font-medium",children:e==="hi"?"सावधान":"Warning"})]}),u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border-2 border-red-200 dark:border-red-800 rounded-2xl p-6 text-center",children:[u.jsx(fi,{className:"h-12 w-12 text-red-600 dark:text-red-400 mx-auto mb-3"}),u.jsx("div",{className:"text-4xl font-bold text-red-700 dark:text-red-400 mb-2",children:l.critical}),u.jsx("p",{className:"text-red-600 dark:text-red-400 font-medium",children:e==="hi"?"खतरनाक":"Critical"})]})]}),o&&u.jsx(My,{latitude:o.lat,longitude:o.lon}),s.length>0?u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:e==="hi"?"सेंसर डेटा":"Sensor Data"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(k=>u.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:w(k.sensor_type)}),u.jsx(Dn,{status:k.status,size:"small",showText:!1})]}),u.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:[k.value,k.unit]}),u.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(k.timestamp).toLocaleString()})]},k.id))})]}):u.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-2xl p-8 text-center",children:[u.jsx(Fh,{className:"h-12 w-12 text-blue-400 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium text-blue-900 dark:text-blue-400 mb-2",children:e==="hi"?"कोई डेटा उपलब्ध नहीं":"No Data Available"}),u.jsx("p",{className:"text-blue-700 dark:text-blue-300 mb-4",children:e==="hi"?"सेंसर डेटा उपलब्ध नहीं है। नमूना डेटा डालने के लिए सेटिंग्स में जाएं।":"No sensor data available. Go to Settings to insert sample data."}),u.jsx("button",{onClick:f,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:t("refresh")})]}),u.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 dark:from-green-900/20 dark:to-blue-900/20 border border-green-200 dark:border-green-700 rounded-2xl p-6",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[u.jsx("div",{className:"bg-green-100 dark:bg-green-900/30 rounded-full p-2",children:u.jsx(es,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e==="hi"?"तेज़ AI सहायक उपलब्ध है":"Fast AI Assistant Available"})]}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:e==="hi"?"ऊपर दाईं ओर चैट आइकन पर क्लिक करके 20 सेकंड में जवाब पाएं।":"Click the chat icon in the top right to get answers within 20 seconds."})]})]})};class Uy{static async getManualEntries(e){try{let r=F.from("manual_entry").select("*").order("timestamp",{ascending:!1});e!=null&&e.entryType&&(r=r.eq("entry_type",e.entryType)),e!=null&&e.dateRange&&(r=r.gte("timestamp",e.dateRange.start.toISOString()).lte("timestamp",e.dateRange.end.toISOString())),e!=null&&e.limit&&(r=r.limit(e.limit));const{data:n,error:s}=await r;if(s)throw s;return n||[]}catch(r){throw console.error("Error fetching manual entries:",r),r}}static async addManualEntry(e){try{const{data:r,error:n}=await F.from("manual_entry").insert([e]).select().single();if(n)throw n;return r}catch(r){throw console.error("Error adding manual entry:",r),r}}static async updateManualEntry(e,r){try{const{data:n,error:s}=await F.from("manual_entry").update(r).eq("id",e).select().single();if(s)throw s;return n}catch(n){throw console.error("Error updating manual entry:",n),n}}static async deleteManualEntry(e){try{const{error:r}=await F.from("manual_entry").delete().eq("id",e);if(r)throw r}catch(r){throw console.error("Error deleting manual entry:",r),r}}static subscribeToManualEntries(e){return F.channel("manual_entry_changes").on("postgres_changes",{event:"*",schema:"public",table:"manual_entry"},e).subscribe()}}const zy=()=>{const{t}=Qt(),[e,r]=N.useState(null),[n,s]=N.useState({title:"",location:"",notes:"",status:"optimal"}),[i,o]=N.useState(!1),[a,l]=N.useState(!1),[c,d]=N.useState(null),h=[{type:"water_quality",title:t("waterQuality"),icon:Oh,color:"bg-blue-100 dark:bg-blue-900/30 border-blue-300 dark:border-blue-700 text-blue-700 dark:text-blue-400"},{type:"fertilizer",title:t("fertilizer"),icon:rg,color:"bg-green-100 dark:bg-green-900/30 border-green-300 dark:border-green-700 text-green-700 dark:text-green-400"},{type:"weather",title:t("weather"),icon:Ih,color:"bg-yellow-100 dark:bg-yellow-900/30 border-yellow-300 dark:border-yellow-700 text-yellow-700 dark:text-yellow-400"},{type:"custom",title:t("custom"),icon:bl,color:"bg-gray-100 dark:bg-gray-900/30 border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-400"}],p=async _=>{if(_.preventDefault(),!!e){o(!0),d(null);try{if(!n.title.trim())throw new Error("Title is required");if(!n.location.trim())throw new Error("Location is required");await Uy.addManualEntry({entry_type:e,title:n.title,description:n.notes,latitude:28.6139,longitude:77.209,data:{status:n.status}}),l(!0),s({title:"",location:"",notes:"",status:"optimal"}),r(null),setTimeout(()=>l(!1),3e3)}catch(m){d(m instanceof Error?m.message:"An error occurred")}finally{o(!1)}}},v=()=>{r(null),d(null)};if(!e)return u.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:t("addNewData")}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:t("selectDataType")})]}),a&&u.jsx("div",{className:"mb-6 bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-700 rounded-2xl p-6",children:u.jsx("div",{className:"flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx(pi,{className:"h-12 w-12 text-green-500 mx-auto mb-2"}),u.jsxs("p",{className:"text-green-800 dark:text-green-400 font-medium text-lg",children:[t("success"),"!"]}),u.jsx("p",{className:"text-green-700 dark:text-green-300",children:"Your data has been saved successfully"})]})})}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:h.map(_=>{const m=_.icon;return u.jsx("button",{onClick:()=>r(_.type),className:`p-8 rounded-2xl border-2 transition-all duration-200 hover:shadow-lg ${_.color}`,children:u.jsxs("div",{className:"text-center",children:[u.jsx(m,{className:"h-16 w-16 mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:_.title})]})},_.type)})})]});const y=h.find(_=>_.type===e),x=y.icon;return u.jsxs("div",{className:"max-w-2xl mx-auto p-4 sm:p-6 lg:p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-2xl border-2 mb-4 ${y.color}`,children:u.jsx(x,{className:"h-8 w-8"})}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:y.title}),u.jsxs("button",{onClick:v,className:"text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 font-medium",children:["← ",t("selectDataType")]})]}),c&&u.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-2xl p-4",children:u.jsx("p",{className:"text-red-700 dark:text-red-400 text-center",children:c})}),u.jsxs("form",{onSubmit:p,className:"space-y-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-lg font-medium text-gray-900 dark:text-white mb-3",children:[u.jsx(pi,{className:"inline h-5 w-5 mr-2"}),"What did you observe? *"]}),u.jsx("input",{type:"text",value:n.title,onChange:_=>s(m=>({...m,title:_.target.value})),required:!0,className:"w-full text-lg border-2 border-gray-300 dark:border-gray-600 rounded-xl px-4 py-3 focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-700 dark:text-white",placeholder:"e.g., Applied fertilizer, Checked water level"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-lg font-medium text-gray-900 dark:text-white mb-3",children:[u.jsx($h,{className:"inline h-5 w-5 mr-2"}),"Location *"]}),u.jsx("input",{type:"text",value:n.location,onChange:_=>s(m=>({...m,location:_.target.value})),required:!0,className:"w-full text-lg border-2 border-gray-300 dark:border-gray-600 rounded-xl px-4 py-3 focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-700 dark:text-white",placeholder:"e.g., Field A, Greenhouse 1"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-lg font-medium text-gray-900 dark:text-white mb-3",children:"How does it look?"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:["optimal","warning","critical"].map(_=>u.jsx("button",{type:"button",onClick:()=>s(m=>({...m,status:_})),className:`p-4 rounded-xl border-2 transition-all ${n.status===_?"border-green-500 bg-green-50 dark:bg-green-900/30":"border-gray-300 dark:border-gray-600 hover:border-green-300"}`,children:u.jsx(Dn,{status:_,size:"medium"})},_))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-lg font-medium text-gray-900 dark:text-white mb-3",children:"Notes (Optional)"}),u.jsx("textarea",{value:n.notes,onChange:_=>s(m=>({...m,notes:_.target.value})),rows:4,className:"w-full text-lg border-2 border-gray-300 dark:border-gray-600 rounded-xl px-4 py-3 focus:ring-2 focus:ring-green-500 focus:border-green-500 dark:bg-gray-700 dark:text-white",placeholder:"Additional details about your observation..."})]})]}),u.jsxs("button",{type:"submit",disabled:i,className:"w-full bg-green-600 text-white py-4 px-6 rounded-xl font-medium text-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:[u.jsx(og,{className:"h-5 w-5"}),u.jsx("span",{children:t(i?"saving":"save")})]})]})]})},Fy=()=>{const{t,language:e,setLanguage:r}=Qt(),{theme:n,toggleTheme:s}=Ph(),[i,o]=N.useState(!1),[a,l]=N.useState(null),[c,d]=N.useState(null),h=async()=>{o(!0),d(null),l(null);try{await yi.insertSampleData(),l(e==="hi"?"नमूना डेटा सफलतापूर्वक डाला गया! डैशबोर्ड देखें।":"Sample data inserted successfully! Check the dashboard."),setTimeout(()=>l(null),5e3)}catch(p){console.error("Error inserting mock data:",p),d(e==="hi"?"नमूना डेटा डालने में त्रुटि। कृपया फिर कोशिश करें।":"Error inserting sample data. Please try again.")}finally{o(!1)}};return u.jsxs("div",{className:"max-w-md mx-auto p-4 space-y-4",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-full p-3 w-16 h-16 mx-auto mb-3",children:u.jsx(Uh,{className:"h-10 w-10 text-gray-600 dark:text-gray-400 mx-auto"})}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t("settings")})]}),a&&u.jsx("div",{className:"bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-700 rounded-xl p-3",children:u.jsx("p",{className:"text-green-700 dark:text-green-400 text-sm text-center",children:a})}),c&&u.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-xl p-3",children:u.jsx("p",{className:"text-red-700 dark:text-red-400 text-sm text-center",children:c})}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-4",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[u.jsx(eg,{className:"h-5 w-5 text-gray-400"}),u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t("language")})]}),u.jsx("div",{className:"space-y-2",children:Km.map(p=>u.jsx("button",{onClick:()=>r(p.code),className:`w-full p-3 rounded-lg border transition-all text-left ${e===p.code?"border-green-500 bg-green-50 dark:bg-green-900/30":"border-gray-200 dark:border-gray-600 hover:border-green-300"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:p.nativeName}),u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:p.name})]}),e===p.code&&u.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:u.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})]})},p.code))})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-4",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n==="light"?u.jsx(va,{className:"h-5 w-5 text-gray-400"}):u.jsx(ya,{className:"h-5 w-5 text-gray-400"}),u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t("theme")})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx("button",{onClick:()=>n==="dark"&&s(),className:`p-3 rounded-lg border transition-all ${n==="light"?"border-green-500 bg-green-50 dark:bg-green-900/30":"border-gray-200 dark:border-gray-600 hover:border-green-300"}`,children:u.jsxs("div",{className:"text-center",children:[u.jsx(va,{className:"h-6 w-6 mx-auto mb-1 text-yellow-500"}),u.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t("lightMode")})]})}),u.jsx("button",{onClick:()=>n==="light"&&s(),className:`p-3 rounded-lg border transition-all ${n==="dark"?"border-green-500 bg-green-50 dark:bg-green-900/30":"border-gray-200 dark:border-gray-600 hover:border-green-300"}`,children:u.jsxs("div",{className:"text-center",children:[u.jsx(ya,{className:"h-6 w-6 mx-auto mb-1 text-blue-500"}),u.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t("darkMode")})]})})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-4",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[u.jsx(go,{className:"h-5 w-5 text-gray-400"}),u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t("dataManagement")})]}),u.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 rounded-lg p-3 mb-3",children:u.jsx("p",{className:"text-blue-800 dark:text-blue-300 text-sm",children:e==="hi"?"नमूना डेटा में GPS स्थान के साथ 7 दिनों का सेंसर डेटा शामिल है। AI सहायक इस डेटा का उपयोग करके तेज़ सलाह देगा।":"Sample data includes 7 days of sensor readings with GPS locations. AI assistant will use this data for fast advice."})}),u.jsxs("button",{onClick:h,disabled:i,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center space-x-2",children:[u.jsx(go,{className:`h-4 w-4 ${i?"animate-pulse":""}`}),u.jsx("span",{children:i?e==="hi"?"डेटा डाला जा रहा है...":"Inserting data...":e==="hi"?"नमूना डेटा डालें":"Insert Sample Data"})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-4",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[u.jsx(tg,{className:"h-5 w-5 text-gray-400"}),u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e==="hi"?"ऐप की जानकारी":"App Info"})]}),u.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(zh,{className:"h-4 w-4"}),u.jsx("span",{children:e==="hi"?"मोबाइल के लिए अनुकूलित":"Mobile Optimized"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Wh,{className:"h-4 w-4"}),u.jsx("span",{children:e==="hi"?"GPS आधारित डेटा":"GPS-based Data"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(go,{className:"h-4 w-4"}),u.jsx("span",{children:e==="hi"?"तेज़ AI सहायक (<20s)":"Fast AI Assistant (<20s)"})]})]})]}),u.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/30 border border-yellow-200 dark:border-yellow-700 rounded-xl p-4",children:[u.jsx("h3",{className:"font-medium text-yellow-900 dark:text-yellow-400 mb-2 text-sm",children:e==="hi"?"उपयोग की युक्तियां":"Usage Tips"}),u.jsxs("ul",{className:"text-yellow-800 dark:text-yellow-300 text-xs space-y-1",children:[u.jsxs("li",{children:["• ",e==="hi"?"AI सहायक से तेज़ खेती की सलाह लें":"Get fast farming advice from AI assistant"]}),u.jsxs("li",{children:["• ",e==="hi"?"डैशबोर्ड को नियमित रूप से जांचें":"Check the dashboard regularly"]}),u.jsxs("li",{children:["• ",e==="hi"?"मैन्युअल डेटा जोड़ना न भूलें":"Don't forget to add manual observations"]}),u.jsxs("li",{children:["• ",e==="hi"?"सेंसर डेटा से स्थान अपने आप मिलता है":"Location is automatically detected from sensor data"]})]})]})]})},Wy=()=>{const{t}=Qt();return u.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 rounded-full p-4 w-20 h-20 mx-auto mb-4",children:u.jsx(Dh,{className:"h-12 w-12 text-blue-600 dark:text-blue-400 mx-auto"})}),u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:t("helpTitle")}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:t("simpleFarmMonitoringDesc")})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-8 mb-8",children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6 text-center",children:t("understandingColors")}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-green-50 dark:bg-green-900/20 rounded-xl",children:[u.jsx(Dn,{status:"optimal",size:"large"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:t("everythingGood")}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t("everythingGoodDesc")})]})]}),u.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-xl",children:[u.jsx(Dn,{status:"warning",size:"large"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:t("checkSoon")}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t("checkSoonDesc")})]})]}),u.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-red-50 dark:bg-red-900/20 rounded-xl",children:[u.jsx(Dn,{status:"critical",size:"large"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:t("takeActionNow")}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t("takeActionNowDesc")})]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[u.jsx(zh,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t("usingOnMobile")})]}),u.jsxs("ul",{className:"space-y-2 text-gray-600 dark:text-gray-400",children:[u.jsxs("li",{children:["• ",t("tapRefreshButton")]}),u.jsxs("li",{children:["• ",t("usePlusButton")]}),u.jsxs("li",{children:["• ",t("swipeLeftRight")]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[u.jsx(Wh,{className:"h-8 w-8 text-green-600 dark:text-green-400"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t("internetConnection")})]}),u.jsxs("ul",{className:"space-y-2 text-gray-600 dark:text-gray-400",children:[u.jsxs("li",{children:["• ",t("worksSlowInternet")]}),u.jsxs("li",{children:["• ",t("dataSavedAutomatically")]}),u.jsxs("li",{children:["• ",t("addDataOffline")]})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-8",children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6 text-center",children:t("commonQuestions")}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:t("howOftenCheck")}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t("howOftenCheckAnswer")})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:t("whatRedStatus")}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t("whatRedStatusAnswer")})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:t("useWithoutSensors")}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t("useWithoutSensorsAnswer")})]})]})]})]})},By=()=>{const[t,e]=N.useState([]),[r,n]=N.useState([]),[s,i]=N.useState(!1),[o,a]=N.useState({current:0,total:0}),[l,c]=N.useState(null),[d,h]=N.useState({total:0,successful:0,failed:0,avgResponseTime:0}),p=N.useRef(null),v=N.useRef(null),y=f=>{var S;const w=(S=f.target.files)==null?void 0:S[0];if(!w)return;const k=new FileReader;k.onload=b=>{var C;try{const R=(C=b.target)==null?void 0:C.result,A=ze.parseCsvToBulkTestCases(R);e(A),n([]),c(null)}catch(R){c(R instanceof Error?R.message:"Failed to parse CSV file")}},k.readAsText(w)},x=async()=>{if(t.length===0){c("Please upload a CSV file first");return}i(!0),c(null),n([]),a({current:0,total:t.length}),v.current=new AbortController;try{const f=await ze.processBulkQueries(t,(b,C,R)=>{a({current:b,total:C}),n(A=>[...A,R])}),w=f.filter(b=>b.status==="success").length,k=f.filter(b=>b.status==="error").length,S=f.reduce((b,C)=>b+C.responseTime,0)/f.length;h({total:f.length,successful:w,failed:k,avgResponseTime:S})}catch(f){c(f instanceof Error?f.message:"Failed to process test cases")}finally{i(!1)}},_=()=>{v.current&&(v.current.abort(),i(!1))},m=async f=>{if(r.length===0){c("No results to download");return}try{let w,k,S;f==="csv"?(w=await ze.exportBulkResultsToCSV(r),k=`ai-test-results-${new Date().toISOString().split("T")[0]}.csv`,S="text/csv"):(w=await ze.exportBulkResultsToJSON(r),k=`ai-test-results-${new Date().toISOString().split("T")[0]}.json`,S="application/json");const b=new Blob([w],{type:S}),C=URL.createObjectURL(b),R=document.createElement("a");R.href=C,R.download=k,document.body.appendChild(R),R.click(),document.body.removeChild(R),URL.revokeObjectURL(C)}catch(w){c(w instanceof Error?w.message:"Failed to download results")}},g=()=>{const f=`id,latitude,longitude,soil_moisture,soil_ph,nitrogen,phosphorus,potassium,crop_type,language
1,28.6139,77.2090,45,6.5,120,45,180,wheat,en
2,19.0760,72.8777,35,7.2,95,38,150,rice,en
3,13.0827,80.2707,55,6.8,110,42,165,tomato,en
4,22.5726,88.3639,40,7.0,100,40,160,potato,hi
5,23.0225,72.5714,30,6.2,85,35,145,corn,en
6,26.9124,75.7873,50,6.9,105,44,170,wheat,hi
7,12.9716,77.5946,38,7.1,115,46,175,rice,en
8,17.3850,78.4867,42,6.4,90,39,155,tomato,en
9,21.1458,79.0882,48,6.7,98,41,162,potato,hi
10,25.3176,82.9739,33,7.3,88,36,148,corn,en`,w=new Blob([f],{type:"text/csv"}),k=URL.createObjectURL(w),S=document.createElement("a");S.href=k,S.download="sample-test-cases.csv",document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(k)};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 p-4 md:p-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"🧪 AI Bulk Testing Suite"}),u.jsx("p",{className:"text-gray-600",children:"Test AI responses with multiple soil and environmental parameters"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-sm text-gray-500",children:"Hidden Route"}),u.jsx("div",{className:"text-xs text-gray-400",children:"/test-ai"})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[u.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[u.jsx(Wu,{className:"w-5 h-5 text-blue-600"}),"Upload Test Cases"]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition-colors cursor-pointer",onClick:()=>{var f;return(f=p.current)==null?void 0:f.click()},children:[u.jsx("input",{ref:p,type:"file",accept:".csv",onChange:y,className:"hidden"}),u.jsx(Wu,{className:"w-12 h-12 mx-auto text-gray-400 mb-3"}),u.jsx("p",{className:"text-gray-600 font-medium",children:"Click to upload CSV file"}),u.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"or drag and drop"})]}),u.jsxs("button",{onClick:g,className:"w-full px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[u.jsx(Uu,{className:"w-4 h-4"}),"Download Sample CSV Template"]}),t.length>0&&u.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[u.jsx(es,{className:"w-5 h-5"}),u.jsxs("span",{className:"font-medium",children:[t.length," test cases loaded"]})]})})]})]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[u.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[u.jsx(Fu,{className:"w-5 h-5 text-green-600"}),"Processing Control"]}),u.jsxs("div",{className:"space-y-4",children:[s?u.jsxs("button",{onClick:_,className:"w-full px-6 py-3 bg-red-500 hover:bg-red-600 text-white font-semibold rounded-lg flex items-center justify-center gap-2 transition-colors",children:[u.jsx(ug,{className:"w-5 h-5"}),"Stop Processing"]}):u.jsxs("button",{onClick:x,disabled:t.length===0,className:"w-full px-6 py-3 bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white font-semibold rounded-lg flex items-center justify-center gap-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(Fu,{className:"w-5 h-5"}),"Start Processing Tests"]}),s&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[u.jsx("span",{children:"Progress"}),u.jsxs("span",{className:"font-medium",children:[o.current," / ",o.total]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:u.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 h-full transition-all duration-300",style:{width:`${o.current/o.total*100}%`}})}),u.jsxs("div",{className:"text-center text-sm text-gray-500",children:["Processing ",o.current," of ",o.total," tests..."]}),u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-2",children:u.jsxs("div",{className:"flex items-center gap-2 text-blue-700 text-xs",children:[u.jsx("span",{className:"animate-pulse",children:"🌤️"}),u.jsx("span",{children:"Fetching real-time weather data from OpenWeather API for each location..."})]})})]}),r.length>0&&!s&&u.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[u.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Download Results"}),u.jsxs("button",{onClick:()=>m("csv"),className:"w-full px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg flex items-center justify-center gap-2 transition-colors",children:[u.jsx(Uu,{className:"w-4 h-4"}),"Download as CSV"]}),u.jsxs("button",{onClick:()=>m("json"),className:"w-full px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white rounded-lg flex items-center justify-center gap-2 transition-colors",children:[u.jsx(pi,{className:"w-4 h-4"}),"Download as JSON"]})]})]})]})]}),l&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:u.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[u.jsx(ga,{className:"w-5 h-5"}),u.jsx("span",{className:"font-medium",children:l})]})}),r.length>0&&u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[u.jsx("div",{className:"text-3xl font-bold text-blue-600",children:d.total}),u.jsx("div",{className:"text-sm text-gray-600",children:"Total Tests"})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[u.jsx("div",{className:"text-3xl font-bold text-green-600",children:d.successful}),u.jsx("div",{className:"text-sm text-gray-600",children:"Successful"})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[u.jsx("div",{className:"text-3xl font-bold text-red-600",children:d.failed}),u.jsx("div",{className:"text-sm text-gray-600",children:"Failed"})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[u.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[Math.round(d.avgResponseTime),"ms"]}),u.jsx("div",{className:"text-sm text-gray-600",children:"Avg Response Time"})]})]}),r.length>0&&u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[u.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[u.jsx(pi,{className:"w-5 h-5 text-blue-600"}),"Test Results (",r.length,")"]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-gray-200",children:[u.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"ID"}),u.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Status"}),u.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Location"}),u.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Parameters"}),u.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Response Time"}),u.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Preview"})]})}),u.jsx("tbody",{children:r.map(f=>u.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[u.jsx("td",{className:"py-3 px-4 text-gray-800 font-medium",children:f.id}),u.jsx("td",{className:"py-3 px-4",children:f.status==="success"?u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:[u.jsx(es,{className:"w-3 h-3"}),"Success"]}):u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-100 text-red-700 rounded-full text-xs font-medium",children:[u.jsx(ga,{className:"w-3 h-3"}),"Error"]})}),u.jsx("td",{className:"py-3 px-4 text-gray-600 text-sm",children:f.input.latitude&&f.input.longitude?`${f.input.latitude.toFixed(2)}, ${f.input.longitude.toFixed(2)}`:"-"}),u.jsx("td",{className:"py-3 px-4 text-gray-600 text-sm",children:u.jsxs("div",{className:"space-y-1",children:[f.input.soilMoisture&&u.jsxs("div",{children:["💧 Moisture: ",f.input.soilMoisture,"%"]}),f.input.soilPH&&u.jsxs("div",{children:["⚗️ pH: ",f.input.soilPH]}),f.weatherData&&u.jsxs("div",{className:"text-blue-600",children:["🌤️ ",f.weatherData.temperature,"°C, ",f.weatherData.humidity,"%"]}),f.input.cropType&&u.jsxs("div",{children:["🌾 ",f.input.cropType]})]})}),u.jsx("td",{className:"py-3 px-4",children:u.jsxs("span",{className:"inline-flex items-center gap-1 text-gray-600 text-sm",children:[u.jsx(Rh,{className:"w-3 h-3"}),Math.round(f.responseTime),"ms"]})}),u.jsx("td",{className:"py-3 px-4",children:u.jsxs("details",{className:"text-sm",children:[u.jsx("summary",{className:"cursor-pointer text-blue-600 hover:text-blue-700 font-medium",children:"View Details"}),u.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg max-w-md",children:[f.weatherData&&u.jsxs("div",{className:"mb-3 pb-3 border-b border-gray-200",children:[u.jsx("div",{className:"font-semibold text-gray-700 mb-2",children:"Weather Data (Auto-fetched)"}),u.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[u.jsxs("div",{children:["🌡️ Temperature: ",f.weatherData.temperature,"°C"]}),u.jsxs("div",{children:["💧 Humidity: ",f.weatherData.humidity,"%"]}),u.jsxs("div",{children:["🌤️ Condition: ",f.weatherData.weather_description]}),u.jsxs("div",{children:["💨 Wind: ",f.weatherData.wind_speed," km/h"]}),f.weatherData.rainfall>0&&u.jsxs("div",{children:["🌧️ Rainfall: ",f.weatherData.rainfall,"mm"]})]})]}),u.jsx("div",{className:"text-gray-700 text-xs whitespace-pre-wrap break-words",children:f.status==="success"?f.response.substring(0,200)+"...":f.error})]})]})})]},f.id))})]})})]}),u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mt-6",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"📋 CSV Format Instructions"}),u.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-blue-700 font-medium mb-1",children:[u.jsx("span",{children:"🌤️"}),u.jsx("span",{children:"Weather Data Auto-Fetched"})]}),u.jsx("p",{className:"text-xs text-blue-600",children:"Weather data (temperature, humidity, conditions, wind speed, rainfall) is automatically fetched from OpenWeather API for each latitude/longitude. You don't need to include temperature or humidity in your CSV!"})]}),u.jsx("p",{children:u.jsx("strong",{children:"Required Headers:"})}),u.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[u.jsxs("li",{children:[u.jsx("code",{children:"id"})," - Unique identifier for each test case"]}),u.jsxs("li",{children:[u.jsx("code",{children:"latitude"})," - Geographic latitude (decimal) - ",u.jsx("strong",{children:"Required for weather data"})]}),u.jsxs("li",{children:[u.jsx("code",{children:"longitude"})," - Geographic longitude (decimal) - ",u.jsx("strong",{children:"Required for weather data"})]}),u.jsxs("li",{children:[u.jsx("code",{children:"soil_moisture"})," - Soil moisture percentage (optional)"]}),u.jsxs("li",{children:[u.jsx("code",{children:"soil_ph"})," - Soil pH value (optional)"]}),u.jsxs("li",{children:[u.jsx("code",{children:"nitrogen"})," - Nitrogen content in mg/kg (optional)"]}),u.jsxs("li",{children:[u.jsx("code",{children:"phosphorus"})," - Phosphorus content in mg/kg (optional)"]}),u.jsxs("li",{children:[u.jsx("code",{children:"potassium"})," - Potassium content in mg/kg (optional)"]}),u.jsxs("li",{children:[u.jsx("code",{children:"crop_type"})," - Type of crop like wheat, rice, tomato (optional)"]}),u.jsxs("li",{children:[u.jsx("code",{children:"language"})," - Response language: ",u.jsx("code",{children:"en"})," or ",u.jsx("code",{children:"hi"})," (optional, defaults to en)"]})]}),u.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mt-3",children:u.jsxs("p",{className:"text-xs text-yellow-700",children:[u.jsx("strong",{children:"Note:"})," Temperature and humidity fields are no longer needed in CSV as they're automatically fetched from OpenWeather API based on the location coordinates!"]})}),u.jsx("p",{className:"mt-4",children:u.jsx("strong",{children:"Minimal CSV Example:"})}),u.jsxs("pre",{className:"bg-gray-100 p-3 rounded text-xs overflow-x-auto",children:["id,latitude,longitude,soil_ph,nitrogen,phosphorus,potassium,crop_type",`
`,"1,28.6139,77.2090,6.5,120,45,180,wheat",`
`,"2,19.0760,72.8777,7.2,95,38,150,rice"]}),u.jsx("p",{className:"mt-4",children:u.jsx("strong",{children:"Processing Flow:"})}),u.jsxs("ol",{className:"list-decimal list-inside ml-4 space-y-1",children:[u.jsx("li",{children:"Upload your CSV with soil nutrition data and coordinates"}),u.jsx("li",{children:"System fetches real-time weather for each location from OpenWeather"}),u.jsx("li",{children:"AI analyzes soil + weather data to provide comprehensive advice"}),u.jsx("li",{children:"Download results with fetched weather data included"})]})]})]})]})})},Hy=()=>{const[t,e]=N.useState(!0),[r,n]=N.useState("dashboard");if(N.useEffect(()=>{window.location.pathname==="/test-ai"&&n("test-ai"),(async()=>{try{await new Promise(a=>setTimeout(a,1e3))}catch(a){console.error("Error initializing app:",a)}finally{e(!1)}})()},[]),t)return u.jsx(Bu,{children:u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:u.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-green-500"})})});const s=()=>{switch(r){case"dashboard":return u.jsx(mc,{});case"manual-entry":return u.jsx(zy,{});case"ai-chatbot":return u.jsx($y,{});case"help":return u.jsx(Wy,{});case"settings":return u.jsx(Fy,{});case"test-ai":return u.jsx(By,{});default:return u.jsx(mc,{})}};return u.jsx(Bu,{children:u.jsx(Gm,{children:u.jsx(qm,{children:u.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[r!=="test-ai"&&u.jsx(Ly,{activeTab:r,onTabChange:n}),u.jsx("main",{className:r==="test-ai"?"":"py-6",children:s()})]})})})})};function Vy(t={}){const{immediate:e=!1,onNeedRefresh:r,onOfflineReady:n,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=t;let a,l;const c=async(h=!0)=>{await l};async function d(){if("serviceWorker"in navigator){if(a=await sn(async()=>{const{Workbox:h}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:h}},[]).then(({Workbox:h})=>new h("/sw.js",{scope:"/",type:"classic"})).catch(h=>{o==null||o(h)}),!a)return;a.addEventListener("activated",h=>{(h.isUpdate||h.isExternal)&&window.location.reload()}),a.addEventListener("installed",h=>{h.isUpdate||n==null||n()}),a.register({immediate:e}).then(h=>{i?i("/sw.js",h):s==null||s(h)}).catch(h=>{o==null||o(h)})}}return l=d(),c}const qy=Vy({onNeedRefresh(){confirm("New content available. Reload to update?")&&qy(!0)},onOfflineReady(){console.log("App ready to work offline"),"Notification"in window&&Notification.permission==="granted"&&new Notification("FarmBot AI",{body:"App is ready to work offline!",icon:"/icons/icon-192x192.png"})},onRegisteredSW(t){console.log("Service Worker registered:",t)},onRegisterError(t){console.error("Service Worker registration error:",t)}});Ch(document.getElementById("root")).render(u.jsx(N.StrictMode,{children:u.jsx(Hy,{})}));
